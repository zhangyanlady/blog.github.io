<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="future.zhangyan">



    <meta name="description" content="未来可期">



<title>渗透步骤 | Hexo</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    




	<!--动态线条背景-->

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
    <div class="wrapper">
        <header>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
	  <script type="text/javascript" src="C:/Users/zhangyan/Desktop/blog/themes/next/source/js"></script>

    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">张艳&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/book">Book</a>
                
                    <a class="menu-item" href="/bangumis">Bangumis</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
				<label for="switch_default" class="toggleBtn"></label>
         
				<div class="search bar7">
					<form id="search-form"> <!-- 搜索框相关 -->
						<input type="text" id="local-search-input" name="q" results="0" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off"/>
						<button type="submit" class="search-form-submit"></button>
						<i class="fa fa-times" onclick="resetSearch()"></i> <!-- 清空/重置搜索框 -->
					</form>
					<div class="ins-section-wrapper">
						<div class="ins-section-container"></div>
					</div>
					<div id="local-search-result"></div> <!-- 搜索结果区 -->
						<p class='no-result'>No results found </p> <!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 -->
					</div>


        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">张艳&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/book">Book</a>
                
                    <a class="menu-item" href="/bangumis">Bangumis</a>
                
            </div>


        </div>
    </nav>

</header>
<style type="text/css">
	* {
		box-sizing:border-box;
	}
	body {
		margin:0;
		padding:0;
		background-image:url(ydrzimages/p3.jpg);
		font-weight:500;
		font-family:"Microsoft YaHei","宋体","Segoe UI","Lucida Grande",Helvetica,Arial,sans-serif,FreeSans,Arimo;
	}
	#container {
		width:500px;
		height:820px;
		margin:0 auto;
	}
	div.search {
		padding:10px 0;
		margin-left:200px
	}
	form {
		position:relative;
		width:300px;
		margin:0 auto;
	}
	input,button {
		border:none;
		outline:none;
	}
	input {
		width:100%;
		height:42px;
		padding-left:13px;
	}
	button {
		height:42px;
		width:42px;
		cursor:pointer;
		position:absolute;
	}
	/*搜索框7*/
		  
	.bar7 form {
		height:42px;
	}
	.bar7 input {
		width:200px;
		border-radius:42px;
		border:2px solid #324B4E;
		transition:.3s linear;
		float:right;
	}
	.bar7 input:focus {
		width:300px;
	}
	.bar7 button {
		background:none;
		top:-2px;
		right:20px;
	}
	.bar7 button:before {
		content:"点..";
		font-family:FontAwesome;
		color:#324b4e;
	}
	.no-result{
		display:none
	}
</style>

<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">渗透步骤</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">future.zhangyan</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">December 20, 2019&nbsp;&nbsp;19:30:24</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <p>渗透测试步骤：<strong>渗透测试与入侵的最大区别</strong></p>
<p>渗透测试：出于保护系统的目的，更全面地找出测试对象的安全隐患。</p>
<p>入侵：不择手段地（甚至是具有破坏性的）拿到系统权限。</p>
<p><strong>一般渗透测试流程</strong></p>
<p><img src="/image/%E6%B5%81%E7%A8%8B.jpg"></p>
<p>流程并非万能，只是一个工具。思考与流程并用，结合自己经验。</p>
<p><strong>2.1</strong> <strong>明确目标</strong></p>
<p>确定范围：测试目标的范围，ip，域名，内外网</p>
<p>确定规则：能渗透到什么程度，时间？能否修改上传？能否提权等。</p>
<p>确定需求：web应用的漏洞(新上线程序)？业务逻辑漏洞（针对业务的）？人员权限管理漏洞（针对人员、权限）？等等。（立体全方位）</p>
<p>根据需求和自己技术能力来确定能不能做，能做多少。</p>
<p><strong>2.2</strong> <strong>信息收集</strong></p>
<p>方式：主动扫描，开放搜索等</p>
<p>开放搜索：利用搜索引擎获得，后台，未授权页面，敏感url等。</p>
<p>基础信息：IP，网段，域名，端口</p>
<p>系统信息：操作系统版本</p>
<p>应用信息：各端口的应用，例如web应用，邮件应用等等</p>
<p>版本信息：所有这些探测到的东西的版本。</p>
<p>服务信息</p>
<p>人员信息：域名注册人员信息，web应用中网站发帖人的id，管理员姓名等。</p>
<p>防护信息：试着看能否探测到防护设备</p>
<p><strong>2.3</strong> <strong>漏洞探索</strong></p>
<p>利用上一步中列出的各种系统，应用等使用相应的漏洞。</p>
<p>方法：</p>
<p>1.漏扫，awvs，IBM</p>
<p>appscan等。</p>
<p>2.结合漏洞去exploit-db等位置找利用。</p>
<p>3.在网上寻找验证poc。</p>
<p><strong>内容：</strong></p>
<p>系统漏洞：系统没有及时打补丁</p>
<p>Websever漏洞：Websever配置问题</p>
<p>Web应用漏洞：Web应用开发问题</p>
<p>其它端口服务漏洞：各种21/8080(st2)/7001/22/3389</p>
<p>通信安全：明文传输，token在cookie中传送等。</p>
<p><strong>2.4</strong> <strong>漏洞验证</strong></p>
<p>将上一步中发现的有可能可以成功利用的全部漏洞都验证一遍。结合实际情况，搭建模拟环境进行试验。成功后再应用于目标中。</p>
<p>自动化验证：结合自动化扫描工具提供的结果</p>
<p>手工验证，根据公开资源进行验证</p>
<p>试验验证：自己搭建模拟环境进行验证</p>
<p>登陆猜解：有时可以尝试猜解一下登陆口的账号密码等信息</p>
<p>业务漏洞验证：如发现业务漏洞，要进行验证</p>
<p>公开资源的利用</p>
<p>-exploit-db/wooyun/</p>
<p>-google</p>
<p>hacking</p>
<p>-渗透代码网站</p>
<p>-通用、缺省口令</p>
<p>-厂商的漏洞警告等等。</p>
<p><strong>2.5</strong> <strong>信息分析</strong></p>
<p>为下一步实施渗透做准备。</p>
<p>精准打击：准备好上一步探测到的漏洞的exp，用来精准打击</p>
<p>绕过防御机制：是否有防火墙等设备，如何绕过</p>
<p>定制攻击路径：最佳工具路径，根据薄弱入口，高内网权限位置，最终目标</p>
<p>绕过检测机制：是否有检测机制，流量监控，杀毒软件，恶意代码检测等（免杀）</p>
<p>攻击代码：经过试验得来的代码，包括不限于xss代码，sql注入语句等</p>
<p><strong>2.6</strong> <strong>获取所需</strong></p>
<p>实施攻击：根据前几步的结果，进行攻击</p>
<p>获取内部信息：基础设施（网络连接，vpn，路由，拓扑等）</p>
<p>进一步渗透：内网入侵，敏感目标</p>
<p>持续性存在：一般我们对客户做渗透不需要。rookit，后门，添加管理账号，驻扎手法等</p>
<p>清理痕迹：清理相关日志（访问，操作），上传文件等</p>
<p><strong>2.7</strong> <strong>信息整理</strong></p>
<p>整理渗透工具：整理渗透过程中用到的代码，poc，exp等</p>
<p>整理收集信息：整理渗透过程中收集到的一切信息</p>
<p>整理漏洞信息：整理渗透过程中遇到的各种漏洞，各种脆弱位置信息</p>
<p>目的：为了最后形成报告，形成测试结果使用。</p>
<p><strong>2.8</strong> <strong>形成报告</strong></p>
<p>按需整理：按照之前第一步跟客户确定好的范围，需求来整理资料，并将资料形成报告</p>
<p>补充介绍：要对漏洞成因，验证过程和带来危害进行分析</p>
<p>修补建议：当然要对所有产生的问题提出合理高效安全的解决办法</p>
<p><strong>2.9</strong> <strong>流程总结</strong></p>
<p><img src="/image/%E6%80%BB%E7%BB%93.jpg"></p>
<p><strong>渗透测试相关名词解析</strong></p>
<p><strong>1.1</strong> <strong>一些前置知识（包含但不限于）</strong></p>
<p>脚本（asp、php、jsp）</p>
<p>html（css、js、html）</p>
<p>HTTP协议</p>
<p>CMS（B/S）</p>
<p><strong>1.2</strong> <strong>肉鸡</strong></p>
<p>被黑客入侵并被长期驻扎的计算机或服务器。可以随意控制，可以是任意系统的设备，对象可以是企业，个人，政府等等所有单位。</p>
<p><strong>1.3</strong> <strong>抓鸡</strong></p>
<p>利用使用量大的程序的漏洞，使用自动化方式获取肉鸡的行为。</p>
<p><strong>1.4 Webshell</strong></p>
<p>通过Web入侵的一种脚本工具，可以据此对网站服务进行一定程度的控制。</p>
<p><strong>1.5</strong> <strong>漏洞</strong></p>
<p>硬件、软件、协议等等的可利用安全缺陷，可能被攻击者利用，对数据进行篡改，控制等。</p>
<p><strong>1.6</strong> <strong>木马</strong></p>
<p>通过向服务端提交一句简短的代码，配合本地客户端实现webshell功能的木马。</p>
<p>&lt;%eval</p>
<p>request(“pass”)%&gt;</p>
<p>&lt;%execute(request(“pass”))%&gt;</p>
<p>request(“pass”)接收客户端提交的数据，pass为执行命令的参数值。</p>
<p>eval/execute   函数执行客户端命令的内容</p>
<p><strong>1.7</strong> <strong>提权</strong></p>
<p>操作系统低权限的账户将自己提升为管理员权限使用的方法。</p>
<p><strong>1.8</strong> <strong>后门</strong></p>
<p>黑客为了对主机进行长期的控制，在机器上种植的一段程序或留下的一个“入口”。</p>
<p><strong>1.9</strong> <strong>跳板</strong></p>
<p>使用肉鸡IP来实施攻击其他目标，以便更好的隐藏自己的身份信息。</p>
<p><strong>1.10</strong> <strong>旁站入侵</strong></p>
<p>即同服务器下的网站入侵，入侵之后可以通过提权跨目录等手段拿到目标网站的权限。常见的旁站查询工具有：WebRobot、御剑、明小子和web在线查询等</p>
<p><strong>1.11 C**</strong>段入侵**</p>
<p>即同C段下服务器入侵。如目标ip为192.168.180.253 入侵192.168.180.*的任意一台机器，然后利用一些黑客工具嗅探获取在网络上传输的各种信息。常用的工具有：在windows下有Cain，在UNIX环境下有Sniffit, Snoop, Tcpdump, Dsniff 等。</p>
<p><strong>1.12</strong> <strong>黑盒测试</strong></p>
<p>在未授权的情况下，模拟黑客的攻击方法和思维方式，来评估计算机网络系统可能存在的安全风险。</p>
<p>黑盒测试不同于黑客入侵，并不等于黑站。黑盒测试考验的是综合的能力（OS、Datebase、Script、code、思路、社工）。思路与经验积累往往决定成败。</p>
<p><strong>1.13</strong> <strong>白盒测试</strong></p>
<p>相对黑盒测试，白盒测试基本是从内部发起。白盒测试与黑盒测试恰恰相反，测试者可以通过正常渠道向被测单位取得各种资料，包括网络拓扑、员工资料甚至网站或其它程序的代码片断，也能够与单位的其它员工（销售、程序员、管理者……）进行面对面的沟通。</p>
<p><strong>1.13</strong> <strong>黑白盒的另一种说法</strong></p>
<p>知道源代码和不知道源代码的渗透测试。这时，黑盒测试还是传统的渗透测试，而白盒测试就偏向于代码审计。</p>
<p><strong>1.14 APT**</strong>攻击**</p>
<p>Advanced</p>
<p>Persistent Threat，高级可持续性攻击，是指组织(特别是政府)或者小团体利用先进的攻击手段对特定目标进行长期持续性网络攻击的攻击形式。</p>
<p>1.极强的隐蔽性</p>
<p>2.潜伏期长，持续性强</p>
<p>3.目标性强</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>future.zhangyan</span>
                    </p>
                
				
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://zhangyanlady.github.io/2019/12/20/%E6%B8%97%E9%80%8F%E6%AD%A5%E9%AA%A4/">https://zhangyanlady.github.io/2019/12/20/%E6%B8%97%E9%80%8F%E6%AD%A5%E9%AA%A4/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>The future can be expected, the world is worth it.</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2019/12/20/%E8%B6%8A%E6%9D%83%E3%80%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/">越权、逻辑漏洞</a>
            
            
            <a class="next" rel="next" href="/2019/12/18/PHP%E5%8F%8Amysql%E6%95%B0%E6%8D%AE%E5%BA%93/">PHP及mysql数据库</a>
            
        </section>
			</br>
			

</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© future.zhangyan | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
	<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
</footer>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

    </div>


	
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
